{"version":3,"file":"js/app.b8173527.js","mappings":"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","sources":["webpack://scratch-project/./src/App.vue","webpack://scratch-project/./src/App.vue?7ccd","webpack://scratch-project/./src/views/HomeView.vue?f906","webpack://scratch-project/./src/views/HomeView.vue","webpack://scratch-project/./src/components/HelloWorld.vue?97b9","webpack://scratch-project/./src/components/HelloWorld.vue","webpack://scratch-project/./src/components/HelloWorld.vue?bd04","webpack://scratch-project/./src/views/HomeView.vue?1da1","webpack://scratch-project/./src/views/ScratchView.vue?7323","webpack://scratch-project/./src/views/ScratchView.vue","webpack://scratch-project/./src/views/ScratchView.vue?f84c","webpack://scratch-project/./src/views/ScratchView2.vue?4113","webpack://scratch-project/./src/views/ScratchView2.vue","webpack://scratch-project/./src/views/ScratchView2.vue?4c30","webpack://scratch-project/./src/utils/imageTransfer.ts","webpack://scratch-project/./src/components/UploadImageToBase64Components.vue?ebe1","webpack://scratch-project/./src/components/UploadImageToBase64Components.vue","webpack://scratch-project/./src/components/UploadImageToBase64Components.vue?362e","webpack://scratch-project/./src/stores/scratchConfig.ts","webpack://scratch-project/./src/views/ScratchViewNew.vue?6844","webpack://scratch-project/./src/views/ScratchViewNew.vue","webpack://scratch-project/./src/views/ScratchViewNew.vue?1b0b","webpack://scratch-project/./src/views/ScratchViewNew2.vue?928b","webpack://scratch-project/./src/views/ScratchViewNew2.vue","webpack://scratch-project/./src/views/ScratchViewNew2.vue?7c8c","webpack://scratch-project/./src/router/index.ts","webpack://scratch-project/./src/main.ts","webpack://scratch-project/./src/resources/web_image.ts","webpack://scratch-project/./src/components/ScratchComponents.vue?5492","webpack://scratch-project/./src/components/ScratchComponents.vue","webpack://scratch-project/./src/components/ScratchComponents.vue?0673","webpack://scratch-project/./src/components/ScratchSettingComponents.vue?90ec","webpack://scratch-project/./src/components/ScratchSettingComponents.vue","webpack://scratch-project/./src/components/ScratchSettingComponents.vue?8fdf","webpack://scratch-project/webpack/bootstrap","webpack://scratch-project/webpack/runtime/chunk loaded","webpack://scratch-project/webpack/runtime/compat get default export","webpack://scratch-project/webpack/runtime/define property getters","webpack://scratch-project/webpack/runtime/ensure chunk","webpack://scratch-project/webpack/runtime/get javascript chunk filename","webpack://scratch-project/webpack/runtime/get mini-css chunk filename","webpack://scratch-project/webpack/runtime/global","webpack://scratch-project/webpack/runtime/hasOwnProperty shorthand","webpack://scratch-project/webpack/runtime/load script","webpack://scratch-project/webpack/runtime/make namespace object","webpack://scratch-project/webpack/runtime/publicPath","webpack://scratch-project/webpack/runtime/css loading","webpack://scratch-project/webpack/runtime/jsonp chunk loading","webpack://scratch-project/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<style>\n\nhtml, body {\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  height: 100%;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=6b773836\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=6b773836&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from '../assets/logo.png'\n\n\nconst _hoisted_1 = { class: \"home\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_HelloWorld = _resolveComponent(\"HelloWorld\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[0] || (_cache[0] = _createElementVNode(\"img\", {\n      alt: \"Vue logo\",\n      src: _imports_0\n    }, null, -1)),\n    _createVNode(_component_HelloWorld, { msg: \"Welcome to Your Vue.js + TypeScript App\" })\n  ]))\n}","<template>\n  <div class=\"home\">\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\n    <HelloWorld msg=\"Welcome to Your Vue.js + TypeScript App\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport HelloWorld from '@/components/HelloWorld.vue'; // @ is an alias to /src\n\n@Options({\n  components: {\n    HelloWorld,\n  },\n})\nexport default class HomeView extends Vue {}\n</script>\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"hello\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h1\", null, _toDisplayString(_ctx.msg), 1),\n    _cache[0] || (_cache[0] = _createStaticVNode(\"<p data-v-a3f1cce2> For a guide and recipes on how to configure / customize this project,<br data-v-a3f1cce2> check out the <a href=\\\"https://cli.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-cli documentation</a>. </p><h3 data-v-a3f1cce2>Installed CLI Plugins</h3><ul data-v-a3f1cce2><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>babel</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>router</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>eslint</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>e2e-cypress</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>typescript</a></li></ul><h3 data-v-a3f1cce2>Essential Links</h3><ul data-v-a3f1cce2><li data-v-a3f1cce2><a href=\\\"https://vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Core Docs</a></li><li data-v-a3f1cce2><a href=\\\"https://forum.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Forum</a></li><li data-v-a3f1cce2><a href=\\\"https://chat.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Community Chat</a></li><li data-v-a3f1cce2><a href=\\\"https://twitter.com/vuejs\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Twitter</a></li><li data-v-a3f1cce2><a href=\\\"https://news.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>News</a></li></ul><h3 data-v-a3f1cce2>Ecosystem</h3><ul data-v-a3f1cce2><li data-v-a3f1cce2><a href=\\\"https://router.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-router</a></li><li data-v-a3f1cce2><a href=\\\"https://vuex.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vuex</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-devtools#vue-devtools\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-devtools</a></li><li data-v-a3f1cce2><a href=\\\"https://vue-loader.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-loader</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/awesome-vue\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>awesome-vue</a></li></ul>\", 7))\n  ]))\n}","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <p>\n      For a guide and recipes on how to configure / customize this project,<br>\n      check out the\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-cli documentation</a>.\n    </p>\n    <h3>Installed CLI Plugins</h3>\n    <ul>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\" rel=\"noopener\">babel</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\" target=\"_blank\" rel=\"noopener\">router</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\" rel=\"noopener\">eslint</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress\" target=\"_blank\" rel=\"noopener\">e2e-cypress</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript\" target=\"_blank\" rel=\"noopener\">typescript</a></li>\n    </ul>\n    <h3>Essential Links</h3>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\">Forum</a></li>\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\">Community Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\">Twitter</a></li>\n      <li><a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a></li>\n    </ul>\n    <h3>Ecosystem</h3>\n    <ul>\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-router</a></li>\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\" rel=\"noopener\">vue-devtools</a></li>\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\" rel=\"noopener\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\n\n@Options({\n  props: {\n    msg: String\n  }\n})\nexport default class HelloWorld extends Vue {\n  msg!: string\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./HelloWorld.vue?vue&type=template&id=a3f1cce2&scoped=true&ts=true\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=ts\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=ts\"\n\nimport \"./HelloWorld.vue?vue&type=style&index=0&id=a3f1cce2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a3f1cce2\"]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=74582936&ts=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=ts\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, Transition as _Transition, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewBody\" }\nconst _hoisted_4 = { class: \"scratch-object\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"showScratchDiv\" }\nconst _hoisted_7 = { class: \"prize\" }\nconst _hoisted_8 = { class: \"prizeShowDiv\" }\nconst _hoisted_9 = { class: \"prizeString\" }\nconst _hoisted_10 = { class: \"scratch-setting\" }\nconst _hoisted_11 = { class: \"showAllSetting\" }\nconst _hoisted_12 = { class: \"scratchRadiusValue\" }\nconst _hoisted_13 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_14 = { class: \"showSetting\" }\nconst _hoisted_15 = { class: \"setting-field-div\" }\nconst _hoisted_16 = { class: \"tableDiv\" }\nconst _hoisted_17 = { class: \"scratch-action\" }\nconst _hoisted_18 = { class: \"scratchViewResult\" }\nconst _hoisted_19 = { class: \"tableDiv\" }\nconst _hoisted_20 = { class: \"tableData\" }\nconst _hoisted_21 = { class: \"tableDiv\" }\nconst _hoisted_22 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchView',\n  setup(__props) {\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - 隨機選項:${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"電子刮刮樂\";\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[22] || (_cache[22] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[20] || (_cache[20] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(ImagePath).backGroundImage_letizia_1\n          }, null, 8, _hoisted_5),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '刮一刮文字',\n              imageUrl: imageUrl.value,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"label\", _hoisted_9, _toDisplayString(prize.value), 1)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: openSetting\n          }, _toDisplayString(isSettingOpen.value ? '收回獎項設定' : '打開獎項設定'), 1),\n          _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"div\", _hoisted_12, [\n                  _createElementVNode(\"h2\", _hoisted_13, \"刮刮樂刮除半徑 \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '20vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"修改\"),\n                    _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_16, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n                      class: \"tableTitle\",\n                      style: {backgroundColor: '#2e99dc'}\n                    }, \"中獎項目\", -1)),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeArray.value, (item, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        class: \"tableData\",\n                        key: index\n                      }, _toDisplayString(item), 1))\n                    }), 128))\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: reset\n          }, \"開始刮刮 / 重新刮刮\"),\n          _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: isScratchComplete.value ? '#d1c4e9' : '#f2f2f2'}),\n            onClick: removePrice\n          }, \"移除此獎項\", 4),\n          _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"重置設定的獎項\"),\n          _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"清除中獎紀錄\"),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_19, [\n          _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"本次中獎\", -1)),\n          _createElementVNode(\"div\", _hoisted_20, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_21, [\n          _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"中獎紀錄\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_22, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ]),\n        _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1))\n      ]),\n      _cache[21] || (_cache[21] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"scratchView\">\r\n    <br/>\r\n    <div class=\"scratchViewRow\">\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n      <div class=\"scratchViewBody\">\r\n        <br/>\r\n        <div class=\"scratch-object\">\r\n          <img class=\"backgroundImg\" :src=\"ImagePath.backGroundImage_letizia_1\"/>\r\n          <div class=\"showScratchDiv\">\r\n            <ScratchComponents \r\n              ref=\"scratchCard\" \r\n              :scratchPercent=\"70\" \r\n              :maskColor=\"'skyblue'\" \r\n              :fillStyle=\"'red'\" \r\n              :font=\"'30px Arial'\" \r\n              :text=\"'刮一刮文字'\" \r\n              :imageUrl=\"imageUrl\" \r\n              :radius=\"5\" \r\n              :scratchRadius=\"scratchRadius*sliderValue/100\" \r\n              @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n              @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                <div class=\"prize\">\r\n                  <div class=\"prizeShowDiv\">\r\n                    <label class=\"prizeString\">{{ prize }}</label>\r\n                  </div>\r\n                </div>\r\n            </ScratchComponents>\r\n          </div>\r\n        </div>\r\n        <br/><br/><br/>\r\n        <div class=\"scratch-setting\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting\">{{ isSettingOpen ? '收回獎項設定' : '打開獎項設定' }}</div>\r\n          <br/>\r\n          <transition name=\"slider\">\r\n            <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n              <div class=\"scratchRadiusValue\">\r\n                <h2 class=\"showScratchRadiusValue\">刮刮樂刮除半徑 {{ sliderValue }}%</h2>\r\n                <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n              </div>\r\n              <br/>\r\n              <div class=\"showSetting\">\r\n                <div class=\"setting-field-div\">\r\n                  <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '20vw', height: '20px'}\" @click=\"prizeAdd\">修改</div>\r\n                  <br/>\r\n                  <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                </div>\r\n                <div class=\"tableDiv\">\r\n                  <div class=\"tableTitle\" :style=\"{backgroundColor: '#2e99dc'}\">中獎項目</div>\r\n                  <div v-for=\"(item, index) in prizeArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n        <br/>\r\n        <div class=\"scratch-action\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"reset\">開始刮刮 / 重新刮刮</div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\">移除此獎項</div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\">重置設定的獎項</div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\">清除中獎紀錄</div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n      <div class=\"scratchViewResult\">\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\">本次中獎</div>\r\n          <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n        </div>\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\">中獎紀錄</div>\r\n          <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n          <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n        </div>\r\n        <br/>\r\n      </div>\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - 隨機選項:${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"電子刮刮樂\";\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scratchView {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  background-color: #1ED760;\r\n  min-height: 100vh;\r\n  padding: 10px;\r\n}\r\n\r\n.scratchViewRow {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n}\r\n\r\n.scratchViewBody {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 50vw;\r\n}\r\n\r\n.scratchViewResult {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 40vw;\r\n}\r\n\r\n.backgroundImg {\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n  object-fit: contain;\r\n  z-index: 1;\r\n}\r\n\r\n.scratch-object {\r\n  position: relative;\r\n  user-select: none;\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n}\r\n\r\n.showScratchDiv {\r\n  position: absolute;\r\n  top: min(168.4px, 8.42vw);\r\n  left: min(299px, 14.95vw);\r\n  z-index: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prize {\r\n  width: 20.5vw;\r\n  max-width: 410px;\r\n  height: 12.025vw;\r\n  max-height: 240.5px;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.prizeImg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: auto;\r\n  object-fit: contain;\r\n}\r\n\r\n.prizeShowDiv {\r\n  position: absolute;\r\n  width: 20.5vw;\r\n  max-width: 410px;\r\n  height: 12.025vw;\r\n  max-height: 240.5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prizeString {\r\n  position: absolute;\r\n  font-size: large;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: black;\r\n  font-weight: bold;\r\n}\r\n\r\n.scratch-setting {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.showAllSetting {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.scratchRadiusValue {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.showScratchRadiusValue {\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.showSetting {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 5%;\r\n  width: 100%;\r\n  height: auto;\r\n  justify-content: center;\r\n}\r\n\r\n.slide-enter-active,\r\n.slide-leave-active {\r\ntransition: max-height 0.3s ease, padding 0.3s ease;\r\n}\r\n\r\n.slide-enter-from,\r\n.slide-leave-to {\r\nmax-height: 0;\r\npadding: 0 20px;\r\nopacity: 0;\r\n}\r\n\r\n.setting-field-div {\r\n  width: 20vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.setting-field {\r\n  width: 90%;\r\n  height: auto;\r\n  resize: vertical;\r\n  font-size: medium;\r\n  min-height: 20vw;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.scratch-action {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n}\r\n\r\n.btn-reset {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 30vw;\r\n  height: 50px;\r\n  border: 2px solid silver;\r\n  border-radius: 15px;\r\n  padding: 10px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  font-size: large;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.tableDiv {\r\n  width: 20vw;\r\n  height: auto;\r\n  border: 2px solid silver;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.tableTitle {\r\n  background-color: #9575cd;\r\n  color: white;\r\n  padding: 10px;\r\n  font-size: large;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  border-bottom: 1px solid silver;\r\n}\r\n\r\n.tableData {\r\n  color: #333;\r\n  padding: 15px;\r\n  font-size: medium;\r\n  line-height: 1.6;\r\n}\r\n\r\n</style>","import script from \"./ScratchView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchView.vue?vue&type=style&index=0&id=40f81560&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40f81560\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, Transition as _Transition, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewBody\" }\nconst _hoisted_4 = { class: \"scratch-object\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"showScratchDiv\" }\nconst _hoisted_7 = { class: \"prize\" }\nconst _hoisted_8 = { class: \"prizeShowDiv\" }\nconst _hoisted_9 = { class: \"prizeString\" }\nconst _hoisted_10 = { class: \"scratch-setting\" }\nconst _hoisted_11 = { class: \"showAllSetting\" }\nconst _hoisted_12 = { class: \"scratchRadiusValue\" }\nconst _hoisted_13 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_14 = { class: \"showSetting\" }\nconst _hoisted_15 = { class: \"setting-field-div\" }\nconst _hoisted_16 = { class: \"tableDiv\" }\nconst _hoisted_17 = { class: \"scratch-action\" }\nconst _hoisted_18 = { class: \"scratchViewResult\" }\nconst _hoisted_19 = { class: \"tableDiv\" }\nconst _hoisted_20 = { class: \"tableData\" }\nconst _hoisted_21 = { class: \"tableDiv\" }\nconst _hoisted_22 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchView2',\n  setup(__props) {\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - 隨機選項:${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"電子刮刮樂\";\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[22] || (_cache[22] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[20] || (_cache[20] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(ImagePath).backGroundImage_rekarita_2\n          }, null, 8, _hoisted_5),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '刮一刮文字',\n              imageUrl: imageUrl.value,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"label\", _hoisted_9, _toDisplayString(prize.value), 1)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: openSetting\n          }, _toDisplayString(isSettingOpen.value ? '收回獎項設定' : '打開獎項設定'), 1),\n          _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"div\", _hoisted_12, [\n                  _createElementVNode(\"h2\", _hoisted_13, \"刮刮樂刮除半徑 \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '20vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"修改\"),\n                    _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_16, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n                      class: \"tableTitle\",\n                      style: {backgroundColor: '#2e99dc'}\n                    }, \"中獎項目\", -1)),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeArray.value, (item, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        class: \"tableData\",\n                        key: index\n                      }, _toDisplayString(item), 1))\n                    }), 128))\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: reset\n          }, \"開始刮刮 / 重新刮刮\"),\n          _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: isScratchComplete.value ? '#d1c4e9' : '#f2f2f2'}),\n            onClick: removePrice\n          }, \"移除此獎項\", 4),\n          _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"重置設定的獎項\"),\n          _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"清除中獎紀錄\"),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_19, [\n          _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"本次中獎\", -1)),\n          _createElementVNode(\"div\", _hoisted_20, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_21, [\n          _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"中獎紀錄\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_22, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ]),\n        _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1))\n      ]),\n      _cache[21] || (_cache[21] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"scratchView\">\r\n    <br/>\r\n    <div class=\"scratchViewRow\">\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n      <div class=\"scratchViewBody\">\r\n        <br/>\r\n        <div class=\"scratch-object\">\r\n          <img class=\"backgroundImg\" :src=\"ImagePath.backGroundImage_rekarita_2\"/>\r\n          <div class=\"showScratchDiv\">\r\n            <ScratchComponents \r\n              ref=\"scratchCard\" \r\n              :scratchPercent=\"70\" \r\n              :maskColor=\"'skyblue'\" \r\n              :fillStyle=\"'red'\" \r\n              :font=\"'30px Arial'\" \r\n              :text=\"'刮一刮文字'\" \r\n              :imageUrl=\"imageUrl\" \r\n              :radius=\"5\" \r\n              :scratchRadius=\"scratchRadius*sliderValue/100\" \r\n              @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n              @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                <div class=\"prize\">\r\n                  <div class=\"prizeShowDiv\">\r\n                    <label class=\"prizeString\">{{ prize }}</label>\r\n                  </div>\r\n                </div>\r\n            </ScratchComponents>\r\n          </div>\r\n        </div>\r\n        <br/><br/><br/>\r\n        <div class=\"scratch-setting\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting\">{{ isSettingOpen ? '收回獎項設定' : '打開獎項設定' }}</div>\r\n          <br/>\r\n          <transition name=\"slider\">\r\n            <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n              <div class=\"scratchRadiusValue\">\r\n                <h2 class=\"showScratchRadiusValue\">刮刮樂刮除半徑 {{ sliderValue }}%</h2>\r\n                <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n              </div>\r\n              <br/>\r\n              <div class=\"showSetting\">\r\n                <div class=\"setting-field-div\">\r\n                  <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '20vw', height: '20px'}\" @click=\"prizeAdd\">修改</div>\r\n                  <br/>\r\n                  <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                </div>\r\n                <div class=\"tableDiv\">\r\n                  <div class=\"tableTitle\" :style=\"{backgroundColor: '#2e99dc'}\">中獎項目</div>\r\n                  <div v-for=\"(item, index) in prizeArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n        <br/>\r\n        <div class=\"scratch-action\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"reset\">開始刮刮 / 重新刮刮</div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\">移除此獎項</div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\">重置設定的獎項</div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\">清除中獎紀錄</div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n      <div class=\"scratchViewResult\">\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\">本次中獎</div>\r\n          <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n        </div>\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\">中獎紀錄</div>\r\n          <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n          <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n        </div>\r\n        <br/>\r\n      </div>\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - 隨機選項:${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"電子刮刮樂\";\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scratchView {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  background-color: #1ED760;\r\n  min-height: 100vh;\r\n  padding: 10px;\r\n}\r\n\r\n.scratchViewRow {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n}\r\n\r\n.scratchViewBody {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 50vw;\r\n}\r\n\r\n.scratchViewResult {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 40vw;\r\n}\r\n\r\n.backgroundImg {\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n  object-fit: contain;\r\n  z-index: 1;\r\n}\r\n\r\n.scratch-object {\r\n  position: relative;\r\n  user-select: none;\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n}\r\n\r\n.showScratchDiv {\r\n  position: absolute;\r\n  top: min(268.14px, 13.407vw);\r\n  left: min(332.2px, 16.6vw);\r\n  z-index: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prize {\r\n  width: 16.6vw;\r\n  max-width: 332px;\r\n  height: 9.485vw;\r\n  max-height: 189.7px;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.prizeImg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: auto;\r\n  object-fit: contain;\r\n}\r\n\r\n.prizeShowDiv {\r\n  position: absolute;\r\n  width: 16.6vw;\r\n  max-width: 332px;\r\n  height: 9.485vw;\r\n  max-height: 189.7px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prizeString {\r\n  position: absolute;\r\n  font-size: large;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: black;\r\n  font-weight: bold;\r\n}\r\n\r\n.scratch-setting {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.showAllSetting {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.scratchRadiusValue {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.showScratchRadiusValue {\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.showSetting {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 5%;\r\n  width: 100%;\r\n  height: auto;\r\n  justify-content: center;\r\n}\r\n\r\n.slide-enter-active,\r\n.slide-leave-active {\r\ntransition: max-height 0.3s ease, padding 0.3s ease;\r\n}\r\n\r\n.slide-enter-from,\r\n.slide-leave-to {\r\nmax-height: 0;\r\npadding: 0 20px;\r\nopacity: 0;\r\n}\r\n\r\n.setting-field-div {\r\n  width: 20vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.setting-field {\r\n  width: 90%;\r\n  height: auto;\r\n  resize: vertical;\r\n  font-size: medium;\r\n  min-height: 20vw;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.scratch-action {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n}\r\n\r\n.btn-reset {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 30vw;\r\n  height: 50px;\r\n  border: 2px solid silver;\r\n  border-radius: 15px;\r\n  padding: 10px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  font-size: large;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.tableDiv {\r\n  width: 20vw;\r\n  height: auto;\r\n  border: 2px solid silver;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.tableTitle {\r\n  background-color: #9575cd;\r\n  color: white;\r\n  padding: 10px;\r\n  font-size: large;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  border-bottom: 1px solid silver;\r\n}\r\n\r\n.tableData {\r\n  color: #333;\r\n  padding: 15px;\r\n  font-size: medium;\r\n  line-height: 1.6;\r\n}\r\n\r\n</style>","import script from \"./ScratchView2.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchView2.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchView2.vue?vue&type=style&index=0&id=e3d18f26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e3d18f26\"]])\n\nexport default __exports__","export async function fileToPngBase64(file: File, maxSide?: number): Promise<string> {\r\n    const dataUrl = await new Promise<string>((resolve, reject) => {\r\n      const reader = new FileReader()\r\n      reader.onload = () => resolve(reader.result as string)\r\n      reader.onerror = reject\r\n      reader.readAsDataURL(file)\r\n    })\r\n  \r\n    // 建立 Image 載入\r\n    const img = await new Promise<HTMLImageElement>((resolve, reject) => {\r\n      const image = new Image()\r\n      image.onload = () => resolve(image)\r\n      image.onerror = reject\r\n      image.src = dataUrl\r\n    })\r\n  \r\n    // 縮放（可選）\r\n    let { width, height } = img\r\n    if (maxSide) {\r\n      const scale = Math.min(1, maxSide / Math.max(width, height))\r\n      width = Math.round(width * scale)\r\n      height = Math.round(height * scale)\r\n    }\r\n  \r\n    const canvas = document.createElement('canvas')\r\n    canvas.width = width\r\n    canvas.height = height\r\n    const ctx = canvas.getContext('2d')!\r\n    ctx.clearRect(0, 0, width, height)\r\n    ctx.drawImage(img, 0, 0, width, height)\r\n  \r\n    // 轉成 PNG Base64\r\n    return canvas.toDataURL('image/png') // data:image/png;base64,....\r\n  }","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"uploader\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"preview\"\n}\nconst _hoisted_3 = [\"src\"]\n\nimport { ref } from 'vue'\r\n  import { fileToPngBase64 } from '@/utils/imageTransfer'\r\n  \r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'UploadImageToBase64Components',\n  props: {\r\n    isBackgroundImage: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  },\n  emits: [\"imageOutput\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\r\n  const base64 = ref<string>('')\r\n  const fileInput = ref<HTMLInputElement | null>(null)\r\n\r\n  const props = __props\r\n\r\n  const emits = __emit\r\n  \r\n  async function onSelect(e: Event) {\r\n    const input = e.target as HTMLInputElement\r\n    const file = input.files?.[0]\r\n    if (!file) return\r\n    base64.value = await fileToPngBase64(file, 1024) // 可選最大邊縮放\r\n    // TODO: 存到你的 store（例如 Pinia）或送到 API\r\n    emits('imageOutput', {isBackgroundImage: props.isBackgroundImage, base64: base64.value})\r\n  }\r\n\r\n  function clear() {\r\n    base64.value = ''\r\n    if (fileInput.value) fileInput.value.value = ''\r\n  }\r\n\r\n  __expose({ clear })\r\n\r\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"input\", {\n      ref_key: \"fileInput\",\n      ref: fileInput,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: onSelect\n    }, null, 544),\n    (base64.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"img\", {\n            src: base64.value,\n            alt: \"preview\"\n          }, null, 8, _hoisted_3)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<!-- src/components/UploadToBase64.vue -->\r\n<template>\r\n    <div class=\"uploader\">\r\n      <input ref=\"fileInput\" type=\"file\" accept=\"image/*\" @change=\"onSelect\" />\r\n      <div v-if=\"base64\" class=\"preview\">\r\n        <img :src=\"base64\" alt=\"preview\" />\r\n        <!-- <textarea readonly>{{ base64 }}</textarea> -->\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { ref, defineProps, defineEmits, defineExpose } from 'vue'\r\n  import { fileToPngBase64 } from '@/utils/imageTransfer'\r\n  \r\n  const base64 = ref<string>('')\r\n  const fileInput = ref<HTMLInputElement | null>(null)\r\n\r\n  const props = defineProps({\r\n    isBackgroundImage: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  })\r\n\r\n  const emits = defineEmits<{\r\n    (e: 'imageOutput', payload: { isBackgroundImage: boolean; base64: string }): void\r\n  }>()\r\n  \r\n  async function onSelect(e: Event) {\r\n    const input = e.target as HTMLInputElement\r\n    const file = input.files?.[0]\r\n    if (!file) return\r\n    base64.value = await fileToPngBase64(file, 1024) // 可選最大邊縮放\r\n    // TODO: 存到你的 store（例如 Pinia）或送到 API\r\n    emits('imageOutput', {isBackgroundImage: props.isBackgroundImage, base64: base64.value})\r\n  }\r\n\r\n  function clear() {\r\n    base64.value = ''\r\n    if (fileInput.value) fileInput.value.value = ''\r\n  }\r\n\r\n  defineExpose({ clear })\r\n\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .uploader { display: grid; gap: 12px; }\r\n  .preview { display: grid; grid-template-columns: 220px 1fr; gap: 12px; align-items: start; }\r\n  .preview img { width: 220px; border-radius: 8px; border: 1px solid #ddd; }\r\n  .preview textarea { width: 100%; height: 160px; font-family: monospace; font-size: 12px; }\r\n  </style>\r\n  ","import script from \"./UploadImageToBase64Components.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./UploadImageToBase64Components.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./UploadImageToBase64Components.vue?vue&type=style&index=0&id=437812c6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-437812c6\"]])\n\nexport default __exports__","import { defineStore } from 'pinia';\r\nimport { ref } from 'vue';\r\nimport { ScratchSetting } from '@/models/ScratchSetting';\r\nimport { ImagePath } from '@/resources/web_image';\r\n\r\nexport const useScratchConfig  = defineStore('scratchConfig', () => {\r\n    // 是否修改\r\n    const isModified = ref(false);\r\n\r\n    // 刮刮樂設定\r\n    const setting  = ref<ScratchSetting>({\r\n        backgroundImage: ImagePath.backGroundImage_letizia_1,\r\n        maskImage: ImagePath.backGroundImage_letizia_2,\r\n        scratchRatio: 100, // 100~150\r\n        prizeFontSize: 20,  // 20~40\r\n        prizeFontColor: '#000000'\r\n    });\r\n\r\n    return {\r\n        isModified,\r\n        setting\r\n    };\r\n});","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, unref as _unref, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, vShow as _vShow, Transition as _Transition, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewAllPrize\" }\nconst _hoisted_4 = { class: \"tableGridDiv\" }\nconst _hoisted_5 = { class: \"scratchViewBody\" }\nconst _hoisted_6 = { class: \"scratch-object\" }\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"showScratchDiv\" }\nconst _hoisted_9 = { class: \"prize\" }\nconst _hoisted_10 = { class: \"prizeShowDiv\" }\nconst _hoisted_11 = { class: \"scratch-action\" }\nconst _hoisted_12 = { class: \"scratch-setting\" }\nconst _hoisted_13 = { class: \"showAllSetting\" }\nconst _hoisted_14 = { class: \"scratchRadiusValue\" }\nconst _hoisted_15 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_16 = { class: \"showSetting\" }\nconst _hoisted_17 = { class: \"setting-field-div\" }\nconst _hoisted_18 = { class: \"setting-field-count-div\" }\nconst _hoisted_19 = { class: \"tableGridDiv\" }\nconst _hoisted_20 = [\"onUpdate:modelValue\", \"onBlur\"]\nconst _hoisted_21 = { class: \"showAllSetting\" }\nconst _hoisted_22 = { class: \"image-overlay\" }\nconst _hoisted_23 = [\"src\"]\nconst _hoisted_24 = { class: \"top-img-wrapper\" }\nconst _hoisted_25 = [\"src\"]\nconst _hoisted_26 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_27 = { class: \"scratchRadiusValue\" }\nconst _hoisted_28 = { class: \"scratchRadiusValue\" }\nconst _hoisted_29 = { class: \"scratchRadiusValue\" }\nconst _hoisted_30 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_31 = { class: \"scratchViewResult\" }\nconst _hoisted_32 = { class: \"tableDiv\" }\nconst _hoisted_33 = { class: \"tableData\" }\nconst _hoisted_34 = { class: \"tableDiv\" }\nconst _hoisted_35 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import UploadImageToBase64Components from '@/components/UploadImageToBase64Components.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import { useScratchConfig } from '@/stores/scratchConfig';\r\n  import { ScratchSetting } from '@/models/ScratchSetting';\r\n  import VueSlider from 'vue-slider-component';\r\n  import { ChromePicker } from 'vue-color'\r\n  import 'vue-slider-component/theme/default.css';\r\n  \r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchViewNew',\n  setup(__props) {\n\r\n  const imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const isScratchSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n\r\n  // 刮刮樂設定值注入\r\n  const scratchConfig = useScratchConfig();\r\n  const scratchSettingValue = ref<ScratchSetting>({\r\n        backgroundImage: scratchConfig.setting.backgroundImage,\r\n        maskImage: scratchConfig.setting.maskImage,\r\n        scratchRatio: scratchConfig.setting.scratchRatio,\r\n        prizeFontSize: scratchConfig.setting.prizeFontSize,\r\n        prizeFontColor: scratchConfig.setting.prizeFontColor\r\n    })\r\n\r\n  const isScratchSettingTopImgShow = ref(true);\r\n\r\n  const bgImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null)\r\n  const maskImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null)\r\n  \r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        prizeRecordArray.value.push(prize.value);\r\n        prizeArray.value.splice(nowCurrent.value, 1);\r\n        const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        if (foundItem) {\r\n          foundItem.count--;\r\n        }\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n\r\n  function applyScratchSetting() {\r\n    console.log(\"JN - applyScratchSetting\");\r\n    scratchConfig.setting.backgroundImage = scratchSettingValue.value.backgroundImage;\r\n    scratchConfig.setting.maskImage = scratchSettingValue.value.maskImage;\r\n    scratchConfig.setting.scratchRatio = scratchSettingValue.value.scratchRatio;\r\n    scratchConfig.setting.prizeFontSize = scratchSettingValue.value.prizeFontSize;\r\n    scratchConfig.setting.prizeFontColor = scratchSettingValue.value.prizeFontColor;\r\n    resetPrice();\r\n    alert(\"已完成修改\");\r\n  }\r\n\r\n  function resetScratchSetting() {\r\n    console.log(\"JN - resetScratchSetting\");\r\n    scratchSettingValue.value.backgroundImage = scratchConfig.setting.backgroundImage;\r\n    scratchSettingValue.value.maskImage = scratchConfig.setting.maskImage;\r\n    scratchSettingValue.value.scratchRatio = scratchConfig.setting.scratchRatio;\r\n    scratchSettingValue.value.prizeFontSize = scratchConfig.setting.prizeFontSize;\r\n    scratchSettingValue.value.prizeFontColor = scratchConfig.setting.prizeFontColor;\r\n    bgImgUpload.value?.clear();\r\n    maskImgUpload.value?.clear();\r\n    alert(\"已清除設定\");\r\n  }\r\n\r\n  function getImageBase64({ isBackgroundImage, base64 }: { isBackgroundImage: boolean; base64: string }) {\r\n    if (isBackgroundImage) {\r\n      console.log(\"JN - background image: \", base64);\r\n      scratchSettingValue.value.backgroundImage = base64;\r\n    } else {\r\n      console.log(\"JN - mask image: \", base64);\r\n      scratchSettingValue.value.maskImage = base64;\r\n    }\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n    if (prizeArray.value.length <= 0) {\r\n      alert(\"獎項已抽完，若要重新抽獎請按\\\"重置設定的獎項\\\"\");\r\n      return;\r\n    }\r\n    isScratchComplete.value = false;\r\n    nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    prize.value = prizeArray.value[nowCurrent.value];\r\n    console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting(isItemSetting: boolean) {\r\n    if (isItemSetting) {\r\n      isSettingOpen.value = !isSettingOpen.value;\r\n    } else {\r\n      isScratchSettingOpen.value = !isScratchSettingOpen.value;\r\n    }\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"電子刮刮樂\";\r\n    reset();\r\n  });\r\n  \r\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[42] || (_cache[42] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[40] || (_cache[40] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[9] || (_cache[9] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"目前獎項\", -1)),\n        _createElementVNode(\"table\", _hoisted_4, [\n          _cache[7] || (_cache[7] = _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", null, \"中獎項目\"),\n              _createElementVNode(\"th\", null, \"獎品數量\")\n            ])\n          ], -1)),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeNowCountArray.value, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(item.count), 1)\n              ]))\n            }), 128))\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(scratchConfig).setting.backgroundImage\n          }, null, 8, _hoisted_7),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '刮一刮文字',\n              imageUrl: _unref(scratchConfig).setting.maskImage,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createElementVNode(\"label\", {\n                      class: \"prizeString\",\n                      style: _normalizeStyle({color: _unref(scratchConfig).setting.prizeFontColor, fontSize: _unref(scratchConfig).setting.prizeFontSize + 'px'})\n                    }, _toDisplayString(prize.value), 5)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[32] || (_cache[32] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[33] || (_cache[33] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[34] || (_cache[34] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_11, [\n          _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: (prizeArray.value.length == 0) ? '#f2f2f2' : '#e1bee7'}),\n            onClick: reset\n          }, \"開始刮刮 / 重新刮刮\", 4),\n          _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"重置設定的獎項\"),\n          _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"清除中獎紀錄\"),\n          _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1))\n        ]),\n        _cache[35] || (_cache[35] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (openSetting(true)))\n          }, _toDisplayString(isSettingOpen.value ? '收回獎項設定' : '打開獎項設定'), 1),\n          _cache[28] || (_cache[28] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_13, [\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"h2\", _hoisted_15, \"刮刮樂刮除半徑 \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_16, [\n                  _createElementVNode(\"div\", _hoisted_17, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"獎項修改\"),\n                    _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_18, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeCountUpdate\n                    }, \"獎項數量修改\"),\n                    _cache[16] || (_cache[16] = _createElementVNode(\"br\", null, null, -1)),\n                    _createElementVNode(\"table\", _hoisted_19, [\n                      _cache[15] || (_cache[15] = _createElementVNode(\"thead\", null, [\n                        _createElementVNode(\"tr\", null, [\n                          _createElementVNode(\"th\", null, \"中獎項目\"),\n                          _createElementVNode(\"th\", null, \"獎品數量\")\n                        ])\n                      ], -1)),\n                      _createElementVNode(\"tbody\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeSettingCountArray.value, (item, index) => {\n                          return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                            _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                            _createElementVNode(\"td\", null, [\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"number\",\n                                min: \"1\",\n                                \"onUpdate:modelValue\": ($event: any) => ((item.count) = $event),\n                                class: \"prizeCountInput\",\n                                onBlur: ($event: any) => (checkInput(index))\n                              }, null, 40, _hoisted_20), [\n                                [_vModelText, item.count]\n                              ])\n                            ])\n                          ]))\n                        }), 128))\n                      ])\n                    ])\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          }),\n          _cache[29] || (_cache[29] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#7FCBF0'},\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (openSetting(false)))\n          }, _toDisplayString(isScratchSettingOpen.value ? '收回刮刮樂本體設定' : '打開刮刮樂本體設定'), 1),\n          _cache[30] || (_cache[30] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_21, [\n                _createElementVNode(\"div\", null, [\n                  _cache[22] || (_cache[22] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"刮刮樂預覽\", -1)),\n                  _createElementVNode(\"div\", _hoisted_22, [\n                    _createElementVNode(\"img\", {\n                      class: \"bg-img\",\n                      src: scratchSettingValue.value.backgroundImage\n                    }, null, 8, _hoisted_23),\n                    _createElementVNode(\"div\", _hoisted_24, [\n                      _createElementVNode(\"img\", {\n                        class: \"top-img\",\n                        src: scratchSettingValue.value.maskImage,\n                        style: _normalizeStyle({opacity: isScratchSettingTopImgShow.value ? 1 : 0, width: (scratchSettingValue.value.scratchRatio / 100 * 20.5) + 'vw', maxWidth: (scratchSettingValue.value.scratchRatio / 100 * 410) + 'px'})\n                      }, null, 12, _hoisted_25),\n                      _createElementVNode(\"label\", {\n                        class: \"middle-label\",\n                        style: _normalizeStyle({color: scratchSettingValue.value.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.value.prizeFontSize + 'px'})\n                      }, \"獎品測試文字\", 4)\n                    ])\n                  ]),\n                  _cache[23] || (_cache[23] = _createElementVNode(\"br\", null, null, -1)),\n                  _createElementVNode(\"h2\", _hoisted_26, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      type: \"checkbox\",\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((isScratchSettingTopImgShow).value = $event))\n                    }, null, 512), [\n                      [_vModelCheckbox, isScratchSettingTopImgShow.value]\n                    ]),\n                    _cache[18] || (_cache[18] = _createTextVNode(\" 顯示刮刮樂圖片 \"))\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_27, [\n                    _cache[19] || (_cache[19] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"背景圖片\", -1)),\n                    _createVNode(UploadImageToBase64Components, {\n                      ref_key: \"bgImgUpload\",\n                      ref: bgImgUpload,\n                      isBackgroundImage: true,\n                      onImageOutput: getImageBase64\n                    }, null, 512)\n                  ]),\n                  _cache[24] || (_cache[24] = _createElementVNode(\"br\", null, null, -1)),\n                  _createElementVNode(\"div\", _hoisted_28, [\n                    _cache[20] || (_cache[20] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"刮刮樂區圖片\", -1)),\n                    _createVNode(UploadImageToBase64Components, {\n                      ref_key: \"maskImgUpload\",\n                      ref: maskImgUpload,\n                      isBackgroundImage: false,\n                      onImageOutput: getImageBase64\n                    }, null, 512)\n                  ]),\n                  _cache[25] || (_cache[25] = _createElementVNode(\"br\", null, null, -1)),\n                  _createElementVNode(\"div\", _hoisted_29, [\n                    _createElementVNode(\"h2\", _hoisted_30, \"刮刮樂文字大小: \" + _toDisplayString(scratchSettingValue.value.prizeFontSize), 1),\n                    _createVNode(_unref(VueSlider), _mergeProps({\n                      modelValue: scratchSettingValue.value.prizeFontSize,\n                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((scratchSettingValue.value.prizeFontSize) = $event))\n                    }, {min:20, max:40, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"]),\n                    _cache[21] || (_cache[21] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"刮刮樂文字顏色\", -1)),\n                    _createVNode(_unref(ChromePicker), {\n                      modelValue: scratchSettingValue.value.prizeFontColor,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((scratchSettingValue.value.prizeFontColor) = $event))\n                    }, null, 8, [\"modelValue\"]),\n                    _createElementVNode(\"h2\", {\n                      class: \"showScratchRadiusValue\",\n                      style: _normalizeStyle({color: scratchSettingValue.value.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.value.prizeFontSize + 'px'})\n                    }, \"獎品測試文字\", 4)\n                  ]),\n                  _cache[26] || (_cache[26] = _createElementVNode(\"br\", null, null, -1))\n                ]),\n                _cache[27] || (_cache[27] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", { class: \"btn-group\" }, [\n                  _createElementVNode(\"button\", {\n                    class: \"btn purple\",\n                    onClick: resetScratchSetting\n                  }, \"重設\"),\n                  _createElementVNode(\"button\", {\n                    class: \"btn blue\",\n                    onClick: applyScratchSetting\n                  }, \"套用設定\")\n                ])\n              ], 512), [\n                [_vShow, isScratchSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          }),\n          _cache[31] || (_cache[31] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_31, [\n        _cache[38] || (_cache[38] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_32, [\n          _cache[36] || (_cache[36] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"本次中獎\", -1)),\n          _createElementVNode(\"div\", _hoisted_33, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[39] || (_cache[39] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_34, [\n          _cache[37] || (_cache[37] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"中獎紀錄\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_35, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ])\n      ]),\n      _cache[41] || (_cache[41] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratchView\">\r\n      <br/>\r\n      <div class=\"scratchViewRow\">\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n        <div class=\"scratchViewAllPrize\">\r\n          <br/>\r\n          <h2 class=\"showScratchRadiusValue\">目前獎項</h2>\r\n          <table class=\"tableGridDiv\">\r\n            <thead>\r\n              <tr>\r\n                <th>中獎項目</th>\r\n                <th>獎品數量</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in prizeNowCountArray\" :key=\"index\">\r\n                <td>{{ item.item }}</td>\r\n                <td>{{ item.count }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"scratchViewBody\">\r\n          <div class=\"scratch-object\">\r\n            <img class=\"backgroundImg\" :src=\"scratchConfig.setting.backgroundImage\"/>\r\n            <div class=\"showScratchDiv\">\r\n              <ScratchComponents \r\n                ref=\"scratchCard\" \r\n                :scratchPercent=\"70\" \r\n                :maskColor=\"'skyblue'\" \r\n                :fillStyle=\"'red'\" \r\n                :font=\"'30px Arial'\" \r\n                :text=\"'刮一刮文字'\" \r\n                :imageUrl=\"scratchConfig.setting.maskImage\" \r\n                :radius=\"5\" \r\n                :scratchRadius=\"scratchRadius*sliderValue/100\"    \r\n                @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n                @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                  <div class=\"prize\">\r\n                    <div class=\"prizeShowDiv\">\r\n                      <label class=\"prizeString\" :style=\"{color: scratchConfig.setting.prizeFontColor, fontSize: scratchConfig.setting.prizeFontSize + 'px'}\">{{ prize }}</label>\r\n                    </div>\r\n                  </div>\r\n              </ScratchComponents>\r\n            </div>\r\n          </div>\r\n          <br/><br/><br/>\r\n          <!-- 刮刮樂按鈕 -->\r\n          <div class=\"scratch-action\">\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: (prizeArray.length == 0) ? '#f2f2f2' : '#e1bee7'}\" @click=\"reset\">開始刮刮 / 重新刮刮</div>\r\n            <!-- <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\">移除此獎項</div> -->\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\">重置設定的獎項</div>\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\">清除中獎紀錄</div>\r\n            <br/>\r\n          </div>\r\n          <br/>\r\n          <!-- 刮刮樂設定 -->\r\n          <div class=\"scratch-setting\">\r\n            <!-- 刮刮樂獎項設定 -->\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting(true)\">{{ isSettingOpen ? '收回獎項設定' : '打開獎項設定' }}</div>\r\n            <br/>\r\n            <transition name=\"slider\">\r\n              <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n                <div class=\"scratchRadiusValue\">\r\n                  <h2 class=\"showScratchRadiusValue\">刮刮樂刮除半徑 {{ sliderValue }}%</h2>\r\n                  <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                </div>\r\n                <br/>\r\n                <div class=\"showSetting\">\r\n                  <div class=\"setting-field-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeAdd\">獎項修改</div>\r\n                    <br/>\r\n                    <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                  </div>\r\n                  <div class=\"setting-field-count-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeCountUpdate\">獎項數量修改</div>\r\n                    <br/>\r\n                    <table class=\"tableGridDiv\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>中獎項目</th>\r\n                          <th>獎品數量</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr v-for=\"(item, index) in prizeSettingCountArray\" :key=\"index\">\r\n                          <td>{{ item.item }}</td>\r\n                          <td>\r\n                            <input type=\"number\" min=\"1\" v-model=\"item.count\" class=\"prizeCountInput\" @blur=\"checkInput(index)\"/>\r\n                          </td>\r\n                          <!-- <td>{{ item.count }}</td> -->\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </transition>\r\n            <br/>\r\n            <!-- 刮刮樂本體設定 -->\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#7FCBF0'}\" @click=\"openSetting(false)\">{{ isScratchSettingOpen ? '收回刮刮樂本體設定' : '打開刮刮樂本體設定' }}</div>\r\n            <br/>\r\n            <transition name=\"slider\">\r\n              <div v-show=\"isScratchSettingOpen\" class=\"showAllSetting\">\r\n                <div>\r\n                  <h2 class=\"showScratchRadiusValue\">刮刮樂預覽</h2>\r\n                  <div class=\"image-overlay\">\r\n                    <img class=\"bg-img\" :src=scratchSettingValue.backgroundImage />\r\n                    <div class=\"top-img-wrapper\">\r\n                      <img class=\"top-img\" :src=scratchSettingValue.maskImage :style=\"{opacity: isScratchSettingTopImgShow ? 1 : 0, width: (scratchSettingValue.scratchRatio / 100 * 20.5) + 'vw', maxWidth: (scratchSettingValue.scratchRatio / 100 * 410) + 'px'}\"/>\r\n                      <label class=\"middle-label\" :style=\"{color: scratchSettingValue.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.prizeFontSize + 'px'}\">獎品測試文字</label>\r\n                    </div>\r\n                  </div>\r\n                  <br/>\r\n                  <h2 class=\"showScratchRadiusValue\">\r\n                    <input type=\"checkbox\" v-model=\"isScratchSettingTopImgShow\" />\r\n                    顯示刮刮樂圖片\r\n                  </h2>\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">背景圖片</h2>\r\n                    <UploadImageToBase64Components ref=\"bgImgUpload\" :isBackgroundImage='true' @imageOutput=\"getImageBase64\"></UploadImageToBase64Components>\r\n                  </div>\r\n                  <br/>\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">刮刮樂區圖片</h2>\r\n                    <UploadImageToBase64Components ref=\"maskImgUpload\" :isBackgroundImage='false' @imageOutput=\"getImageBase64\"></UploadImageToBase64Components>\r\n                  </div>\r\n                  <br/>\r\n                  <!-- <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">刮刮樂區域：{{ scratchSettingValue.scratchRatio }}</h2>\r\n                    <VueSlider v-model=\"scratchSettingValue.scratchRatio\" v-bind=\"{min:100, max:150, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                  </div>\r\n                  <br/> -->\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">刮刮樂文字大小: {{ scratchSettingValue.prizeFontSize }}</h2>\r\n                    <VueSlider v-model=\"scratchSettingValue.prizeFontSize\" v-bind=\"{min:20, max:40, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                    <h2 class=\"showScratchRadiusValue\">刮刮樂文字顏色</h2>\r\n                    <ChromePicker v-model=\"scratchSettingValue.prizeFontColor\" />\r\n                    <h2 class=\"showScratchRadiusValue\" :style=\"{color: scratchSettingValue.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.prizeFontSize + 'px'}\">獎品測試文字</h2>\r\n                  </div>\r\n                  <br/>\r\n                </div>\r\n                <br/>\r\n                <!-- 設定儲存按鈕 -->\r\n                <div class=\"btn-group\">\r\n                  <button class=\"btn purple\" @click=\"resetScratchSetting\">重設</button>\r\n                  <button class=\"btn blue\" @click=\"applyScratchSetting\">套用設定</button>\r\n                </div>\r\n              </div>\r\n            </transition>\r\n            <br/>\r\n          </div>\r\n        </div>\r\n        <div class=\"scratchViewResult\">\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\">本次中獎</div>\r\n            <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n          </div>\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\">中獎紀錄</div>\r\n            <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n            <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n          </div>\r\n        </div>\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import UploadImageToBase64Components from '@/components/UploadImageToBase64Components.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import { useScratchConfig } from '@/stores/scratchConfig';\r\n  import { ScratchSetting } from '@/models/ScratchSetting';\r\n  import VueSlider from 'vue-slider-component';\r\n  import { ChromePicker } from 'vue-color'\r\n  import 'vue-slider-component/theme/default.css';\r\n  \r\n  const imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const isScratchSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n\r\n  // 刮刮樂設定值注入\r\n  const scratchConfig = useScratchConfig();\r\n  const scratchSettingValue = ref<ScratchSetting>({\r\n        backgroundImage: scratchConfig.setting.backgroundImage,\r\n        maskImage: scratchConfig.setting.maskImage,\r\n        scratchRatio: scratchConfig.setting.scratchRatio,\r\n        prizeFontSize: scratchConfig.setting.prizeFontSize,\r\n        prizeFontColor: scratchConfig.setting.prizeFontColor\r\n    })\r\n\r\n  const isScratchSettingTopImgShow = ref(true);\r\n\r\n  const bgImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null)\r\n  const maskImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null)\r\n  \r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        prizeRecordArray.value.push(prize.value);\r\n        prizeArray.value.splice(nowCurrent.value, 1);\r\n        const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        if (foundItem) {\r\n          foundItem.count--;\r\n        }\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n\r\n  function applyScratchSetting() {\r\n    console.log(\"JN - applyScratchSetting\");\r\n    scratchConfig.setting.backgroundImage = scratchSettingValue.value.backgroundImage;\r\n    scratchConfig.setting.maskImage = scratchSettingValue.value.maskImage;\r\n    scratchConfig.setting.scratchRatio = scratchSettingValue.value.scratchRatio;\r\n    scratchConfig.setting.prizeFontSize = scratchSettingValue.value.prizeFontSize;\r\n    scratchConfig.setting.prizeFontColor = scratchSettingValue.value.prizeFontColor;\r\n    resetPrice();\r\n    alert(\"已完成修改\");\r\n  }\r\n\r\n  function resetScratchSetting() {\r\n    console.log(\"JN - resetScratchSetting\");\r\n    scratchSettingValue.value.backgroundImage = scratchConfig.setting.backgroundImage;\r\n    scratchSettingValue.value.maskImage = scratchConfig.setting.maskImage;\r\n    scratchSettingValue.value.scratchRatio = scratchConfig.setting.scratchRatio;\r\n    scratchSettingValue.value.prizeFontSize = scratchConfig.setting.prizeFontSize;\r\n    scratchSettingValue.value.prizeFontColor = scratchConfig.setting.prizeFontColor;\r\n    bgImgUpload.value?.clear();\r\n    maskImgUpload.value?.clear();\r\n    alert(\"已清除設定\");\r\n  }\r\n\r\n  function getImageBase64({ isBackgroundImage, base64 }: { isBackgroundImage: boolean; base64: string }) {\r\n    if (isBackgroundImage) {\r\n      console.log(\"JN - background image: \", base64);\r\n      scratchSettingValue.value.backgroundImage = base64;\r\n    } else {\r\n      console.log(\"JN - mask image: \", base64);\r\n      scratchSettingValue.value.maskImage = base64;\r\n    }\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n    if (prizeArray.value.length <= 0) {\r\n      alert(\"獎項已抽完，若要重新抽獎請按\\\"重置設定的獎項\\\"\");\r\n      return;\r\n    }\r\n    isScratchComplete.value = false;\r\n    nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    prize.value = prizeArray.value[nowCurrent.value];\r\n    console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting(isItemSetting: boolean) {\r\n    if (isItemSetting) {\r\n      isSettingOpen.value = !isSettingOpen.value;\r\n    } else {\r\n      isScratchSettingOpen.value = !isScratchSettingOpen.value;\r\n    }\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"電子刮刮樂\";\r\n    reset();\r\n  });\r\n  \r\n  </script>\r\n  \r\n  <style scoped>\r\n  \r\n  .scratchView {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    background-color: #1ED760;\r\n    min-height: 100vh;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewRow {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .scratchViewAllPrize {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewBody {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 50vw;\r\n  }\r\n  \r\n  .scratchViewResult {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n  }\r\n  \r\n  .backgroundImg {\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n    object-fit: contain;\r\n    z-index: 1;\r\n  }\r\n  \r\n  .scratch-object {\r\n    position: relative;\r\n    user-select: none;\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchDiv {\r\n    position: absolute;\r\n    /* top: min(168.4px, 8.42vw); */\r\n    /* left: min(299px, 14.95vw); */\r\n    inset: 0;\r\n    z-index: 2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prize {\r\n    width: 20.5vw;\r\n    max-width: 410px;\r\n    height: 12.025vw;\r\n    max-height: 240.5px;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .prizeImg {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    object-fit: contain;\r\n  }\r\n  \r\n  .prizeShowDiv {\r\n    position: absolute;\r\n    width: 20.5vw;\r\n    max-width: 410px;\r\n    height: 12.025vw;\r\n    max-height: 240.5px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prizeString {\r\n    position: absolute;\r\n    font-size: large;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: black;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .scratch-setting {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .showAllSetting {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .scratchRadiusValue {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchRadiusValue {\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .showSetting {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 5%;\r\n    width: 100%;\r\n    height: auto;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .slide-enter-active,\r\n  .slide-leave-active {\r\n  transition: max-height 0.3s ease, padding 0.3s ease;\r\n  }\r\n  \r\n  .slide-enter-from,\r\n  .slide-leave-to {\r\n  max-height: 0;\r\n  padding: 0 20px;\r\n  opacity: 0;\r\n  }\r\n  \r\n  .setting-field-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field-count-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field {\r\n    width: 90%;\r\n    height: auto;\r\n    resize: vertical;\r\n    font-size: medium;\r\n    min-height: 20vw;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .scratch-action {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 99;\r\n  }\r\n  \r\n  .btn-reset {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 30vw;\r\n    height: 50px;\r\n    border: 2px solid silver;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    text-align: center;\r\n    font-size: large;\r\n    color: white;\r\n    font-weight: bold;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .tableDiv {\r\n    width: 20vw;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .tableTitle {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableData {\r\n    color: #333;\r\n    padding: 15px;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .tableGridDiv {\r\n    width: 100%;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    border-collapse: collapse;\r\n    table-layout: fixed;\r\n  }\r\n  \r\n  .tableGridDiv thead {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableGridDiv th {\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n  \r\n  .tableGridDiv tbody {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .tableGridDiv td {\r\n    color: #333;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .prizeCountInput {\r\n    width: 40%;\r\n    text-align: center;\r\n    padding: 5px;\r\n    font-size: medium;\r\n  }\r\n\r\n  /* 按鈕群組：置中排列 */\r\n  .btn-group {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 16px;\r\n  }\r\n\r\n  /* 基本按鈕 */\r\n  .btn {\r\n    padding: 10px 20px;\r\n    border-radius: 12px;\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    border: none;\r\n    transition: 0.2s;\r\n    box-shadow: 0 4px 0 rgba(0,0,0,0.2);\r\n  }\r\n\r\n  /* 藍色按鈕 */\r\n  .btn.blue {\r\n    background: #46aee0;\r\n    color: #fff;\r\n  }\r\n  .btn.blue:hover {\r\n    background: #3594c7;\r\n  }\r\n\r\n  /* 紫色按鈕 */\r\n  .btn.purple {\r\n    background: #7a66d0;\r\n    color: #fff;\r\n  }\r\n  .btn.purple:hover {\r\n    background: #5d4eb0;\r\n  }\r\n\r\n  .image-overlay {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  /* 下層圖片 */\r\n  .bg-img {\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n  }\r\n\r\n  /* 上層圖片外框 */\r\n  .top-img-wrapper {\r\n    position: absolute;\r\n    /* display: flex; */\r\n    display: inline-block;\r\n    /* justify-content: center; */\r\n    /* align-items: center; */\r\n    border: 4px solid silver;   /* 銀色外框 */\r\n    overflow: hidden;\r\n  }\r\n  \r\n  /* 上層圖片 */\r\n  .top-img {\r\n    /* width: 20.5vw; */\r\n    /* max-width: 410px; */\r\n    height: auto;\r\n    /* 移除底部行內元素間隙 */\r\n    display: block;\r\n    position: relative;\r\n    z-index: 2;\r\n  }\r\n\r\n  .middle-label {\r\n    position: absolute;\r\n    inset: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 1;\r\n    pointer-events: none;\r\n    text-align: center;\r\n    padding: 8px;\r\n  }\r\n  </style>","import script from \"./ScratchViewNew.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchViewNew.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchViewNew.vue?vue&type=style&index=0&id=435bc52c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-435bc52c\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, vShow as _vShow, Transition as _Transition, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewAllPrize\" }\nconst _hoisted_4 = { class: \"tableGridDiv\" }\nconst _hoisted_5 = { class: \"scratchViewBody\" }\nconst _hoisted_6 = { class: \"scratch-object\" }\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"showScratchDiv\" }\nconst _hoisted_9 = { class: \"prize\" }\nconst _hoisted_10 = { class: \"prizeShowDiv\" }\nconst _hoisted_11 = { class: \"prizeString\" }\nconst _hoisted_12 = { class: \"scratch-setting\" }\nconst _hoisted_13 = { class: \"showAllSetting\" }\nconst _hoisted_14 = { class: \"scratchRadiusValue\" }\nconst _hoisted_15 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_16 = { class: \"showSetting\" }\nconst _hoisted_17 = { class: \"setting-field-div\" }\nconst _hoisted_18 = { class: \"setting-field-count-div\" }\nconst _hoisted_19 = { class: \"tableGridDiv\" }\nconst _hoisted_20 = [\"onUpdate:modelValue\", \"onBlur\"]\nconst _hoisted_21 = { class: \"scratch-action\" }\nconst _hoisted_22 = { class: \"scratchViewResult\" }\nconst _hoisted_23 = { class: \"tableDiv\" }\nconst _hoisted_24 = { class: \"tableData\" }\nconst _hoisted_25 = { class: \"tableDiv\" }\nconst _hoisted_26 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import VueSlider from 'vue-slider-component';\r\n  import 'vue-slider-component/theme/default.css';\r\n  \r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchViewNew2',\n  setup(__props) {\n\r\n  const imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n  \r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n    \r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        prizeRecordArray.value.push(prize.value);\r\n        prizeArray.value.splice(nowCurrent.value, 1);\r\n        const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        if (foundItem) {\r\n          foundItem.count--;\r\n        }\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n    if (prizeArray.value.length <= 0) {\r\n      alert(\"獎項已抽完，若要重新抽獎請按\\\"重置設定的獎項\\\"\");\r\n      return;\r\n    }\r\n    isScratchComplete.value = false;\r\n    nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    prize.value = prizeArray.value[nowCurrent.value];\r\n    console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting() {\r\n    isSettingOpen.value = !isSettingOpen.value;\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"電子刮刮樂\";\r\n    reset();\r\n  });\r\n  \r\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[24] || (_cache[24] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[22] || (_cache[22] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[4] || (_cache[4] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"目前獎項\", -1)),\n        _createElementVNode(\"table\", _hoisted_4, [\n          _cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", null, \"中獎項目\"),\n              _createElementVNode(\"th\", null, \"獎品數量\")\n            ])\n          ], -1)),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeNowCountArray.value, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(item.count), 1)\n              ]))\n            }), 128))\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(ImagePath).backGroundImage_rekarita_2\n          }, null, 8, _hoisted_7),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '刮一刮文字',\n              imageUrl: imageUrl.value,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createElementVNode(\"label\", _hoisted_11, _toDisplayString(prize.value), 1)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[15] || (_cache[15] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[16] || (_cache[16] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: openSetting\n          }, _toDisplayString(isSettingOpen.value ? '收回獎項設定' : '打開獎項設定'), 1),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_13, [\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"h2\", _hoisted_15, \"刮刮樂刮除半徑 \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_16, [\n                  _createElementVNode(\"div\", _hoisted_17, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"獎項修改\"),\n                    _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_18, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeCountUpdate\n                    }, \"獎項數量修改\"),\n                    _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n                    _createElementVNode(\"table\", _hoisted_19, [\n                      _cache[6] || (_cache[6] = _createElementVNode(\"thead\", null, [\n                        _createElementVNode(\"tr\", null, [\n                          _createElementVNode(\"th\", null, \"中獎項目\"),\n                          _createElementVNode(\"th\", null, \"獎品數量\")\n                        ])\n                      ], -1)),\n                      _createElementVNode(\"tbody\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeSettingCountArray.value, (item, index) => {\n                          return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                            _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                            _createElementVNode(\"td\", null, [\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"number\",\n                                min: \"1\",\n                                \"onUpdate:modelValue\": ($event: any) => ((item.count) = $event),\n                                class: \"prizeCountInput\",\n                                onBlur: ($event: any) => (checkInput(index))\n                              }, null, 40, _hoisted_20), [\n                                [_vModelText, item.count]\n                              ])\n                            ])\n                          ]))\n                        }), 128))\n                      ])\n                    ])\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_21, [\n          _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: (prizeArray.value.length == 0) ? '#f2f2f2' : '#e1bee7'}),\n            onClick: reset\n          }, \"開始刮刮 / 重新刮刮\", 4),\n          _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"重置設定的獎項\"),\n          _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"清除中獎紀錄\"),\n          _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_22, [\n        _cache[20] || (_cache[20] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_23, [\n          _cache[18] || (_cache[18] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"本次中獎\", -1)),\n          _createElementVNode(\"div\", _hoisted_24, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[21] || (_cache[21] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_25, [\n          _cache[19] || (_cache[19] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"中獎紀錄\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_26, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ])\n      ]),\n      _cache[23] || (_cache[23] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratchView\">\r\n      <br/>\r\n      <div class=\"scratchViewRow\">\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n        <div class=\"scratchViewAllPrize\">\r\n          <br/>\r\n          <h2 class=\"showScratchRadiusValue\">目前獎項</h2>\r\n          <table class=\"tableGridDiv\">\r\n            <thead>\r\n              <tr>\r\n                <th>中獎項目</th>\r\n                <th>獎品數量</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in prizeNowCountArray\" :key=\"index\">\r\n                <td>{{ item.item }}</td>\r\n                <td>{{ item.count }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"scratchViewBody\">\r\n          <div class=\"scratch-object\">\r\n            <img class=\"backgroundImg\" :src=\"ImagePath.backGroundImage_rekarita_2\"/>\r\n            <div class=\"showScratchDiv\">\r\n              <ScratchComponents \r\n                ref=\"scratchCard\" \r\n                :scratchPercent=\"70\" \r\n                :maskColor=\"'skyblue'\" \r\n                :fillStyle=\"'red'\" \r\n                :font=\"'30px Arial'\" \r\n                :text=\"'刮一刮文字'\" \r\n                :imageUrl=\"imageUrl\" \r\n                :radius=\"5\" \r\n                :scratchRadius=\"scratchRadius*sliderValue/100\"    \r\n                @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n                @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                  <div class=\"prize\">\r\n                    <div class=\"prizeShowDiv\">\r\n                      <label class=\"prizeString\">{{ prize }}</label>\r\n                    </div>\r\n                  </div>\r\n              </ScratchComponents>\r\n            </div>\r\n          </div>\r\n          <br/><br/><br/>\r\n          <div class=\"scratch-setting\">\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting\">{{ isSettingOpen ? '收回獎項設定' : '打開獎項設定' }}</div>\r\n            <br/>\r\n            <transition name=\"slider\">\r\n              <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n                <div class=\"scratchRadiusValue\">\r\n                  <h2 class=\"showScratchRadiusValue\">刮刮樂刮除半徑 {{ sliderValue }}%</h2>\r\n                  <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                </div>\r\n                <br/>\r\n                <div class=\"showSetting\">\r\n                  <div class=\"setting-field-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeAdd\">獎項修改</div>\r\n                    <br/>\r\n                    <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                  </div>\r\n                  <div class=\"setting-field-count-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeCountUpdate\">獎項數量修改</div>\r\n                    <br/>\r\n                    <table class=\"tableGridDiv\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>中獎項目</th>\r\n                          <th>獎品數量</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr v-for=\"(item, index) in prizeSettingCountArray\" :key=\"index\">\r\n                          <td>{{ item.item }}</td>\r\n                          <td>\r\n                            <input type=\"number\" min=\"1\" v-model=\"item.count\" class=\"prizeCountInput\" @blur=\"checkInput(index)\"/>\r\n                          </td>\r\n                          <!-- <td>{{ item.count }}</td> -->\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </transition>\r\n          </div>\r\n          <br/>\r\n          <div class=\"scratch-action\">\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: (prizeArray.length == 0) ? '#f2f2f2' : '#e1bee7'}\" @click=\"reset\">開始刮刮 / 重新刮刮</div>\r\n            <!-- <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\">移除此獎項</div> -->\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\">重置設定的獎項</div>\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\">清除中獎紀錄</div>\r\n            <br/>\r\n          </div>\r\n        </div>\r\n        <div class=\"scratchViewResult\">\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\">本次中獎</div>\r\n            <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n          </div>\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\">中獎紀錄</div>\r\n            <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n            <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n          </div>\r\n        </div>\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import VueSlider from 'vue-slider-component';\r\n  import 'vue-slider-component/theme/default.css';\r\n  \r\n  const imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n  \r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"關閉\" : \"打開\");\r\n    \r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        prizeRecordArray.value.push(prize.value);\r\n        prizeArray.value.splice(nowCurrent.value, 1);\r\n        const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        if (foundItem) {\r\n          foundItem.count--;\r\n        }\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n    if (prizeArray.value.length <= 0) {\r\n      alert(\"獎項已抽完，若要重新抽獎請按\\\"重置設定的獎項\\\"\");\r\n      return;\r\n    }\r\n    isScratchComplete.value = false;\r\n    nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    prize.value = prizeArray.value[nowCurrent.value];\r\n    console.log(`JN - 隨機選項:${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting() {\r\n    isSettingOpen.value = !isSettingOpen.value;\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"電子刮刮樂\";\r\n    reset();\r\n  });\r\n  \r\n  </script>\r\n  \r\n  <style scoped>\r\n  \r\n  .scratchView {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    background-color: #1ED760;\r\n    min-height: 100vh;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewRow {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .scratchViewAllPrize {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewBody {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 50vw;\r\n  }\r\n  \r\n  .scratchViewResult {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n  }\r\n  \r\n  .backgroundImg {\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n    object-fit: contain;\r\n    z-index: 1;\r\n  }\r\n  \r\n  .scratch-object {\r\n    position: relative;\r\n    user-select: none;\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchDiv {\r\n    position: absolute;\r\n    top: min(268.14px, 13.407vw);\r\n    left: min(332.2px, 16.6vw);\r\n    z-index: 2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prize {\r\n    width: 16.6vw;\r\n    max-width: 332px;\r\n    height: 9.485vw;\r\n    max-height: 189.7px;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .prizeImg {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    object-fit: contain;\r\n  }\r\n  \r\n  .prizeShowDiv {\r\n    position: absolute;\r\n    width: 16.6vw;\r\n    max-width: 332px;\r\n    height: 9.485vw;\r\n    max-height: 189.7px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prizeString {\r\n    position: absolute;\r\n    font-size: large;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: black;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .scratch-setting {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .showAllSetting {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .scratchRadiusValue {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchRadiusValue {\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .showSetting {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 5%;\r\n    width: 100%;\r\n    height: auto;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .slide-enter-active,\r\n  .slide-leave-active {\r\n  transition: max-height 0.3s ease, padding 0.3s ease;\r\n  }\r\n  \r\n  .slide-enter-from,\r\n  .slide-leave-to {\r\n  max-height: 0;\r\n  padding: 0 20px;\r\n  opacity: 0;\r\n  }\r\n  \r\n  .setting-field-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field-count-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field {\r\n    width: 90%;\r\n    height: auto;\r\n    resize: vertical;\r\n    font-size: medium;\r\n    min-height: 20vw;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .scratch-action {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 99;\r\n  }\r\n  \r\n  .btn-reset {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 30vw;\r\n    height: 50px;\r\n    border: 2px solid silver;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    text-align: center;\r\n    font-size: large;\r\n    color: white;\r\n    font-weight: bold;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .tableDiv {\r\n    width: 20vw;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .tableTitle {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableData {\r\n    color: #333;\r\n    padding: 15px;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .tableGridDiv {\r\n    width: 100%;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    border-collapse: collapse;\r\n    table-layout: fixed;\r\n  }\r\n  \r\n  .tableGridDiv thead {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableGridDiv th {\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n  \r\n  .tableGridDiv tbody {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .tableGridDiv td {\r\n    color: #333;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .prizeCountInput {\r\n    width: 40%;\r\n    text-align: center;\r\n    padding: 5px;\r\n    font-size: medium;\r\n  }\r\n  \r\n  </style>","import script from \"./ScratchViewNew2.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchViewNew2.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchViewNew2.vue?vue&type=style&index=0&id=be0ec95e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-be0ec95e\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport ScratchView from '../views/ScratchView.vue'\nimport ScratchView2 from '../views/ScratchView2.vue'\nimport ScratchViewNew from '../views/ScratchViewNew.vue'\nimport ScratchViewNew2 from '../views/ScratchViewNew2.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'scratchView',\n    component: ScratchView\n  },\n  {\n    path: '/letizia',\n    name: 'letizia',\n    component: ScratchView\n  },\n  {\n    path: '/letizia_new',\n    name: 'letizia_new',\n    component: ScratchViewNew\n  },\n  {\n    path: '/rekarita',\n    name: 'rekarita',\n    component: ScratchView2\n  },\n  {\n    path: '/rekarita_new',\n    name: 'rekarita_new',\n    component: ScratchViewNew2\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: HomeView\n  },\n]\n\nconst router = createRouter({\n  // history: createWebHistory(process.env.BASE_URL),\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport { createPinia } from 'pinia'\r\nimport 'vue-color/style.css';\r\n\r\n// createApp(App).use(router).mount('#app')\r\nconst app = createApp(App)\r\napp.use(router)\r\napp.use(createPinia())\r\napp.mount('#app')","export class ImagePath {\r\n    static readonly backGroundImage_letizia_1 = require('../assets/images/backGroundImage_letizia_1.webp');\r\n    static readonly backGroundImage_letizia_2 = require('../assets/images/backGroundImage_letizia_2.webp');\r\n    static readonly backGroundImage_rekarita_1 = require('../assets/images/backGroundImage_rekarita_1.webp');\r\n    static readonly backGroundImage_rekarita_2 = require('../assets/images/backGroundImage_rekarita_2.webp');\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchBox\" }\nconst _hoisted_2 = [\"width\", \"height\"]\n\nimport { nextTick } from 'vue';\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchComponents',\n  props: {\r\n    scratchPercent: {\r\n        type: Number,\r\n        default: 80\r\n    },\r\n    imageUrl: {\r\n        type: String\r\n    },\r\n    maskColor: {\r\n        type: String,\r\n        default: \"#cccccc\"\r\n    },\r\n    fillStyle: {\r\n        type: String,\r\n        default: \"#000000\"\r\n    },\r\n    font: {\r\n        type: String,\r\n        default: \"20px Arial\"\r\n    },\r\n    text: {\r\n        type: String,\r\n        default: \"刮一刮\"\r\n    },\r\n    radius: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    scratchRadius: {\r\n        type: Number,\r\n        default: 10\r\n    }\r\n},\n  emits: [\r\n    'scratchStart', 'scratchEnd', 'ScratchAll', 'touchStart', 'touchEnd'\r\n],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\r\nconst props = __props;\r\n\r\nconst emits = __emit;\r\n\r\nconst ctx = ref<CanvasRenderingContext2D | null | undefined>(null);\r\nconst slot = ref<HTMLInputElement | null>(null);\r\nconst canvas = ref<HTMLCanvasElement | null>(null);\r\nconst width = ref(0);\r\nconst height = ref(0);\r\nconst isScratch = ref(false);\r\nconst isScratchComplete = ref(false);\r\n\r\nfunction init() {\r\n    console.log('JN - init0');\r\n    initCanvas();\r\n    console.log('JN - init1');\r\n    nextTick(() => {\r\n        console.log('JN - init2');\r\n        initDraw();\r\n        console.log('JN - init3');\r\n        bindEvents();\r\n        console.log('JN - init4');\r\n    });\r\n}\r\n\r\nfunction initCanvas() {\r\n    width.value = slot.value?.offsetWidth || 0;\r\n    height.value = slot.value?.offsetHeight || 0;\r\n    console.log(\"JN - initCanvas width: \", width.value);\r\n    console.log(\"JN - initCanvas height: \", height.value);\r\n}\r\n\r\nfunction initDraw() {\r\n    ctx.value = canvas.value?.getContext(\"2d\");\r\n    if (ctx.value) {\r\n        ctx.value.globalAlpha = 1;\r\n        ctx.value.fillStyle = props.maskColor;\r\n        if (props.radius) {\r\n            const radius = props.radius;\r\n            ctx.value.beginPath();\r\n            //左上角圓角\r\n            ctx.value.moveTo(radius, 0);\r\n            ctx.value.arcTo(0, 0, 0, radius, radius);\r\n            //左下角圓角\r\n            ctx.value.lineTo(0, height.value - radius);\r\n            ctx.value.arcTo(0, height.value, radius, height.value, radius);\r\n            // 右下角圓角\r\n            ctx.value.lineTo(width.value - radius, height.value);\r\n            ctx.value.arcTo(\r\n                width.value,\r\n                height.value,\r\n                width.value,\r\n                height.value - radius,\r\n                radius\r\n            );\r\n            //右上角圓角\r\n            ctx.value.lineTo(width.value, radius);\r\n            ctx.value.arcTo(width.value, 0, width.value - radius, 0, radius);\r\n\r\n            ctx.value.closePath();\r\n            ctx.value.clip();\r\n        }\r\n        ctx.value.fillRect(0, 0, width.value, height.value);\r\n\r\n        if (!props.imageUrl) {\r\n            ctx.value.fillStyle = props.fillStyle;\r\n            ctx.value.font = props.font;\r\n\r\n            let text = props.text;\r\n            let textWidth = ctx.value.measureText(text).width;\r\n            let x = width.value / 2 - textWidth / 2;\r\n            let y = height.value / 2 + 6;\r\n\r\n            ctx.value.fillText(text, x, y);\r\n        } else {\r\n            const img = new Image();\r\n            img.src = props.imageUrl;\r\n\r\n            img.onload = () => {\r\n                ctx.value?.drawImage(img, 0, 0, width.value, height.value);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction bindEvents() {\r\n    if (!canvas.value) return;\r\n\r\n    canvas.value.addEventListener(\"mousedown\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mousemove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mouseup\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            calcArea();\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchstart\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            emits(\"scratchStart\");\r\n            emits(\"touchStart\");\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchmove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchend\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            emits(\"scratchEnd\");\r\n            emits(\"touchEnd\");\r\n            calcArea();\r\n        }\r\n    });\r\n}\r\n\r\nfunction drawArc(e: MouseEvent | TouchEvent) {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    const canvasPos = canvas.value.getBoundingClientRect();\r\n    const pageScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    const pageScrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n    let mouseX = 0;\r\n    let mouseY = 0;\r\n\r\n    if (e instanceof MouseEvent) {\r\n        mouseX = e.pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.pageY - canvasPos.top - pageScrollTop;\r\n    } else if(e instanceof TouchEvent) {\r\n        mouseX = e.targetTouches[0].pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.targetTouches[0].pageY - canvasPos.top - pageScrollTop;\r\n    } else {\r\n        return;\r\n    }\r\n\r\n    ctx.value.globalCompositeOperation = \"destination-out\";\r\n    ctx.value.beginPath();\r\n    ctx.value.fillStyle = \"white\";\r\n    ctx.value.moveTo(mouseX, mouseY);\r\n    ctx.value.arc(mouseX, mouseY, props.scratchRadius, 0, 3 * Math.PI);\r\n    ctx.value.fill();\r\n}\r\n\r\nfunction reset() {\r\n    console.log('JN - reset0');\r\n    width.value = 0;\r\n    console.log('JN - reset1');\r\n    height.value = 0;\r\n    console.log('JN - reset2');\r\n    nextTick(() => {\r\n        console.log('JN - reset3');\r\n        init();\r\n        console.log('JN - reset4');\r\n        isScratchComplete.value = false;\r\n    });\r\n}\r\n\r\nfunction calcArea() {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    let myImg = ctx.value.getImageData(0, 0, width.value, height.value);\r\n    let num = 0;\r\n    let max = myImg.data.length / 4;\r\n    for (let i = 0; i < myImg.data.length; i+=4) {\r\n        if (myImg.data[i+3] == 0) {\r\n            num++;\r\n        }\r\n    }\r\n\r\n    if (num >= max * (props.scratchPercent / 100)) {\r\n        // canvas.value.remove();\r\n        ctx.value.clearRect(0, 0, width.value, height.value);\r\n        emits(\"ScratchAll\");\r\n        isScratchComplete.value = true;\r\n    }\r\n}\r\n\r\nfunction onResize() {\r\n    ctx.value = null;\r\n    init();\r\n}\r\n\r\nonMounted(() => {\r\n    init();\r\n    window.addEventListener(\"resize\", onResize);\r\n});\r\n\r\nonUnmounted(() => {\r\n    window.removeEventListener(\"resize\", onResize);\r\n});\r\n\r\n__expose({\r\n    reset\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      ref_key: \"slot\",\n      ref: slot,\n      class: \"slot\",\n      style: _normalizeStyle({borderRadius: __props.radius + 'px'})\n    }, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ], 4),\n    (width.value && height.value)\n      ? (_openBlock(), _createElementBlock(\"canvas\", {\n          key: 0,\n          class: \"canvas\",\n          ref_key: \"canvas\",\n          ref: canvas,\n          width: width.value,\n          height: height.value,\n          style: _normalizeStyle({border: isScratchComplete.value ? 'none' : '4px solid silver'})\n        }, null, 12, _hoisted_2))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratchBox\">\r\n        <div ref=\"slot\" class=\"slot\" :style=\"{borderRadius: radius + 'px'}\">\r\n            <slot></slot>\r\n        </div>\r\n        <canvas \r\n        v-if=\"width && height\" \r\n        class=\"canvas\" ref=\"canvas\" \r\n        :width=\"width\" :height=\"height\" :style=\"{border: isScratchComplete ? 'none' : '4px solid silver'}\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { nextTick } from 'vue';\r\nimport { ref, defineProps, defineEmits, defineExpose, onMounted, onUnmounted } from 'vue';\r\n\r\nconst props = defineProps({\r\n    scratchPercent: {\r\n        type: Number,\r\n        default: 80\r\n    },\r\n    imageUrl: {\r\n        type: String\r\n    },\r\n    maskColor: {\r\n        type: String,\r\n        default: \"#cccccc\"\r\n    },\r\n    fillStyle: {\r\n        type: String,\r\n        default: \"#000000\"\r\n    },\r\n    font: {\r\n        type: String,\r\n        default: \"20px Arial\"\r\n    },\r\n    text: {\r\n        type: String,\r\n        default: \"刮一刮\"\r\n    },\r\n    radius: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    scratchRadius: {\r\n        type: Number,\r\n        default: 10\r\n    }\r\n});\r\n\r\nconst emits = defineEmits([\r\n    'scratchStart', 'scratchEnd', 'ScratchAll', 'touchStart', 'touchEnd'\r\n]);\r\n\r\nconst ctx = ref<CanvasRenderingContext2D | null | undefined>(null);\r\nconst slot = ref<HTMLInputElement | null>(null);\r\nconst canvas = ref<HTMLCanvasElement | null>(null);\r\nconst width = ref(0);\r\nconst height = ref(0);\r\nconst isScratch = ref(false);\r\nconst isScratchComplete = ref(false);\r\n\r\nfunction init() {\r\n    console.log('JN - init0');\r\n    initCanvas();\r\n    console.log('JN - init1');\r\n    nextTick(() => {\r\n        console.log('JN - init2');\r\n        initDraw();\r\n        console.log('JN - init3');\r\n        bindEvents();\r\n        console.log('JN - init4');\r\n    });\r\n}\r\n\r\nfunction initCanvas() {\r\n    width.value = slot.value?.offsetWidth || 0;\r\n    height.value = slot.value?.offsetHeight || 0;\r\n    console.log(\"JN - initCanvas width: \", width.value);\r\n    console.log(\"JN - initCanvas height: \", height.value);\r\n}\r\n\r\nfunction initDraw() {\r\n    ctx.value = canvas.value?.getContext(\"2d\");\r\n    if (ctx.value) {\r\n        ctx.value.globalAlpha = 1;\r\n        ctx.value.fillStyle = props.maskColor;\r\n        if (props.radius) {\r\n            const radius = props.radius;\r\n            ctx.value.beginPath();\r\n            //左上角圓角\r\n            ctx.value.moveTo(radius, 0);\r\n            ctx.value.arcTo(0, 0, 0, radius, radius);\r\n            //左下角圓角\r\n            ctx.value.lineTo(0, height.value - radius);\r\n            ctx.value.arcTo(0, height.value, radius, height.value, radius);\r\n            // 右下角圓角\r\n            ctx.value.lineTo(width.value - radius, height.value);\r\n            ctx.value.arcTo(\r\n                width.value,\r\n                height.value,\r\n                width.value,\r\n                height.value - radius,\r\n                radius\r\n            );\r\n            //右上角圓角\r\n            ctx.value.lineTo(width.value, radius);\r\n            ctx.value.arcTo(width.value, 0, width.value - radius, 0, radius);\r\n\r\n            ctx.value.closePath();\r\n            ctx.value.clip();\r\n        }\r\n        ctx.value.fillRect(0, 0, width.value, height.value);\r\n\r\n        if (!props.imageUrl) {\r\n            ctx.value.fillStyle = props.fillStyle;\r\n            ctx.value.font = props.font;\r\n\r\n            let text = props.text;\r\n            let textWidth = ctx.value.measureText(text).width;\r\n            let x = width.value / 2 - textWidth / 2;\r\n            let y = height.value / 2 + 6;\r\n\r\n            ctx.value.fillText(text, x, y);\r\n        } else {\r\n            const img = new Image();\r\n            img.src = props.imageUrl;\r\n\r\n            img.onload = () => {\r\n                ctx.value?.drawImage(img, 0, 0, width.value, height.value);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction bindEvents() {\r\n    if (!canvas.value) return;\r\n\r\n    canvas.value.addEventListener(\"mousedown\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mousemove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mouseup\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            calcArea();\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchstart\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            emits(\"scratchStart\");\r\n            emits(\"touchStart\");\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchmove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchend\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            emits(\"scratchEnd\");\r\n            emits(\"touchEnd\");\r\n            calcArea();\r\n        }\r\n    });\r\n}\r\n\r\nfunction drawArc(e: MouseEvent | TouchEvent) {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    const canvasPos = canvas.value.getBoundingClientRect();\r\n    const pageScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    const pageScrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n    let mouseX = 0;\r\n    let mouseY = 0;\r\n\r\n    if (e instanceof MouseEvent) {\r\n        mouseX = e.pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.pageY - canvasPos.top - pageScrollTop;\r\n    } else if(e instanceof TouchEvent) {\r\n        mouseX = e.targetTouches[0].pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.targetTouches[0].pageY - canvasPos.top - pageScrollTop;\r\n    } else {\r\n        return;\r\n    }\r\n\r\n    ctx.value.globalCompositeOperation = \"destination-out\";\r\n    ctx.value.beginPath();\r\n    ctx.value.fillStyle = \"white\";\r\n    ctx.value.moveTo(mouseX, mouseY);\r\n    ctx.value.arc(mouseX, mouseY, props.scratchRadius, 0, 3 * Math.PI);\r\n    ctx.value.fill();\r\n}\r\n\r\nfunction reset() {\r\n    console.log('JN - reset0');\r\n    width.value = 0;\r\n    console.log('JN - reset1');\r\n    height.value = 0;\r\n    console.log('JN - reset2');\r\n    nextTick(() => {\r\n        console.log('JN - reset3');\r\n        init();\r\n        console.log('JN - reset4');\r\n        isScratchComplete.value = false;\r\n    });\r\n}\r\n\r\nfunction calcArea() {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    let myImg = ctx.value.getImageData(0, 0, width.value, height.value);\r\n    let num = 0;\r\n    let max = myImg.data.length / 4;\r\n    for (let i = 0; i < myImg.data.length; i+=4) {\r\n        if (myImg.data[i+3] == 0) {\r\n            num++;\r\n        }\r\n    }\r\n\r\n    if (num >= max * (props.scratchPercent / 100)) {\r\n        // canvas.value.remove();\r\n        ctx.value.clearRect(0, 0, width.value, height.value);\r\n        emits(\"ScratchAll\");\r\n        isScratchComplete.value = true;\r\n    }\r\n}\r\n\r\nfunction onResize() {\r\n    ctx.value = null;\r\n    init();\r\n}\r\n\r\nonMounted(() => {\r\n    init();\r\n    window.addEventListener(\"resize\", onResize);\r\n});\r\n\r\nonUnmounted(() => {\r\n    window.removeEventListener(\"resize\", onResize);\r\n});\r\n\r\ndefineExpose({\r\n    reset\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scratchBox {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.slot {\r\n    display: inline-block;\r\n    overflow: hidden;\r\n}\r\n\r\n.canvas {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n</style>","import script from \"./ScratchComponents.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchComponents.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchComponents.vue?vue&type=style&index=0&id=c7baf9be&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c7baf9be\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratch-setting\" }\nconst _hoisted_2 = { class: \"input-box\" }\n\nimport { ref } from 'vue';\r\nimport { useCounterStore } from '@/store/counter';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchSettingComponents',\n  setup(__props) {\n\r\nconst scratchSettingValue = ref('');\r\n\r\nconst prizeArray = ref<Array<string>>([]);\r\n\r\n\r\nfunction addPrize() {\r\n    if (scratchSettingValue.value != '') {\r\n        console.log('JN - ', scratchSettingValue.value);\r\n        const stringArr = scratchSettingValue.value.split(\"\\n\");\r\n        console.log('JN - ', stringArr);\r\n        prizeArray.value.push(...stringArr);\r\n        console.log('JN - ', prizeArray.value);\r\n        scratchSettingValue.value = '';\r\n    }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createElementVNode(\"textarea\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((scratchSettingValue).value = $event))\n      }, null, 512), [\n        [_vModelText, scratchSettingValue.value]\n      ]),\n      _createElementVNode(\"button\", { onClick: addPrize }, \"+\")\n    ]),\n    _createElementVNode(\"ul\", null, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeArray.value, (item, index) => {\n        return (_openBlock(), _createElementBlock(\"li\", { key: index }, _toDisplayString(item), 1))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratch-setting\">\r\n        <div class=\"input-box\">\r\n            <textarea type=\"text\" v-model=\"scratchSettingValue\"></textarea>    \r\n            <button @click=\"addPrize\">+</button>\r\n        </div>\r\n        <ul>\r\n            <li v-for=\"(item, index) in prizeArray\" :key=\"index\">{{ item }}</li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue';\r\nimport { useCounterStore } from '@/store/counter';\r\n\r\nconst scratchSettingValue = ref('');\r\n\r\nconst prizeArray = ref<Array<string>>([]);\r\n\r\n\r\nfunction addPrize() {\r\n    if (scratchSettingValue.value != '') {\r\n        console.log('JN - ', scratchSettingValue.value);\r\n        const stringArr = scratchSettingValue.value.split(\"\\n\");\r\n        console.log('JN - ', stringArr);\r\n        prizeArray.value.push(...stringArr);\r\n        console.log('JN - ', prizeArray.value);\r\n        scratchSettingValue.value = '';\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scratch-setting {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.input-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n</style>","import script from \"./ScratchSettingComponents.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchSettingComponents.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchSettingComponents.vue?vue&type=style&index=0&id=136a3bf7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-136a3bf7\"]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"d8dc116d\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + \"about\" + \".\" + \"7a9ae0ac\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"scratch-project:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/vue3_test/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"594\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkscratch_project\"] = self[\"webpackChunkscratch_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3526); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","_hoisted_1","class","_ctx","_cache","$props","$setup","$data","$options","_component_HelloWorld","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","alt","src","_imports_0","_createVNode","msg","_toDisplayString","_createStaticVNode","HelloWorld","Vue","constructor","args","_defineProperty","__decorate","Options","props","String","HomeView","components","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_defineComponent","__name","setup","__props","imageUrl","ref","ImagePath","backGroundImage_letizia_2","scratchRadius","window","innerWidth","prizeSettingArray","prizeArray","nowCurrent","prizeRecordArray","prize","scratchCard","isScratchComplete","isSettingOpen","settingValue","sliderValue","header","hiddenOnCollapse","component","ScratchSettingComponents","scratchStart","console","log","scratchEnd","scratchAll","value","push","touchStart","document","body","style","overflow","touchEnd","reset","getRandomInt","length","removePrice","splice","resetPrice","structuredClone","removeRecord","prizeAdd","resArray","split","filter","item","openSetting","min","max","Math","floor","random","onBeforeMount","currentIndex","Number","title","width","height","_unref","backGroundImage_letizia_1","ScratchComponents","ref_key","scratchPercent","maskColor","fillStyle","font","text","radius","onScratchStart","onScratchEnd","onScratchAll","onTouchStart","onTouchEnd","default","_withCtx","_","backgroundColor","onClick","_Transition","name","_withDirectives","VueSlider","_mergeProps","modelValue","$event","dotSize","type","_vModelText","_Fragment","_renderList","index","key","_vShow","_normalizeStyle","backGroundImage_rekarita_1","backGroundImage_rekarita_2","async","fileToPngBase64","file","maxSide","dataUrl","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","img","image","Image","scale","round","canvas","createElement","ctx","getContext","clearRect","drawImage","toDataURL","isBackgroundImage","Boolean","emits","expose","__expose","emit","__emit","base64","fileInput","onSelect","e","input","target","files","clear","accept","onChange","_createCommentVNode","useScratchConfig","defineStore","isModified","setting","backgroundImage","maskImage","scratchRatio","prizeFontSize","prizeFontColor","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","prizeSettingCountArray","prizeNowCountArray","isScratchSettingOpen","scratchConfig","scratchSettingValue","isScratchSettingTopImgShow","bgImgUpload","maskImgUpload","foundItem","find","obj","count","applyScratchSetting","alert","resetScratchSetting","getImageBase64","resCountArray","map","prizeCountUpdate","i","checkInput","isNaN","isItemSetting","color","fontSize","onBlur","opacity","maxWidth","fontWeight","_vModelCheckbox","_createTextVNode","UploadImageToBase64Components","onImageOutput","ChromePicker","routes","path","ScratchView","ScratchViewNew","ScratchView2","ScratchViewNew2","router","createRouter","history","createWebHashHistory","process","app","createApp","App","use","createPinia","mount","require","slot","isScratch","init","initCanvas","nextTick","initDraw","bindEvents","offsetWidth","offsetHeight","globalAlpha","beginPath","moveTo","arcTo","lineTo","closePath","clip","fillRect","textWidth","measureText","x","y","fillText","addEventListener","drawArc","calcArea","canvasPos","getBoundingClientRect","pageScrollTop","documentElement","scrollTop","pageScrollLeft","scrollLeft","mouseX","mouseY","MouseEvent","pageX","left","pageY","top","TouchEvent","targetTouches","globalCompositeOperation","arc","PI","fill","myImg","getImageData","num","data","onResize","onMounted","onUnmounted","removeEventListener","borderRadius","_renderSlot","$slots","border","addPrize","stringArr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","f","chunkId","all","reduce","promises","u","miniCssF","g","globalThis","this","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","url","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","clearTimeout","doneFns","parentNode","removeChild","forEach","setTimeout","bind","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","linkTag","rel","nonce","onLinkComplete","errorType","realHref","href","err","Error","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","then","installedChunks","installedChunkData","promise","error","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}