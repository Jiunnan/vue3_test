{"version":3,"file":"js/app.bdcba1bc.js","mappings":"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","sources":["webpack://scratch-project/./src/App.vue","webpack://scratch-project/./src/App.vue?7ccd","webpack://scratch-project/./src/views/HomeView.vue?f906","webpack://scratch-project/./src/views/HomeView.vue","webpack://scratch-project/./src/components/HelloWorld.vue?97b9","webpack://scratch-project/./src/components/HelloWorld.vue","webpack://scratch-project/./src/components/HelloWorld.vue?bd04","webpack://scratch-project/./src/views/HomeView.vue?1da1","webpack://scratch-project/./src/views/ScratchView.vue?7323","webpack://scratch-project/./src/views/ScratchView.vue","webpack://scratch-project/./src/views/ScratchView.vue?f84c","webpack://scratch-project/./src/views/ScratchView2.vue?4113","webpack://scratch-project/./src/views/ScratchView2.vue","webpack://scratch-project/./src/views/ScratchView2.vue?4c30","webpack://scratch-project/./src/utils/imageTransfer.ts","webpack://scratch-project/./src/components/UploadImageToBase64Components.vue?ebe1","webpack://scratch-project/./src/components/UploadImageToBase64Components.vue","webpack://scratch-project/./src/components/UploadImageToBase64Components.vue?362e","webpack://scratch-project/./src/stores/scratchConfig.ts","webpack://scratch-project/./src/utils/loadGoogleSheet.ts","webpack://scratch-project/./src/resources/public_params.ts","webpack://scratch-project/./src/utils/exportExcel.ts","webpack://scratch-project/./src/views/ScratchViewNew.vue?6844","webpack://scratch-project/./src/views/ScratchViewNew.vue","webpack://scratch-project/./src/views/ScratchViewNew.vue?1b0b","webpack://scratch-project/./src/views/ScratchViewNew2.vue?928b","webpack://scratch-project/./src/views/ScratchViewNew2.vue","webpack://scratch-project/./src/views/ScratchViewNew2.vue?7c8c","webpack://scratch-project/./src/router/index.ts","webpack://scratch-project/./src/main.ts","webpack://scratch-project/./src/resources/web_image.ts","webpack://scratch-project/./src/components/ScratchComponents.vue?5492","webpack://scratch-project/./src/components/ScratchComponents.vue","webpack://scratch-project/./src/components/ScratchComponents.vue?0673","webpack://scratch-project/./src/components/ScratchSettingComponents.vue?90ec","webpack://scratch-project/./src/components/ScratchSettingComponents.vue","webpack://scratch-project/./src/components/ScratchSettingComponents.vue?8fdf","webpack://scratch-project/webpack/bootstrap","webpack://scratch-project/webpack/runtime/chunk loaded","webpack://scratch-project/webpack/runtime/compat get default export","webpack://scratch-project/webpack/runtime/define property getters","webpack://scratch-project/webpack/runtime/ensure chunk","webpack://scratch-project/webpack/runtime/get javascript chunk filename","webpack://scratch-project/webpack/runtime/get mini-css chunk filename","webpack://scratch-project/webpack/runtime/global","webpack://scratch-project/webpack/runtime/hasOwnProperty shorthand","webpack://scratch-project/webpack/runtime/load script","webpack://scratch-project/webpack/runtime/make namespace object","webpack://scratch-project/webpack/runtime/publicPath","webpack://scratch-project/webpack/runtime/css loading","webpack://scratch-project/webpack/runtime/jsonp chunk loading","webpack://scratch-project/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<style>\n\nhtml, body {\n  padding: 0;\n  margin: 0;\n  width: 100%;\n  height: 100%;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=6b773836\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=6b773836&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from '../assets/logo.png'\n\n\nconst _hoisted_1 = { class: \"home\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_HelloWorld = _resolveComponent(\"HelloWorld\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[0] || (_cache[0] = _createElementVNode(\"img\", {\n      alt: \"Vue logo\",\n      src: _imports_0\n    }, null, -1)),\n    _createVNode(_component_HelloWorld, { msg: \"Welcome to Your Vue.js + TypeScript App\" })\n  ]))\n}","<template>\n  <div class=\"home\">\n    <img alt=\"Vue logo\" src=\"../assets/logo.png\">\n    <HelloWorld msg=\"Welcome to Your Vue.js + TypeScript App\"/>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport HelloWorld from '@/components/HelloWorld.vue'; // @ is an alias to /src\n\n@Options({\n  components: {\n    HelloWorld,\n  },\n})\nexport default class HomeView extends Vue {}\n</script>\n","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"hello\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h1\", null, _toDisplayString(_ctx.msg), 1),\n    _cache[0] || (_cache[0] = _createStaticVNode(\"<p data-v-a3f1cce2> For a guide and recipes on how to configure / customize this project,<br data-v-a3f1cce2> check out the <a href=\\\"https://cli.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-cli documentation</a>. </p><h3 data-v-a3f1cce2>Installed CLI Plugins</h3><ul data-v-a3f1cce2><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>babel</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>router</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>eslint</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>e2e-cypress</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>typescript</a></li></ul><h3 data-v-a3f1cce2>Essential Links</h3><ul data-v-a3f1cce2><li data-v-a3f1cce2><a href=\\\"https://vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Core Docs</a></li><li data-v-a3f1cce2><a href=\\\"https://forum.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Forum</a></li><li data-v-a3f1cce2><a href=\\\"https://chat.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Community Chat</a></li><li data-v-a3f1cce2><a href=\\\"https://twitter.com/vuejs\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>Twitter</a></li><li data-v-a3f1cce2><a href=\\\"https://news.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>News</a></li></ul><h3 data-v-a3f1cce2>Ecosystem</h3><ul data-v-a3f1cce2><li data-v-a3f1cce2><a href=\\\"https://router.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-router</a></li><li data-v-a3f1cce2><a href=\\\"https://vuex.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vuex</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/vue-devtools#vue-devtools\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-devtools</a></li><li data-v-a3f1cce2><a href=\\\"https://vue-loader.vuejs.org\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>vue-loader</a></li><li data-v-a3f1cce2><a href=\\\"https://github.com/vuejs/awesome-vue\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" data-v-a3f1cce2>awesome-vue</a></li></ul>\", 7))\n  ]))\n}","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <p>\n      For a guide and recipes on how to configure / customize this project,<br>\n      check out the\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-cli documentation</a>.\n    </p>\n    <h3>Installed CLI Plugins</h3>\n    <ul>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\" rel=\"noopener\">babel</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\" target=\"_blank\" rel=\"noopener\">router</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\" rel=\"noopener\">eslint</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-cypress\" target=\"_blank\" rel=\"noopener\">e2e-cypress</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-typescript\" target=\"_blank\" rel=\"noopener\">typescript</a></li>\n    </ul>\n    <h3>Essential Links</h3>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\">Forum</a></li>\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\">Community Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\">Twitter</a></li>\n      <li><a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a></li>\n    </ul>\n    <h3>Ecosystem</h3>\n    <ul>\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-router</a></li>\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\" rel=\"noopener\">vue-devtools</a></li>\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\" rel=\"noopener\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\n\n@Options({\n  props: {\n    msg: String\n  }\n})\nexport default class HelloWorld extends Vue {\n  msg!: string\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./HelloWorld.vue?vue&type=template&id=a3f1cce2&scoped=true&ts=true\"\nimport script from \"./HelloWorld.vue?vue&type=script&lang=ts\"\nexport * from \"./HelloWorld.vue?vue&type=script&lang=ts\"\n\nimport \"./HelloWorld.vue?vue&type=style&index=0&id=a3f1cce2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a3f1cce2\"]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=74582936&ts=true\"\nimport script from \"./HomeView.vue?vue&type=script&lang=ts\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, Transition as _Transition, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewBody\" }\nconst _hoisted_4 = { class: \"scratch-object\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"showScratchDiv\" }\nconst _hoisted_7 = { class: \"prize\" }\nconst _hoisted_8 = { class: \"prizeShowDiv\" }\nconst _hoisted_9 = { class: \"prizeString\" }\nconst _hoisted_10 = { class: \"scratch-setting\" }\nconst _hoisted_11 = { class: \"showAllSetting\" }\nconst _hoisted_12 = { class: \"scratchRadiusValue\" }\nconst _hoisted_13 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_14 = { class: \"showSetting\" }\nconst _hoisted_15 = { class: \"setting-field-div\" }\nconst _hoisted_16 = { class: \"tableDiv\" }\nconst _hoisted_17 = { class: \"scratch-action\" }\nconst _hoisted_18 = { class: \"scratchViewResult\" }\nconst _hoisted_19 = { class: \"tableDiv\" }\nconst _hoisted_20 = { class: \"tableData\" }\nconst _hoisted_21 = { class: \"tableDiv\" }\nconst _hoisted_22 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchView',\n  setup(__props) {\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - :${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"\";\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[22] || (_cache[22] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[20] || (_cache[20] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(ImagePath).backGroundImage_letizia_1\n          }, null, 8, _hoisted_5),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '',\n              imageUrl: imageUrl.value,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"label\", _hoisted_9, _toDisplayString(prize.value), 1)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: openSetting\n          }, _toDisplayString(isSettingOpen.value ? '' : ''), 1),\n          _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"div\", _hoisted_12, [\n                  _createElementVNode(\"h2\", _hoisted_13, \" \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '20vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"\"),\n                    _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_16, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n                      class: \"tableTitle\",\n                      style: {backgroundColor: '#2e99dc'}\n                    }, \"\", -1)),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeArray.value, (item, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        class: \"tableData\",\n                        key: index\n                      }, _toDisplayString(item), 1))\n                    }), 128))\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: reset\n          }, \" / \"),\n          _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: isScratchComplete.value ? '#d1c4e9' : '#f2f2f2'}),\n            onClick: removePrice\n          }, \"\", 4),\n          _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"\"),\n          _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"\"),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_19, [\n          _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _createElementVNode(\"div\", _hoisted_20, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_21, [\n          _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_22, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ]),\n        _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1))\n      ]),\n      _cache[21] || (_cache[21] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"scratchView\">\r\n    <br/>\r\n    <div class=\"scratchViewRow\">\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n      <div class=\"scratchViewBody\">\r\n        <br/>\r\n        <div class=\"scratch-object\">\r\n          <img class=\"backgroundImg\" :src=\"ImagePath.backGroundImage_letizia_1\"/>\r\n          <div class=\"showScratchDiv\">\r\n            <ScratchComponents \r\n              ref=\"scratchCard\" \r\n              :scratchPercent=\"70\" \r\n              :maskColor=\"'skyblue'\" \r\n              :fillStyle=\"'red'\" \r\n              :font=\"'30px Arial'\" \r\n              :text=\"''\" \r\n              :imageUrl=\"imageUrl\" \r\n              :radius=\"5\" \r\n              :scratchRadius=\"scratchRadius*sliderValue/100\" \r\n              @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n              @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                <div class=\"prize\">\r\n                  <div class=\"prizeShowDiv\">\r\n                    <label class=\"prizeString\">{{ prize }}</label>\r\n                  </div>\r\n                </div>\r\n            </ScratchComponents>\r\n          </div>\r\n        </div>\r\n        <br/><br/><br/>\r\n        <div class=\"scratch-setting\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting\">{{ isSettingOpen ? '' : '' }}</div>\r\n          <br/>\r\n          <transition name=\"slider\">\r\n            <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n              <div class=\"scratchRadiusValue\">\r\n                <h2 class=\"showScratchRadiusValue\"> {{ sliderValue }}%</h2>\r\n                <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n              </div>\r\n              <br/>\r\n              <div class=\"showSetting\">\r\n                <div class=\"setting-field-div\">\r\n                  <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '20vw', height: '20px'}\" @click=\"prizeAdd\"></div>\r\n                  <br/>\r\n                  <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                </div>\r\n                <div class=\"tableDiv\">\r\n                  <div class=\"tableTitle\" :style=\"{backgroundColor: '#2e99dc'}\"></div>\r\n                  <div v-for=\"(item, index) in prizeArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n        <br/>\r\n        <div class=\"scratch-action\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"reset\"> / </div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\"></div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\"></div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\"></div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n      <div class=\"scratchViewResult\">\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\"></div>\r\n          <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n        </div>\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\"></div>\r\n          <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n          <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n        </div>\r\n        <br/>\r\n      </div>\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - :${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"\";\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scratchView {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  background-color: #1ED760;\r\n  min-height: 100vh;\r\n  padding: 10px;\r\n}\r\n\r\n.scratchViewRow {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n}\r\n\r\n.scratchViewBody {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 50vw;\r\n}\r\n\r\n.scratchViewResult {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 40vw;\r\n}\r\n\r\n.backgroundImg {\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n  object-fit: contain;\r\n  z-index: 1;\r\n}\r\n\r\n.scratch-object {\r\n  position: relative;\r\n  user-select: none;\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n}\r\n\r\n.showScratchDiv {\r\n  position: absolute;\r\n  top: min(168.4px, 8.42vw);\r\n  left: min(299px, 14.95vw);\r\n  z-index: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prize {\r\n  width: 20.5vw;\r\n  max-width: 410px;\r\n  height: 12.025vw;\r\n  max-height: 240.5px;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.prizeImg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: auto;\r\n  object-fit: contain;\r\n}\r\n\r\n.prizeShowDiv {\r\n  position: absolute;\r\n  width: 20.5vw;\r\n  max-width: 410px;\r\n  height: 12.025vw;\r\n  max-height: 240.5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prizeString {\r\n  position: absolute;\r\n  font-size: large;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: black;\r\n  font-weight: bold;\r\n}\r\n\r\n.scratch-setting {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.showAllSetting {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.scratchRadiusValue {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.showScratchRadiusValue {\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.showSetting {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 5%;\r\n  width: 100%;\r\n  height: auto;\r\n  justify-content: center;\r\n}\r\n\r\n.slide-enter-active,\r\n.slide-leave-active {\r\ntransition: max-height 0.3s ease, padding 0.3s ease;\r\n}\r\n\r\n.slide-enter-from,\r\n.slide-leave-to {\r\nmax-height: 0;\r\npadding: 0 20px;\r\nopacity: 0;\r\n}\r\n\r\n.setting-field-div {\r\n  width: 20vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.setting-field {\r\n  width: 90%;\r\n  height: auto;\r\n  resize: vertical;\r\n  font-size: medium;\r\n  min-height: 20vw;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.scratch-action {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n}\r\n\r\n.btn-reset {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 30vw;\r\n  height: 50px;\r\n  border: 2px solid silver;\r\n  border-radius: 15px;\r\n  padding: 10px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  font-size: large;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.tableDiv {\r\n  width: 20vw;\r\n  height: auto;\r\n  border: 2px solid silver;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.tableTitle {\r\n  background-color: #9575cd;\r\n  color: white;\r\n  padding: 10px;\r\n  font-size: large;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  border-bottom: 1px solid silver;\r\n}\r\n\r\n.tableData {\r\n  color: #333;\r\n  padding: 15px;\r\n  font-size: medium;\r\n  line-height: 1.6;\r\n}\r\n\r\n</style>","import script from \"./ScratchView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchView.vue?vue&type=style&index=0&id=40f81560&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40f81560\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, Transition as _Transition, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewBody\" }\nconst _hoisted_4 = { class: \"scratch-object\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = { class: \"showScratchDiv\" }\nconst _hoisted_7 = { class: \"prize\" }\nconst _hoisted_8 = { class: \"prizeShowDiv\" }\nconst _hoisted_9 = { class: \"prizeString\" }\nconst _hoisted_10 = { class: \"scratch-setting\" }\nconst _hoisted_11 = { class: \"showAllSetting\" }\nconst _hoisted_12 = { class: \"scratchRadiusValue\" }\nconst _hoisted_13 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_14 = { class: \"showSetting\" }\nconst _hoisted_15 = { class: \"setting-field-div\" }\nconst _hoisted_16 = { class: \"tableDiv\" }\nconst _hoisted_17 = { class: \"scratch-action\" }\nconst _hoisted_18 = { class: \"scratchViewResult\" }\nconst _hoisted_19 = { class: \"tableDiv\" }\nconst _hoisted_20 = { class: \"tableData\" }\nconst _hoisted_21 = { class: \"tableDiv\" }\nconst _hoisted_22 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchView2',\n  setup(__props) {\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - :${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"\";\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[22] || (_cache[22] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[20] || (_cache[20] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(ImagePath).backGroundImage_rekarita_2\n          }, null, 8, _hoisted_5),\n          _createElementVNode(\"div\", _hoisted_6, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '',\n              imageUrl: imageUrl.value,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_7, [\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    _createElementVNode(\"label\", _hoisted_9, _toDisplayString(prize.value), 1)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: openSetting\n          }, _toDisplayString(isSettingOpen.value ? '' : ''), 1),\n          _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_11, [\n                _createElementVNode(\"div\", _hoisted_12, [\n                  _createElementVNode(\"h2\", _hoisted_13, \" \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[4] || (_cache[4] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"div\", _hoisted_15, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '20vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"\"),\n                    _cache[2] || (_cache[2] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_16, [\n                    _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n                      class: \"tableTitle\",\n                      style: {backgroundColor: '#2e99dc'}\n                    }, \"\", -1)),\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeArray.value, (item, index) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        class: \"tableData\",\n                        key: index\n                      }, _toDisplayString(item), 1))\n                    }), 128))\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: reset\n          }, \" / \"),\n          _cache[6] || (_cache[6] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: isScratchComplete.value ? '#d1c4e9' : '#f2f2f2'}),\n            onClick: removePrice\n          }, \"\", 4),\n          _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"\"),\n          _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"\"),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_18, [\n        _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_19, [\n          _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _createElementVNode(\"div\", _hoisted_20, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_21, [\n          _cache[16] || (_cache[16] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_22, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ]),\n        _cache[19] || (_cache[19] = _createElementVNode(\"br\", null, null, -1))\n      ]),\n      _cache[21] || (_cache[21] = _createElementVNode(\"div\", { style: {width: '5vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"scratchView\">\r\n    <br/>\r\n    <div class=\"scratchViewRow\">\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n      <div class=\"scratchViewBody\">\r\n        <br/>\r\n        <div class=\"scratch-object\">\r\n          <img class=\"backgroundImg\" :src=\"ImagePath.backGroundImage_rekarita_2\"/>\r\n          <div class=\"showScratchDiv\">\r\n            <ScratchComponents \r\n              ref=\"scratchCard\" \r\n              :scratchPercent=\"70\" \r\n              :maskColor=\"'skyblue'\" \r\n              :fillStyle=\"'red'\" \r\n              :font=\"'30px Arial'\" \r\n              :text=\"''\" \r\n              :imageUrl=\"imageUrl\" \r\n              :radius=\"5\" \r\n              :scratchRadius=\"scratchRadius*sliderValue/100\" \r\n              @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n              @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                <div class=\"prize\">\r\n                  <div class=\"prizeShowDiv\">\r\n                    <label class=\"prizeString\">{{ prize }}</label>\r\n                  </div>\r\n                </div>\r\n            </ScratchComponents>\r\n          </div>\r\n        </div>\r\n        <br/><br/><br/>\r\n        <div class=\"scratch-setting\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting\">{{ isSettingOpen ? '' : '' }}</div>\r\n          <br/>\r\n          <transition name=\"slider\">\r\n            <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n              <div class=\"scratchRadiusValue\">\r\n                <h2 class=\"showScratchRadiusValue\"> {{ sliderValue }}%</h2>\r\n                <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n              </div>\r\n              <br/>\r\n              <div class=\"showSetting\">\r\n                <div class=\"setting-field-div\">\r\n                  <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '20vw', height: '20px'}\" @click=\"prizeAdd\"></div>\r\n                  <br/>\r\n                  <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                </div>\r\n                <div class=\"tableDiv\">\r\n                  <div class=\"tableTitle\" :style=\"{backgroundColor: '#2e99dc'}\"></div>\r\n                  <div v-for=\"(item, index) in prizeArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </transition>\r\n        </div>\r\n        <br/>\r\n        <div class=\"scratch-action\">\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"reset\"> / </div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\"></div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\"></div>\r\n          <br/>\r\n          <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\"></div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n      <div class=\"scratchViewResult\">\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\"></div>\r\n          <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n        </div>\r\n        <br/>\r\n        <div class=\"tableDiv\">\r\n          <div class=\"tableTitle\"></div>\r\n          <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n          <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n        </div>\r\n        <br/>\r\n      </div>\r\n      <div :style=\"{width: '5vw', height: '2px'}\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\nimport ScratchComponents from '@/components/ScratchComponents.vue';\r\nimport ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\nimport 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\nimport {ImagePath} from '../resources/web_image';\r\nimport { SidebarMenu } from 'vue-sidebar-menu';\r\nimport VueSlider from 'vue-slider-component';\r\nimport 'vue-slider-component/theme/default.css';\r\n\r\nconst imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n\r\nconst scratchRadius = window.innerWidth * 0.8 / 8;\r\n\r\nconst prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst prizeArray = ref(['1', '2', '3', '4', '5']);\r\n\r\nconst nowCurrent = ref(-1);\r\n\r\nconst prizeRecordArray = ref([]);\r\n\r\nconst prize = ref('');\r\nconst scratchCard = ref();\r\nconst isScratchComplete = ref(false);\r\nconst isSideBarOFF = ref(false);\r\nconst isSettingOpen = ref(true);\r\nconst settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n\r\nconst sliderValue = ref(30);\r\n\r\nconst menu = ref([\r\n  {\r\n      header: 'Main Navigation',\r\n      hiddenOnCollapse: true,\r\n  },\r\n  {\r\n      component: ScratchSettingComponents,\r\n      hiddenOnCollapse: true,\r\n  }\r\n]);\r\n\r\nfunction onToggleCollapse() {\r\n  isSideBarOFF.value = !isSideBarOFF.value\r\n  console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n  \r\n}\r\n\r\nfunction scratchStart() {\r\n  console.log(\"JN - scratch start\");\r\n}\r\n\r\nfunction scratchEnd() {\r\n  console.log('JN - scratch end');\r\n}\r\n\r\nfunction scratchAll() {\r\n  console.log('JN - scratch all');\r\n  isScratchComplete.value = true;\r\n  if (prize.value != '') {\r\n      prizeRecordArray.value.push(prize.value);\r\n  }\r\n}\r\n\r\nfunction touchStart() {\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\n\r\nfunction touchEnd() {\r\n  document.body.style.overflow = \"\";\r\n}\r\n\r\nfunction reset() {\r\n  console.log('JN - scratch reset');\r\n  isScratchComplete.value = false;\r\n  nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[nowCurrent.value];\r\n  console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n  scratchCard.value?.reset();\r\n}\r\n\r\nfunction removePrice() {\r\n  console.log('JN - remove price');\r\n  if (isScratchComplete.value) {\r\n      if (prizeArray.value.length > 1) {\r\n          prizeArray.value.splice(nowCurrent.value, 1);\r\n          reset();\r\n      }\r\n  }\r\n}\r\n\r\nfunction resetPrice() {\r\n  console.log('JN - reset price');\r\n  // prizeArray.value = [...prizeSettingArray.value];\r\n  prizeArray.value = structuredClone(prizeSettingArray.value);\r\n  reset();\r\n  removeRecord();\r\n}\r\n\r\nfunction removeRecord() {\r\n  prizeRecordArray.value = [];\r\n}\r\n\r\nfunction prizeAdd() {\r\n  const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n  // prizeSettingArray.value = [...resArray];\r\n  // prizeArray.value = [...resArray];\r\n  prizeSettingArray.value = structuredClone(resArray);\r\n  prizeArray.value = structuredClone(resArray);\r\n  reset();\r\n}\r\n\r\nfunction openSetting() {\r\n  isSettingOpen.value = !isSettingOpen.value;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number): number {\r\nreturn Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nonBeforeMount(() => {\r\n  const currentIndex = getRandomInt(0, prizeArray.value.length - 1);\r\n  prize.value = prizeArray.value[Number(currentIndex)];\r\n  console.log(`JN - :${currentIndex + 1} - ${prize.value}`);\r\n  document.title = \"\";\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scratchView {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n  background-color: #1ED760;\r\n  min-height: 100vh;\r\n  padding: 10px;\r\n}\r\n\r\n.scratchViewRow {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n}\r\n\r\n.scratchViewBody {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 50vw;\r\n}\r\n\r\n.scratchViewResult {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 40vw;\r\n}\r\n\r\n.backgroundImg {\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n  object-fit: contain;\r\n  z-index: 1;\r\n}\r\n\r\n.scratch-object {\r\n  position: relative;\r\n  user-select: none;\r\n  width: 50vw;\r\n  max-width: 1000px;\r\n  height: auto;\r\n}\r\n\r\n.showScratchDiv {\r\n  position: absolute;\r\n  top: min(268.14px, 13.407vw);\r\n  left: min(332.2px, 16.6vw);\r\n  z-index: 2;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prize {\r\n  width: 16.6vw;\r\n  max-width: 332px;\r\n  height: 9.485vw;\r\n  max-height: 189.7px;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.prizeImg {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: auto;\r\n  object-fit: contain;\r\n}\r\n\r\n.prizeShowDiv {\r\n  position: absolute;\r\n  width: 16.6vw;\r\n  max-width: 332px;\r\n  height: 9.485vw;\r\n  max-height: 189.7px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.prizeString {\r\n  position: absolute;\r\n  font-size: large;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: black;\r\n  font-weight: bold;\r\n}\r\n\r\n.scratch-setting {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.showAllSetting {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.scratchRadiusValue {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.showScratchRadiusValue {\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.showSetting {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 5%;\r\n  width: 100%;\r\n  height: auto;\r\n  justify-content: center;\r\n}\r\n\r\n.slide-enter-active,\r\n.slide-leave-active {\r\ntransition: max-height 0.3s ease, padding 0.3s ease;\r\n}\r\n\r\n.slide-enter-from,\r\n.slide-leave-to {\r\nmax-height: 0;\r\npadding: 0 20px;\r\nopacity: 0;\r\n}\r\n\r\n.setting-field-div {\r\n  width: 20vw;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 10px;\r\n}\r\n\r\n.setting-field {\r\n  width: 90%;\r\n  height: auto;\r\n  resize: vertical;\r\n  font-size: medium;\r\n  min-height: 20vw;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  line-height: 1.6;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.scratch-action {\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 99;\r\n}\r\n\r\n.btn-reset {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 30vw;\r\n  height: 50px;\r\n  border: 2px solid silver;\r\n  border-radius: 15px;\r\n  padding: 10px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n  font-size: large;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n}\r\n\r\n.tableDiv {\r\n  width: 20vw;\r\n  height: auto;\r\n  border: 2px solid silver;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.tableTitle {\r\n  background-color: #9575cd;\r\n  color: white;\r\n  padding: 10px;\r\n  font-size: large;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  border-bottom: 1px solid silver;\r\n}\r\n\r\n.tableData {\r\n  color: #333;\r\n  padding: 15px;\r\n  font-size: medium;\r\n  line-height: 1.6;\r\n}\r\n\r\n</style>","import script from \"./ScratchView2.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchView2.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchView2.vue?vue&type=style&index=0&id=e3d18f26&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e3d18f26\"]])\n\nexport default __exports__","export async function fileToPngBase64(file: File, maxSide?: number): Promise<string> {\r\n    const dataUrl = await new Promise<string>((resolve, reject) => {\r\n      const reader = new FileReader()\r\n      reader.onload = () => resolve(reader.result as string)\r\n      reader.onerror = reject\r\n      reader.readAsDataURL(file)\r\n    })\r\n  \r\n    //  Image \r\n    const img = await new Promise<HTMLImageElement>((resolve, reject) => {\r\n      const image = new Image()\r\n      image.onload = () => resolve(image)\r\n      image.onerror = reject\r\n      image.src = dataUrl\r\n    })\r\n  \r\n    // \r\n    let { width, height } = img\r\n    if (maxSide) {\r\n      const scale = Math.min(1, maxSide / Math.max(width, height))\r\n      width = Math.round(width * scale)\r\n      height = Math.round(height * scale)\r\n    }\r\n  \r\n    const canvas = document.createElement('canvas')\r\n    canvas.width = width\r\n    canvas.height = height\r\n    const ctx = canvas.getContext('2d')!\r\n    ctx.clearRect(0, 0, width, height)\r\n    ctx.drawImage(img, 0, 0, width, height)\r\n  \r\n    //  PNG Base64\r\n    return canvas.toDataURL('image/png') // data:image/png;base64,....\r\n  }","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"uploader\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"preview\"\n}\nconst _hoisted_3 = [\"src\"]\n\nimport { ref } from 'vue'\r\n  import { fileToPngBase64 } from '@/utils/imageTransfer'\r\n  \r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'UploadImageToBase64Components',\n  props: {\r\n    isBackgroundImage: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  },\n  emits: [\"imageOutput\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\r\n  const base64 = ref<string>('')\r\n  const fileInput = ref<HTMLInputElement | null>(null)\r\n\r\n  const props = __props\r\n\r\n  const emits = __emit\r\n  \r\n  async function onSelect(e: Event) {\r\n    const input = e.target as HTMLInputElement\r\n    const file = input.files?.[0]\r\n    if (!file) return\r\n    base64.value = await fileToPngBase64(file, 1024) // \r\n    // TODO:  store Pinia API\r\n    emits('imageOutput', {isBackgroundImage: props.isBackgroundImage, base64: base64.value})\r\n  }\r\n\r\n  function clear() {\r\n    base64.value = ''\r\n    if (fileInput.value) fileInput.value.value = ''\r\n  }\r\n\r\n  __expose({ clear })\r\n\r\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"input\", {\n      ref_key: \"fileInput\",\n      ref: fileInput,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: onSelect\n    }, null, 544),\n    (base64.value)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"img\", {\n            src: base64.value,\n            alt: \"preview\"\n          }, null, 8, _hoisted_3)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<!-- src/components/UploadToBase64.vue -->\r\n<template>\r\n    <div class=\"uploader\">\r\n      <input ref=\"fileInput\" type=\"file\" accept=\"image/*\" @change=\"onSelect\" />\r\n      <div v-if=\"base64\" class=\"preview\">\r\n        <img :src=\"base64\" alt=\"preview\" />\r\n        <!-- <textarea readonly>{{ base64 }}</textarea> -->\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { ref, defineProps, defineEmits, defineExpose } from 'vue'\r\n  import { fileToPngBase64 } from '@/utils/imageTransfer'\r\n  \r\n  const base64 = ref<string>('')\r\n  const fileInput = ref<HTMLInputElement | null>(null)\r\n\r\n  const props = defineProps({\r\n    isBackgroundImage: {\r\n        type: Boolean,\r\n        default: false\r\n    }\r\n  })\r\n\r\n  const emits = defineEmits<{\r\n    (e: 'imageOutput', payload: { isBackgroundImage: boolean; base64: string }): void\r\n  }>()\r\n  \r\n  async function onSelect(e: Event) {\r\n    const input = e.target as HTMLInputElement\r\n    const file = input.files?.[0]\r\n    if (!file) return\r\n    base64.value = await fileToPngBase64(file, 1024) // \r\n    // TODO:  store Pinia API\r\n    emits('imageOutput', {isBackgroundImage: props.isBackgroundImage, base64: base64.value})\r\n  }\r\n\r\n  function clear() {\r\n    base64.value = ''\r\n    if (fileInput.value) fileInput.value.value = ''\r\n  }\r\n\r\n  defineExpose({ clear })\r\n\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .uploader { display: grid; gap: 12px; }\r\n  .preview { display: grid; grid-template-columns: 220px 1fr; gap: 12px; align-items: start; }\r\n  .preview img { width: 220px; border-radius: 8px; border: 1px solid #ddd; }\r\n  .preview textarea { width: 100%; height: 160px; font-family: monospace; font-size: 12px; }\r\n  </style>\r\n  ","import script from \"./UploadImageToBase64Components.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./UploadImageToBase64Components.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./UploadImageToBase64Components.vue?vue&type=style&index=0&id=437812c6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-437812c6\"]])\n\nexport default __exports__","import { defineStore } from 'pinia';\r\nimport { ref } from 'vue';\r\nimport { ScratchSetting } from '@/models/ScratchSetting';\r\nimport { ImagePath } from '@/resources/web_image';\r\n\r\nexport const useScratchConfig  = defineStore('scratchConfig', () => {\r\n    // \r\n    const isModified = ref(false);\r\n\r\n    // \r\n    const setting  = ref<ScratchSetting>({\r\n        backgroundImage: ImagePath.backGroundImage_letizia_1,\r\n        maskImage: ImagePath.backGroundImage_letizia_2,\r\n        scratchRatio: 100, // 100~150\r\n        prizeFontSize: 20,  // 20~40\r\n        prizeFontColor: '#000000',\r\n        backgroundWhiteOpacity: 100\r\n    });\r\n\r\n    return {\r\n        isModified,\r\n        setting\r\n    };\r\n});","// src/utils/sheets.ts\r\nexport type SheetsFetchOptions = {\r\n    spreadsheetId: string\r\n    range: string                       //  'Sheet1!A1:Z'  '!A:Z'\r\n    apiKey: string\r\n    valueRenderOption?: 'FORMATTED_VALUE' | 'UNFORMATTED_VALUE' | 'FORMULA'\r\n    dateTimeRenderOption?: 'SERIAL_NUMBER' | 'FORMATTED_STRING'\r\n    majorDimension?: 'ROWS' | 'COLUMNS'\r\n    signal?: AbortSignal\r\n  }\r\n  \r\n  /**  Google Sheets  rows: string[][] */\r\n  export async function fetchSheetValues(opts: SheetsFetchOptions): Promise<string[][]> {\r\n    const {\r\n      spreadsheetId,\r\n      range,\r\n      apiKey,\r\n      valueRenderOption = 'FORMATTED_VALUE',\r\n      dateTimeRenderOption = 'FORMATTED_STRING',\r\n      majorDimension = 'ROWS',\r\n      signal,\r\n    } = opts\r\n  \r\n    const base = `https://sheets.googleapis.com/v4/spreadsheets/${encodeURIComponent(spreadsheetId)}/values/${encodeURIComponent(range)}`\r\n    const url = `${base}?key=${encodeURIComponent(apiKey)}&valueRenderOption=${valueRenderOption}&dateTimeRenderOption=${dateTimeRenderOption}&majorDimension=${majorDimension}`\r\n  \r\n    const res = await fetch(url, { signal })\r\n    if (!res.ok) {\r\n      const text = await res.text().catch(() => '')\r\n      throw new Error(`Sheets API error ${res.status}: ${text || res.statusText}`)\r\n    }\r\n    const json = await res.json()\r\n    return (json.values ?? []) as string[][]\r\n  }\r\n  \r\n  /**  */\r\n  export async function fetchSheetAsObjects(opts: SheetsFetchOptions): Promise<Record<string, string>[]> {\r\n    const rows = await fetchSheetValues(opts)\r\n    if (!rows.length) return []\r\n    const headers = rows[0].map(h => String(h || '').trim())\r\n    const body = rows.slice(1)\r\n    return body.map(row => {\r\n      const obj: Record<string, string> = {}\r\n      headers.forEach((key, i) => { obj[key || `col_${i}`] = String(row[i] ?? '') })\r\n      return obj\r\n    })\r\n  }\r\n  ","export class PublicParam {\r\n    static readonly apikey: string = \"AIzaSyBvKj42lKDcGQOk4W-4yTdS3ZqkhoBy8PQ\";\r\n    static readonly spreadsheetId: string = \"1KucBpn0EVHDwfdaM_wEaIrJFK50V6418e4B8cfAjhgo\";\r\n    static readonly googleSheetsUrl: string = \"https://docs.google.com/spreadsheets/d/1KucBpn0EVHDwfdaM_wEaIrJFK50V6418e4B8cfAjhgo/edit?usp=sharing\";\r\n}","import * as XLSX from 'xlsx'\r\n\r\ntype RowObject = Record<string, any>\r\n\r\n/**\r\n *  xlsx\r\n * @param rows  e.g. [{name:'JN', count:1}, ...]\r\n * @param filename  e.g. '.xlsx'\r\n * @param sheetName e.g. 'Sheet1'\r\n * @param headerOrder \r\n */\r\n\r\nexport function exportObjectsToXlsx(\r\n    rows: RowObject[],\r\n    filename = 'export.xlsx',\r\n    sheetName = 'Sheet1',\r\n    headerOrder?: string[]\r\n  ) {\r\n    if (!rows?.length) {\r\n      //  headerOrder \r\n      const wb = XLSX.utils.book_new()\r\n      const ws = XLSX.utils.aoa_to_sheet([headerOrder ?? []])\r\n      autoFitSheet(ws, headerOrder?.map(h => h) ?? [])\r\n      XLSX.utils.book_append_sheet(wb, ws, sheetName)\r\n      XLSX.writeFile(wb, filename)\r\n      return\r\n    }\r\n  \r\n    const headers = headerOrder ?? Object.keys(rows[0])\r\n  \r\n    // \r\n    const normalized = rows.map(r => headers.map(h => r[h]))\r\n  \r\n    const wb = XLSX.utils.book_new()\r\n    const ws = XLSX.utils.aoa_to_sheet([headers, ...normalized])\r\n  \r\n    autoFitSheet(ws, headers, normalized)\r\n    XLSX.utils.book_append_sheet(wb, ws, sheetName)\r\n    XLSX.writeFile(wb, filename)\r\n  }\r\n  \r\n  /**\r\n   *  xlsx\r\n   * @param rows e.g. [['',''], ['JN',1], ...]\r\n   */\r\n  export function exportArray2DToXlsx(\r\n    rows: (string | number | boolean | null | undefined)[][],\r\n    filename = 'export.xlsx',\r\n    sheetName = 'Sheet1'\r\n  ) {\r\n    const wb = XLSX.utils.book_new()\r\n    const ws = XLSX.utils.aoa_to_sheet(rows ?? [])\r\n    const headers = rows?.[0]?.map(String) ?? []\r\n    const body = rows?.slice(1) ?? []\r\n    autoFitSheet(ws, headers, body)\r\n    XLSX.utils.book_append_sheet(wb, ws, sheetName)\r\n    XLSX.writeFile(wb, filename)\r\n  }\r\n  \r\n  /**  */\r\n  function autoFitSheet(\r\n    ws: XLSX.WorkSheet,\r\n    headers: string[],\r\n    body?: any[][]\r\n  ) {\r\n    const colCount = headers.length;\r\n    const data = [headers, ...(body ?? [])];\r\n    const colWidths: number[] = new Array(colCount).fill(10);\r\n  \r\n    for (let c = 0; c < colCount; c++) {\r\n      let max = 8;\r\n      for (let r = 0; r < data.length; r++) {\r\n        const cell = data[r]?.[c];\r\n        const txt = cell == null ? '' : String(cell);\r\n        const width = textVisualWidth(txt);\r\n        if (width > max) max = width;\r\n      }\r\n      colWidths[c] = Math.min(max + 2, 60); // padding\r\n    }\r\n  \r\n    //   @ts-ignore Reflect.set\r\n    const cols = colWidths.map(wch => ({ wch }));\r\n    (ws as XLSX.WorkSheet & { ['!cols']?: { wch: number }[] })['!cols'] = cols;\r\n    // Reflect.set(ws, '!cols', cols);\r\n  }\r\n\r\n  //  ASCII \r\nfunction charVisualWidth(ch: string): number {\r\n    const cp = ch.codePointAt(0) ?? 0;\r\n    return cp > 0xFF ? 2 : 1;\r\n  }\r\n  \r\n  function textVisualWidth(txt: string): number {\r\n    let w = 0;\r\n    for (const ch of Array.from(txt)) w += charVisualWidth(ch);\r\n    return w;\r\n  }","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, unref as _unref, normalizeStyle as _normalizeStyle, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, vShow as _vShow, Transition as _Transition, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewAllPrize\" }\nconst _hoisted_4 = { class: \"tableGridDiv\" }\nconst _hoisted_5 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_6 = [\"href\"]\nconst _hoisted_7 = { class: \"tableGridDiv\" }\nconst _hoisted_8 = [\"checked\", \"disabled\", \"onChange\"]\nconst _hoisted_9 = { class: \"scratchViewBody\" }\nconst _hoisted_10 = { class: \"scratch-object\" }\nconst _hoisted_11 = [\"src\"]\nconst _hoisted_12 = { class: \"showScratchDiv\" }\nconst _hoisted_13 = { class: \"prize\" }\nconst _hoisted_14 = { class: \"scratch-action\" }\nconst _hoisted_15 = { class: \"scratch-setting\" }\nconst _hoisted_16 = { class: \"showAllSetting\" }\nconst _hoisted_17 = { class: \"scratchRadiusValue\" }\nconst _hoisted_18 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_19 = { class: \"showSetting\" }\nconst _hoisted_20 = { class: \"setting-field-div\" }\nconst _hoisted_21 = { class: \"setting-field-count-div\" }\nconst _hoisted_22 = { class: \"tableGridDiv\" }\nconst _hoisted_23 = [\"onUpdate:modelValue\", \"onBlur\"]\nconst _hoisted_24 = [\"onUpdate:modelValue\", \"onBlur\"]\nconst _hoisted_25 = { class: \"showAllSetting\" }\nconst _hoisted_26 = { class: \"image-overlay\" }\nconst _hoisted_27 = [\"src\"]\nconst _hoisted_28 = { class: \"top-img-wrapper\" }\nconst _hoisted_29 = [\"src\"]\nconst _hoisted_30 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_31 = { class: \"scratchRadiusValue\" }\nconst _hoisted_32 = { class: \"scratchRadiusValue\" }\nconst _hoisted_33 = { class: \"scratchRadiusValue\" }\nconst _hoisted_34 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_35 = { class: \"scratchRadiusValue\" }\nconst _hoisted_36 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_37 = { class: \"scratchViewResult\" }\nconst _hoisted_38 = { class: \"tableDiv\" }\nconst _hoisted_39 = { class: \"tableData\" }\nconst _hoisted_40 = { class: \"tableDiv\" }\nconst _hoisted_41 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import UploadImageToBase64Components from '@/components/UploadImageToBase64Components.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import { useScratchConfig } from '@/stores/scratchConfig';\r\n  import { ScratchSetting, ScratchUser } from '@/models/ScratchSetting';\r\n  import VueSlider from 'vue-slider-component';\r\n  import { ChromePicker } from 'vue-color'\r\n  import 'vue-slider-component/theme/default.css';\r\n  import { fetchSheetValues } from '@/utils/loadGoogleSheet';\r\n  import { PublicParam } from '@/resources/public_params';\r\nimport { exportArray2DToXlsx } from '@/utils/exportExcel';\r\n  \r\n  type Row = (string | number | null | undefined)[]\r\n\r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchViewNew',\n  setup(__props) {\n\r\n  const imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const nowPrize = ref('');\r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const isScratchSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n\r\n  // \r\n  const scratchConfig = useScratchConfig();\r\n  const scratchSettingValue = ref<ScratchSetting>({\r\n        backgroundImage: scratchConfig.setting.backgroundImage,\r\n        maskImage: scratchConfig.setting.maskImage,\r\n        scratchRatio: scratchConfig.setting.scratchRatio,\r\n        prizeFontSize: scratchConfig.setting.prizeFontSize,\r\n        prizeFontColor: scratchConfig.setting.prizeFontColor,\r\n        backgroundWhiteOpacity: scratchConfig.setting.backgroundWhiteOpacity\r\n    });\r\n\r\n  const isScratchSettingTopImgShow = ref(true);\r\n\r\n  const bgImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null);\r\n  const maskImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null);\r\n  \r\n  const sheetData = ref<string[][]>([]);\r\n  const onUseSheetData = ref<ScratchUser[]>([]);\r\n\r\n  const userIndex = ref(-1);\r\n\r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        // prizeRecordArray.value.push(prize.value);\r\n        // prizeArray.value.splice(nowCurrent.value, 1);\r\n        // const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        // if (foundItem) {\r\n        //   foundItem.count--;\r\n        // }\r\n\r\n        // count\r\n        if (userIndex.value != -1) {\r\n          onUseSheetData.value[userIndex.value].useCount += 1\r\n          nowPrize.value = onUseSheetData.value[userIndex.value].userName + ' - ' + prize.value;\r\n          if (onUseSheetData.value[userIndex.value].useCount >= onUseSheetData.value[userIndex.value].scratchCount) {\r\n            userIndex.value = nextSelectableIndex();\r\n          }\r\n        } else {\r\n          nowPrize.value = prize.value;\r\n        }\r\n        prizeRecordArray.value.push(nowPrize.value);\r\n        prizeNowCountArray.value[nowCurrent.value][\"count\"] = prizeNowCountArray.value[nowCurrent.value][\"count\"] - 1;\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n\r\n  function applyScratchSetting() {\r\n    console.log(\"JN - applyScratchSetting\");\r\n    scratchConfig.setting.backgroundImage = scratchSettingValue.value.backgroundImage;\r\n    scratchConfig.setting.maskImage = scratchSettingValue.value.maskImage;\r\n    scratchConfig.setting.scratchRatio = scratchSettingValue.value.scratchRatio;\r\n    scratchConfig.setting.prizeFontSize = scratchSettingValue.value.prizeFontSize;\r\n    scratchConfig.setting.prizeFontColor = scratchSettingValue.value.prizeFontColor;\r\n    scratchConfig.setting.backgroundWhiteOpacity = scratchSettingValue.value.backgroundWhiteOpacity;\r\n    resetPrice();\r\n    alert(\"\");\r\n  }\r\n\r\n  function resetScratchSetting() {\r\n    console.log(\"JN - resetScratchSetting\");\r\n    scratchSettingValue.value.backgroundImage = scratchConfig.setting.backgroundImage;\r\n    scratchSettingValue.value.maskImage = scratchConfig.setting.maskImage;\r\n    scratchSettingValue.value.scratchRatio = scratchConfig.setting.scratchRatio;\r\n    scratchSettingValue.value.prizeFontSize = scratchConfig.setting.prizeFontSize;\r\n    scratchSettingValue.value.prizeFontColor = scratchConfig.setting.prizeFontColor;\r\n    scratchSettingValue.value.backgroundWhiteOpacity = scratchConfig.setting.backgroundWhiteOpacity;\r\n    bgImgUpload.value?.clear();\r\n    maskImgUpload.value?.clear();\r\n    alert(\"\");\r\n  }\r\n\r\n  function getImageBase64({ isBackgroundImage, base64 }: { isBackgroundImage: boolean; base64: string }) {\r\n    if (isBackgroundImage) {\r\n      console.log(\"JN - background image: \", base64);\r\n      scratchSettingValue.value.backgroundImage = base64;\r\n    } else {\r\n      console.log(\"JN - mask image: \", base64);\r\n      scratchSettingValue.value.maskImage = base64;\r\n    }\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n\r\n    // \r\n    let total = 0;\r\n    const weights = prizeNowCountArray.value.map((row) => {\r\n      const w = Math.max(0, row[\"count\"]) * Math.max(0, row[\"weight\"]);\r\n      total += w;\r\n      console.log(\"JN - roww: \", w);\r\n      return w;\r\n    });\r\n\r\n    if (total <= 0) {\r\n      alert(\"\\\"\\\"\");\r\n      return;\r\n    }\r\n    // if (prizeArray.value.length <= 0) {\r\n    //   alert(\"\\\"\\\"\");\r\n    //   return;\r\n    // }\r\n    isScratchComplete.value = false;\r\n\r\n    // \r\n    console.log(\"JN - total: \", total);\r\n    let r = Math.random() * total;\r\n    console.log(\"JN - r: \", r);\r\n    console.log(\"JN - : \", prizeNowCountArray);\r\n    for (let i = 0; i < prizeNowCountArray.value.length; i++) {\r\n      const w = weights[i];\r\n      if (w <= 0 ) continue\r\n      if (r < w) {\r\n        console.log(\"JN - :\", prizeNowCountArray.value[i][\"item\"], prizeNowCountArray.value[i][\"count\"])\r\n        nowCurrent.value = i;\r\n        prize.value = prizeNowCountArray.value[i][\"item\"];\r\n        break;\r\n      } else {\r\n        r -= w;\r\n      }\r\n      console.log(\"JN - r: \", r);\r\n    }\r\n\r\n    // nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    // prize.value = prizeArray.value[nowCurrent.value];\r\n\r\n    console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    for (const u of onUseSheetData.value) {\r\n      u.useCount = 0;\r\n    }\r\n    userIndex.value = 0;\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1, \"weight\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    \r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting(isItemSetting: boolean) {\r\n    if (isItemSetting) {\r\n      isSettingOpen.value = !isSettingOpen.value;\r\n    } else {\r\n      isScratchSettingOpen.value = !isScratchSettingOpen.value;\r\n    }\r\n  }\r\n\r\n  function buildUsersFromSheet(\r\n    rows: (string | number)[][],\r\n    nameIdx = 0,\r\n    countIdx = 1\r\n  ): ScratchUser[] {\r\n    const map = new Map<string, ScratchUser>()\r\n    //  2 \r\n    for (let i = 1; i < rows.length; i++) {\r\n      const row = rows[i] ?? []\r\n      const nameRaw = row[nameIdx]\r\n      const countRaw = row[countIdx]\r\n\r\n      if (nameRaw == null || nameRaw === '') continue\r\n\r\n      const name = String(nameRaw).trim()\r\n      //  \"1\" / \"2.5\"  number 0\r\n      const addCount = Number(countRaw)\r\n      const inc = Number.isFinite(addCount) ? addCount : 0\r\n\r\n      if (!map.has(name)) {\r\n        map.set(name, {\r\n          userName: name,\r\n          scratchCount: inc,\r\n          useCount: 0, //  0\r\n        })\r\n      } else {\r\n        //    scratchCountuseCount \r\n        const u = map.get(name)!\r\n        u.scratchCount += inc\r\n      }\r\n    }\r\n\r\n    return Array.from(map.values())\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n  async function refreshGoogleSheetData() {\r\n    sheetData.value = await fetchSheetValues({\r\n      spreadsheetId: PublicParam.spreadsheetId,\r\n      range: \"Sheet1!A1:Z\",\r\n      apiKey: PublicParam.apikey\r\n    });\r\n    onUseSheetData.value = reconcileUsersFromSheet(sheetData.value, onUseSheetData.value, 0, 1);\r\n    console.log(\"JN - onUseSheetData: \", onUseSheetData.value);\r\n\r\n  }\r\n\r\n  async function getGoogleSheetData() {\r\n    sheetData.value = await fetchSheetValues({\r\n      spreadsheetId: PublicParam.spreadsheetId,\r\n      range: \"Sheet1!A1:B\",\r\n      apiKey: PublicParam.apikey\r\n    });\r\n    console.log(\"JN - getGoogleSheetData: \", sheetData.value);\r\n    // onUseSheetData.value = buildUsersFromSheet(sheetData.value);\r\n    for (let i = 1; i < sheetData.value.length; i++) {\r\n      const resData: ScratchUser = {\r\n        userName: sheetData.value[i][0],\r\n        scratchCount: Number(sheetData.value[i][1]),\r\n        useCount: 0\r\n      };\r\n      onUseSheetData.value.push(resData);\r\n    }\r\n    console.log(\"JN - onUseSheetData: \", onUseSheetData.value);\r\n    if (onUseSheetData.value.length > 0) userIndex.value = 0;\r\n  }\r\n\r\n  function isFinished(resData: ScratchUser) {\r\n    return resData.useCount >= resData.scratchCount;\r\n  }\r\n\r\n  function onClickUser(index: number, checked: boolean) {\r\n    if (!checked) {\r\n      userIndex.value = -1\r\n      return\r\n    }\r\n\r\n    const userData = onUseSheetData.value[index]\r\n    if (isFinished(userData)) {\r\n      const next = nextSelectableIndex(index)\r\n      userIndex.value = next\r\n    } else {\r\n      userIndex.value = index\r\n    }\r\n\r\n    if (onUseSheetData.value.every(isFinished)) {\r\n      userIndex.value = -1\r\n    }\r\n  }\r\n\r\n  //  start \r\n  function nextSelectableIndex(start = -1): number {\r\n    const list = onUseSheetData.value\r\n    if (!list.length) return -1\r\n    for (let step = 1; step <= list.length; step++) {\r\n      const i = (start + step) % list.length\r\n      if (!isFinished(list[i])) return i\r\n    }\r\n    return -1\r\n  }\r\n\r\n  function parseSheet(rows: Row[], nameIdx = 0, countIdx = 1) {\r\n    // rows[0] : [\"\",\"\"]\r\n    const body = rows.slice(1)\r\n    return body\r\n      .map(r => {\r\n        const name = String(r?.[nameIdx] ?? '').trim()\r\n        const raw = r?.[countIdx]\r\n        const n = Number(raw)\r\n        const cnt = Number.isFinite(n) && n > 0 ? Math.floor(n) : 0\r\n        return { userName: name, scratchCount: cnt }\r\n      })\r\n      .filter(x => x.userName !== '')\r\n  }\r\n\r\n  function reconcileUsersFromSheet(\r\n    sheetRows: Row[],\r\n    prevUsers: ScratchUser[],\r\n    nameIdx = 0,\r\n    countIdx = 1\r\n  ): ScratchUser[] {\r\n    const latest = parseSheet(sheetRows, nameIdx, countIdx) // [{userName, scratchCount}, ...]\r\n\r\n    //   \r\n    const queues = new Map<string, number[]>()\r\n    prevUsers.forEach((u, i) => {\r\n      const q = queues.get(u.userName) ?? []\r\n      q.push(i)\r\n      queues.set(u.userName, q)\r\n    })\r\n\r\n    const nextUsers: ScratchUser[] = []\r\n\r\n    for (const row of latest) {\r\n      const q = queues.get(row.userName) ?? []\r\n      if (q.length > 0) {\r\n        // \r\n        const oldIdx = q.shift()!\r\n        const old = prevUsers[oldIdx]\r\n        //  scratchCount useCount scratchCount\r\n        nextUsers.push({\r\n          userName: row.userName,\r\n          scratchCount: row.scratchCount,\r\n          useCount: Math.min(old.useCount, row.scratchCount),\r\n        })\r\n        queues.set(row.userName, q)\r\n      } else {\r\n        // \r\n        nextUsers.push({\r\n          userName: row.userName,\r\n          scratchCount: row.scratchCount,\r\n          useCount: 0,\r\n        })\r\n      }\r\n    }\r\n\r\n    // queues  =  Sheet  nextUsers \r\n\r\n    return nextUsers\r\n  }\r\n\r\n  function exportXLSX() {\r\n    let outputArr: string[][] = [[\"\", \"\"], ...prizeRecordArray.value.map(s => {\r\n      const m = s.match(/^(.+?)\\s*-\\s*(.*)$/)\r\n      if (m) return [m[1].trim(), m[2].trim()]\r\n      // \r\n      return [\"\", s.trim()]\r\n    })];\r\n    exportArray2DToXlsx(outputArr, '.xlsx', 'Sheet1')\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"\";\r\n    reset();\r\n  });\r\n\r\n  onMounted(async () => {\r\n    await getGoogleSheetData();\r\n  });\r\n  \r\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[47] || (_cache[47] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[45] || (_cache[45] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[11] || (_cache[11] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"\", -1)),\n        _createElementVNode(\"table\", _hoisted_4, [\n          _cache[8] || (_cache[8] = _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", null, \"\"),\n              _createElementVNode(\"th\", null, \"\")\n            ])\n          ], -1)),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeNowCountArray.value, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(item.count), 1)\n              ]))\n            }), 128))\n          ])\n        ]),\n        _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"h2\", _hoisted_5, [\n          _createElementVNode(\"a\", {\n            href: _unref(PublicParam).googleSheetsUrl,\n            target: \"_blank\"\n          }, \"  \", 8, _hoisted_6)\n        ]),\n        _createElementVNode(\"button\", {\n          class: \"btn purple\",\n          onClick: refreshGoogleSheetData\n        }, \"\"),\n        _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"table\", _hoisted_7, [\n          _cache[9] || (_cache[9] = _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", null, \"\"),\n              _createElementVNode(\"th\", null, \"\"),\n              _createElementVNode(\"th\", null, \"\"),\n              _createElementVNode(\"th\", null, \"\")\n            ])\n          ], -1)),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(onUseSheetData.value, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                _createElementVNode(\"td\", null, [\n                  _createElementVNode(\"input\", {\n                    type: \"checkbox\",\n                    checked: userIndex.value === index,\n                    disabled: isFinished(item),\n                    onChange: ($event: any) => (onClickUser(index, $event.target.checked))\n                  }, null, 40, _hoisted_8)\n                ]),\n                _createElementVNode(\"td\", null, _toDisplayString(item.userName), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(item.scratchCount), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(item.useCount), 1)\n              ]))\n            }), 128))\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"div\", _hoisted_10, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(scratchConfig).setting.backgroundImage\n          }, null, 8, _hoisted_11),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '',\n              imageUrl: _unref(scratchConfig).setting.maskImage,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_13, [\n                  _createElementVNode(\"div\", {\n                    class: \"prizeShowDiv\",\n                    style: _normalizeStyle({backgroundColor: `rgba(255, 255, 255, ${_unref(scratchConfig).setting.backgroundWhiteOpacity/100})`})\n                  }, [\n                    _createElementVNode(\"label\", {\n                      class: \"prizeString\",\n                      style: _normalizeStyle({color: _unref(scratchConfig).setting.prizeFontColor, fontSize: _unref(scratchConfig).setting.prizeFontSize + 'px'})\n                    }, _toDisplayString(prize.value), 5)\n                  ], 4)\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[36] || (_cache[36] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[37] || (_cache[37] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[38] || (_cache[38] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_14, [\n          _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: (prizeArray.value.length == 0) ? '#f2f2f2' : '#e1bee7'}),\n            onClick: reset\n          }, \" / \", 4),\n          _cache[15] || (_cache[15] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"\"),\n          _cache[16] || (_cache[16] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"\"),\n          _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1))\n        ]),\n        _cache[39] || (_cache[39] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_15, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (openSetting(true)))\n          }, _toDisplayString(isSettingOpen.value ? '' : ''), 1),\n          _cache[32] || (_cache[32] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_16, [\n                _createElementVNode(\"div\", _hoisted_17, [\n                  _createElementVNode(\"h2\", _hoisted_18, \" \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[21] || (_cache[21] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_19, [\n                  _createElementVNode(\"div\", _hoisted_20, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"\"),\n                    _cache[18] || (_cache[18] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_21, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeCountUpdate\n                    }, \"\"),\n                    _cache[20] || (_cache[20] = _createElementVNode(\"br\", null, null, -1)),\n                    _createElementVNode(\"table\", _hoisted_22, [\n                      _cache[19] || (_cache[19] = _createElementVNode(\"thead\", null, [\n                        _createElementVNode(\"tr\", null, [\n                          _createElementVNode(\"th\", null, \"\"),\n                          _createElementVNode(\"th\", null, \"\"),\n                          _createElementVNode(\"th\", null, \"\")\n                        ])\n                      ], -1)),\n                      _createElementVNode(\"tbody\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeSettingCountArray.value, (item, index) => {\n                          return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                            _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                            _createElementVNode(\"td\", null, [\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"number\",\n                                min: \"1\",\n                                \"onUpdate:modelValue\": ($event: any) => ((item.count) = $event),\n                                class: \"prizeCountInput\",\n                                onBlur: ($event: any) => (checkInput(index))\n                              }, null, 40, _hoisted_23), [\n                                [_vModelText, item.count]\n                              ])\n                            ]),\n                            _createElementVNode(\"td\", null, [\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"number\",\n                                min: \"1\",\n                                \"onUpdate:modelValue\": ($event: any) => ((item.weight) = $event),\n                                class: \"prizeCountInput\",\n                                onBlur: ($event: any) => (checkInput(index))\n                              }, null, 40, _hoisted_24), [\n                                [_vModelText, item.weight]\n                              ])\n                            ])\n                          ]))\n                        }), 128))\n                      ])\n                    ])\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          }),\n          _cache[33] || (_cache[33] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#7FCBF0'},\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (openSetting(false)))\n          }, _toDisplayString(isScratchSettingOpen.value ? '' : ''), 1),\n          _cache[34] || (_cache[34] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_25, [\n                _createElementVNode(\"div\", null, [\n                  _cache[26] || (_cache[26] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"\", -1)),\n                  _createElementVNode(\"div\", _hoisted_26, [\n                    _createElementVNode(\"img\", {\n                      class: \"bg-img\",\n                      src: scratchSettingValue.value.backgroundImage\n                    }, null, 8, _hoisted_27),\n                    _createElementVNode(\"div\", _hoisted_28, [\n                      _createElementVNode(\"img\", {\n                        class: \"top-img\",\n                        src: scratchSettingValue.value.maskImage,\n                        style: _normalizeStyle({opacity: isScratchSettingTopImgShow.value ? 1 : 0, width: (scratchSettingValue.value.scratchRatio / 100 * 20.5) + 'vw', maxWidth: (scratchSettingValue.value.scratchRatio / 100 * 410) + 'px'})\n                      }, null, 12, _hoisted_29),\n                      _createElementVNode(\"label\", {\n                        class: \"middle-label\",\n                        style: _normalizeStyle({color: scratchSettingValue.value.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.value.prizeFontSize + 'px', backgroundColor: `rgba(255, 255, 255, ${scratchSettingValue.value.backgroundWhiteOpacity/100})`})\n                      }, \"\", 4)\n                    ])\n                  ]),\n                  _cache[27] || (_cache[27] = _createElementVNode(\"br\", null, null, -1)),\n                  _createElementVNode(\"h2\", _hoisted_30, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                      type: \"checkbox\",\n                      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((isScratchSettingTopImgShow).value = $event))\n                    }, null, 512), [\n                      [_vModelCheckbox, isScratchSettingTopImgShow.value]\n                    ]),\n                    _cache[22] || (_cache[22] = _createTextVNode(\"  \"))\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_31, [\n                    _cache[23] || (_cache[23] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"\", -1)),\n                    _createVNode(UploadImageToBase64Components, {\n                      ref_key: \"bgImgUpload\",\n                      ref: bgImgUpload,\n                      isBackgroundImage: true,\n                      onImageOutput: getImageBase64\n                    }, null, 512)\n                  ]),\n                  _cache[28] || (_cache[28] = _createElementVNode(\"br\", null, null, -1)),\n                  _createElementVNode(\"div\", _hoisted_32, [\n                    _cache[24] || (_cache[24] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"\", -1)),\n                    _createVNode(UploadImageToBase64Components, {\n                      ref_key: \"maskImgUpload\",\n                      ref: maskImgUpload,\n                      isBackgroundImage: false,\n                      onImageOutput: getImageBase64\n                    }, null, 512)\n                  ]),\n                  _cache[29] || (_cache[29] = _createElementVNode(\"br\", null, null, -1)),\n                  _createElementVNode(\"div\", _hoisted_33, [\n                    _createElementVNode(\"h2\", _hoisted_34, \": \" + _toDisplayString(scratchSettingValue.value.backgroundWhiteOpacity) + \" (0100)\", 1),\n                    _createVNode(_unref(VueSlider), _mergeProps({\n                      modelValue: scratchSettingValue.value.backgroundWhiteOpacity,\n                      \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((scratchSettingValue.value.backgroundWhiteOpacity) = $event))\n                    }, {min:0, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_35, [\n                    _createElementVNode(\"h2\", _hoisted_36, \": \" + _toDisplayString(scratchSettingValue.value.prizeFontSize), 1),\n                    _createVNode(_unref(VueSlider), _mergeProps({\n                      modelValue: scratchSettingValue.value.prizeFontSize,\n                      \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((scratchSettingValue.value.prizeFontSize) = $event))\n                    }, {min:20, max:40, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"]),\n                    _cache[25] || (_cache[25] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"\", -1)),\n                    _createVNode(_unref(ChromePicker), {\n                      modelValue: scratchSettingValue.value.prizeFontColor,\n                      \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((scratchSettingValue.value.prizeFontColor) = $event))\n                    }, null, 8, [\"modelValue\"]),\n                    _createElementVNode(\"h2\", {\n                      class: \"showScratchRadiusValue\",\n                      style: _normalizeStyle({color: scratchSettingValue.value.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.value.prizeFontSize + 'px'})\n                    }, \"\", 4)\n                  ]),\n                  _cache[30] || (_cache[30] = _createElementVNode(\"br\", null, null, -1))\n                ]),\n                _cache[31] || (_cache[31] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", { class: \"btn-group\" }, [\n                  _createElementVNode(\"button\", {\n                    class: \"btn purple\",\n                    onClick: resetScratchSetting\n                  }, \"\"),\n                  _createElementVNode(\"button\", {\n                    class: \"btn blue\",\n                    onClick: applyScratchSetting\n                  }, \"\")\n                ])\n              ], 512), [\n                [_vShow, isScratchSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          }),\n          _cache[35] || (_cache[35] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_37, [\n        _cache[42] || (_cache[42] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_38, [\n          _cache[40] || (_cache[40] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _createElementVNode(\"div\", _hoisted_39, _toDisplayString(isScratchComplete.value ? nowPrize.value : ''), 1)\n        ]),\n        _cache[43] || (_cache[43] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          class: \"btn purple\",\n          onClick: exportXLSX\n        }, \"\"),\n        _cache[44] || (_cache[44] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_40, [\n          _cache[41] || (_cache[41] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_41, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ])\n      ]),\n      _cache[46] || (_cache[46] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratchView\">\r\n      <br/>\r\n      <div class=\"scratchViewRow\">\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n        <div class=\"scratchViewAllPrize\">\r\n          <br/>\r\n          <h2 class=\"showScratchRadiusValue\"></h2>\r\n          <table class=\"tableGridDiv\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in prizeNowCountArray\" :key=\"index\">\r\n                <td>{{ item.item }}</td>\r\n                <td>{{ item.count }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <br/>\r\n          <h2 class=\"showScratchRadiusValue\"><a :href=\"PublicParam.googleSheetsUrl\" target=\"_blank\">\r\n            \r\n          </a></h2>\r\n          <button class=\"btn purple\" @click=\"refreshGoogleSheetData\"></button>\r\n          <br/>\r\n          <table class=\"tableGridDiv\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in onUseSheetData\" :key=\"index\">\r\n                <td>\r\n                  <!--  checkbox selectedIndex  -->\r\n                  <input type=\"checkbox\" :checked=\"userIndex === index\" :disabled=\"isFinished(item)\" @change=\"onClickUser(index, $event.target.checked)\" />\r\n                </td>\r\n                <td>{{ item.userName }}</td>\r\n                <td>{{ item.scratchCount }}</td>\r\n                <td>{{ item.useCount }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"scratchViewBody\">\r\n          <div class=\"scratch-object\">\r\n            <img class=\"backgroundImg\" :src=\"scratchConfig.setting.backgroundImage\"/>\r\n            <div class=\"showScratchDiv\">\r\n              <ScratchComponents \r\n                ref=\"scratchCard\" \r\n                :scratchPercent=\"70\" \r\n                :maskColor=\"'skyblue'\" \r\n                :fillStyle=\"'red'\" \r\n                :font=\"'30px Arial'\" \r\n                :text=\"''\" \r\n                :imageUrl=\"scratchConfig.setting.maskImage\" \r\n                :radius=\"5\" \r\n                :scratchRadius=\"scratchRadius*sliderValue/100\"    \r\n                @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n                @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                  <div class=\"prize\">\r\n                    <div class=\"prizeShowDiv\" :style=\"{backgroundColor: `rgba(255, 255, 255, ${scratchConfig.setting.backgroundWhiteOpacity/100})`}\">\r\n                      <label class=\"prizeString\" :style=\"{color: scratchConfig.setting.prizeFontColor, fontSize: scratchConfig.setting.prizeFontSize + 'px'}\">{{ prize }}</label>\r\n                    </div>\r\n                  </div>\r\n              </ScratchComponents>\r\n            </div>\r\n          </div>\r\n          <br/><br/><br/>\r\n          <!--  -->\r\n          <div class=\"scratch-action\">\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: (prizeArray.length == 0) ? '#f2f2f2' : '#e1bee7'}\" @click=\"reset\"> / </div>\r\n            <!-- <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\"></div> -->\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\"></div>\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\"></div>\r\n            <br/>\r\n          </div>\r\n          <br/>\r\n          <!--  -->\r\n          <div class=\"scratch-setting\">\r\n            <!--  -->\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting(true)\">{{ isSettingOpen ? '' : '' }}</div>\r\n            <br/>\r\n            <transition name=\"slider\">\r\n              <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n                <div class=\"scratchRadiusValue\">\r\n                  <h2 class=\"showScratchRadiusValue\"> {{ sliderValue }}%</h2>\r\n                  <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                </div>\r\n                <br/>\r\n                <div class=\"showSetting\">\r\n                  <div class=\"setting-field-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeAdd\"></div>\r\n                    <br/>\r\n                    <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                  </div>\r\n                  <div class=\"setting-field-count-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeCountUpdate\"></div>\r\n                    <br/>\r\n                    <table class=\"tableGridDiv\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th></th>\r\n                          <th></th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr v-for=\"(item, index) in prizeSettingCountArray\" :key=\"index\">\r\n                          <td>{{ item.item }}</td>\r\n                          <td>\r\n                            <input type=\"number\" min=\"1\" v-model=\"item.count\" class=\"prizeCountInput\" @blur=\"checkInput(index)\"/>\r\n                          </td>\r\n                          <td>\r\n                            <input type=\"number\" min=\"1\" v-model=\"item.weight\" class=\"prizeCountInput\" @blur=\"checkInput(index)\"/>\r\n                          </td>\r\n                          <!-- <td>{{ item.count }}</td> -->\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </transition>\r\n            <br/>\r\n            <!--  -->\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#7FCBF0'}\" @click=\"openSetting(false)\">{{ isScratchSettingOpen ? '' : '' }}</div>\r\n            <br/>\r\n            <transition name=\"slider\">\r\n              <div v-show=\"isScratchSettingOpen\" class=\"showAllSetting\">\r\n                <div>\r\n                  <h2 class=\"showScratchRadiusValue\"></h2>\r\n                  <div class=\"image-overlay\">\r\n                    <img class=\"bg-img\" :src=scratchSettingValue.backgroundImage />\r\n                    <div class=\"top-img-wrapper\">\r\n                      <img class=\"top-img\" :src=scratchSettingValue.maskImage :style=\"{opacity: isScratchSettingTopImgShow ? 1 : 0, width: (scratchSettingValue.scratchRatio / 100 * 20.5) + 'vw', maxWidth: (scratchSettingValue.scratchRatio / 100 * 410) + 'px'}\"/>\r\n                      <label class=\"middle-label\" :style=\"{color: scratchSettingValue.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.prizeFontSize + 'px', backgroundColor: `rgba(255, 255, 255, ${scratchSettingValue.backgroundWhiteOpacity/100})`}\"></label>\r\n                    </div>\r\n                  </div>\r\n                  <br/>\r\n                  <h2 class=\"showScratchRadiusValue\">\r\n                    <input type=\"checkbox\" v-model=\"isScratchSettingTopImgShow\" />\r\n                    \r\n                  </h2>\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\"></h2>\r\n                    <UploadImageToBase64Components ref=\"bgImgUpload\" :isBackgroundImage='true' @imageOutput=\"getImageBase64\"></UploadImageToBase64Components>\r\n                  </div>\r\n                  <br/>\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\"></h2>\r\n                    <UploadImageToBase64Components ref=\"maskImgUpload\" :isBackgroundImage='false' @imageOutput=\"getImageBase64\"></UploadImageToBase64Components>\r\n                  </div>\r\n                  <br/>\r\n                  <!-- <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">{{ scratchSettingValue.scratchRatio }}</h2>\r\n                    <VueSlider v-model=\"scratchSettingValue.scratchRatio\" v-bind=\"{min:100, max:150, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                  </div>\r\n                  <br/> -->\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">: {{ scratchSettingValue.backgroundWhiteOpacity }} (0100)</h2>\r\n                    <VueSlider v-model=\"scratchSettingValue.backgroundWhiteOpacity\" v-bind=\"{min:0, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                  </div>\r\n                  <div class=\"scratchRadiusValue\">\r\n                    <h2 class=\"showScratchRadiusValue\">: {{ scratchSettingValue.prizeFontSize }}</h2>\r\n                    <VueSlider v-model=\"scratchSettingValue.prizeFontSize\" v-bind=\"{min:20, max:40, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                    <h2 class=\"showScratchRadiusValue\"></h2>\r\n                    <ChromePicker v-model=\"scratchSettingValue.prizeFontColor\" />\r\n                    <h2 class=\"showScratchRadiusValue\" :style=\"{color: scratchSettingValue.prizeFontColor, fontWeight: 'bold', fontSize: scratchSettingValue.prizeFontSize + 'px'}\"></h2>\r\n                  </div>\r\n                  <br/>\r\n                </div>\r\n                <br/>\r\n                <!--  -->\r\n                <div class=\"btn-group\">\r\n                  <button class=\"btn purple\" @click=\"resetScratchSetting\"></button>\r\n                  <button class=\"btn blue\" @click=\"applyScratchSetting\"></button>\r\n                </div>\r\n              </div>\r\n            </transition>\r\n            <br/>\r\n          </div>\r\n        </div>\r\n        <div class=\"scratchViewResult\">\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\"></div>\r\n            <div class=\"tableData\">{{ isScratchComplete ? nowPrize : '' }}</div>\r\n          </div>\r\n          <br/>\r\n          <button class=\"btn purple\" @click=\"exportXLSX\"></button>\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\"></div>\r\n            <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n            <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n          </div>\r\n        </div>\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import UploadImageToBase64Components from '@/components/UploadImageToBase64Components.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import { useScratchConfig } from '@/stores/scratchConfig';\r\n  import { ScratchSetting, ScratchUser } from '@/models/ScratchSetting';\r\n  import VueSlider from 'vue-slider-component';\r\n  import { ChromePicker } from 'vue-color'\r\n  import 'vue-slider-component/theme/default.css';\r\n  import { fetchSheetValues } from '@/utils/loadGoogleSheet';\r\n  import { PublicParam } from '@/resources/public_params';\r\nimport { exportArray2DToXlsx } from '@/utils/exportExcel';\r\n  \r\n  const imageUrl = ref(ImagePath.backGroundImage_letizia_2);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1,\r\n      'weight' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const nowPrize = ref('');\r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const isScratchSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n\r\n  // \r\n  const scratchConfig = useScratchConfig();\r\n  const scratchSettingValue = ref<ScratchSetting>({\r\n        backgroundImage: scratchConfig.setting.backgroundImage,\r\n        maskImage: scratchConfig.setting.maskImage,\r\n        scratchRatio: scratchConfig.setting.scratchRatio,\r\n        prizeFontSize: scratchConfig.setting.prizeFontSize,\r\n        prizeFontColor: scratchConfig.setting.prizeFontColor,\r\n        backgroundWhiteOpacity: scratchConfig.setting.backgroundWhiteOpacity\r\n    });\r\n\r\n  const isScratchSettingTopImgShow = ref(true);\r\n\r\n  const bgImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null);\r\n  const maskImgUpload = ref<InstanceType<typeof UploadImageToBase64Components> | null>(null);\r\n  \r\n  const sheetData = ref<string[][]>([]);\r\n  const onUseSheetData = ref<ScratchUser[]>([]);\r\n\r\n  const userIndex = ref(-1);\r\n\r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        // prizeRecordArray.value.push(prize.value);\r\n        // prizeArray.value.splice(nowCurrent.value, 1);\r\n        // const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        // if (foundItem) {\r\n        //   foundItem.count--;\r\n        // }\r\n\r\n        // count\r\n        if (userIndex.value != -1) {\r\n          onUseSheetData.value[userIndex.value].useCount += 1\r\n          nowPrize.value = onUseSheetData.value[userIndex.value].userName + ' - ' + prize.value;\r\n          if (onUseSheetData.value[userIndex.value].useCount >= onUseSheetData.value[userIndex.value].scratchCount) {\r\n            userIndex.value = nextSelectableIndex();\r\n          }\r\n        } else {\r\n          nowPrize.value = prize.value;\r\n        }\r\n        prizeRecordArray.value.push(nowPrize.value);\r\n        prizeNowCountArray.value[nowCurrent.value][\"count\"] = prizeNowCountArray.value[nowCurrent.value][\"count\"] - 1;\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n\r\n  function applyScratchSetting() {\r\n    console.log(\"JN - applyScratchSetting\");\r\n    scratchConfig.setting.backgroundImage = scratchSettingValue.value.backgroundImage;\r\n    scratchConfig.setting.maskImage = scratchSettingValue.value.maskImage;\r\n    scratchConfig.setting.scratchRatio = scratchSettingValue.value.scratchRatio;\r\n    scratchConfig.setting.prizeFontSize = scratchSettingValue.value.prizeFontSize;\r\n    scratchConfig.setting.prizeFontColor = scratchSettingValue.value.prizeFontColor;\r\n    scratchConfig.setting.backgroundWhiteOpacity = scratchSettingValue.value.backgroundWhiteOpacity;\r\n    resetPrice();\r\n    alert(\"\");\r\n  }\r\n\r\n  function resetScratchSetting() {\r\n    console.log(\"JN - resetScratchSetting\");\r\n    scratchSettingValue.value.backgroundImage = scratchConfig.setting.backgroundImage;\r\n    scratchSettingValue.value.maskImage = scratchConfig.setting.maskImage;\r\n    scratchSettingValue.value.scratchRatio = scratchConfig.setting.scratchRatio;\r\n    scratchSettingValue.value.prizeFontSize = scratchConfig.setting.prizeFontSize;\r\n    scratchSettingValue.value.prizeFontColor = scratchConfig.setting.prizeFontColor;\r\n    scratchSettingValue.value.backgroundWhiteOpacity = scratchConfig.setting.backgroundWhiteOpacity;\r\n    bgImgUpload.value?.clear();\r\n    maskImgUpload.value?.clear();\r\n    alert(\"\");\r\n  }\r\n\r\n  function getImageBase64({ isBackgroundImage, base64 }: { isBackgroundImage: boolean; base64: string }) {\r\n    if (isBackgroundImage) {\r\n      console.log(\"JN - background image: \", base64);\r\n      scratchSettingValue.value.backgroundImage = base64;\r\n    } else {\r\n      console.log(\"JN - mask image: \", base64);\r\n      scratchSettingValue.value.maskImage = base64;\r\n    }\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n\r\n    // \r\n    let total = 0;\r\n    const weights = prizeNowCountArray.value.map((row) => {\r\n      const w = Math.max(0, row[\"count\"]) * Math.max(0, row[\"weight\"]);\r\n      total += w;\r\n      console.log(\"JN - roww: \", w);\r\n      return w;\r\n    });\r\n\r\n    if (total <= 0) {\r\n      alert(\"\\\"\\\"\");\r\n      return;\r\n    }\r\n    // if (prizeArray.value.length <= 0) {\r\n    //   alert(\"\\\"\\\"\");\r\n    //   return;\r\n    // }\r\n    isScratchComplete.value = false;\r\n\r\n    // \r\n    console.log(\"JN - total: \", total);\r\n    let r = Math.random() * total;\r\n    console.log(\"JN - r: \", r);\r\n    console.log(\"JN - : \", prizeNowCountArray);\r\n    for (let i = 0; i < prizeNowCountArray.value.length; i++) {\r\n      const w = weights[i];\r\n      if (w <= 0 ) continue\r\n      if (r < w) {\r\n        console.log(\"JN - :\", prizeNowCountArray.value[i][\"item\"], prizeNowCountArray.value[i][\"count\"])\r\n        nowCurrent.value = i;\r\n        prize.value = prizeNowCountArray.value[i][\"item\"];\r\n        break;\r\n      } else {\r\n        r -= w;\r\n      }\r\n      console.log(\"JN - r: \", r);\r\n    }\r\n\r\n    // nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    // prize.value = prizeArray.value[nowCurrent.value];\r\n\r\n    console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    for (const u of onUseSheetData.value) {\r\n      u.useCount = 0;\r\n    }\r\n    userIndex.value = 0;\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1, \"weight\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    \r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting(isItemSetting: boolean) {\r\n    if (isItemSetting) {\r\n      isSettingOpen.value = !isSettingOpen.value;\r\n    } else {\r\n      isScratchSettingOpen.value = !isScratchSettingOpen.value;\r\n    }\r\n  }\r\n\r\n  function buildUsersFromSheet(\r\n    rows: (string | number)[][],\r\n    nameIdx = 0,\r\n    countIdx = 1\r\n  ): ScratchUser[] {\r\n    const map = new Map<string, ScratchUser>()\r\n    //  2 \r\n    for (let i = 1; i < rows.length; i++) {\r\n      const row = rows[i] ?? []\r\n      const nameRaw = row[nameIdx]\r\n      const countRaw = row[countIdx]\r\n\r\n      if (nameRaw == null || nameRaw === '') continue\r\n\r\n      const name = String(nameRaw).trim()\r\n      //  \"1\" / \"2.5\"  number 0\r\n      const addCount = Number(countRaw)\r\n      const inc = Number.isFinite(addCount) ? addCount : 0\r\n\r\n      if (!map.has(name)) {\r\n        map.set(name, {\r\n          userName: name,\r\n          scratchCount: inc,\r\n          useCount: 0, //  0\r\n        })\r\n      } else {\r\n        //    scratchCountuseCount \r\n        const u = map.get(name)!\r\n        u.scratchCount += inc\r\n      }\r\n    }\r\n\r\n    return Array.from(map.values())\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n\r\n  async function refreshGoogleSheetData() {\r\n    sheetData.value = await fetchSheetValues({\r\n      spreadsheetId: PublicParam.spreadsheetId,\r\n      range: \"Sheet1!A1:Z\",\r\n      apiKey: PublicParam.apikey\r\n    });\r\n    onUseSheetData.value = reconcileUsersFromSheet(sheetData.value, onUseSheetData.value, 0, 1);\r\n    console.log(\"JN - onUseSheetData: \", onUseSheetData.value);\r\n\r\n  }\r\n\r\n  async function getGoogleSheetData() {\r\n    sheetData.value = await fetchSheetValues({\r\n      spreadsheetId: PublicParam.spreadsheetId,\r\n      range: \"Sheet1!A1:B\",\r\n      apiKey: PublicParam.apikey\r\n    });\r\n    console.log(\"JN - getGoogleSheetData: \", sheetData.value);\r\n    // onUseSheetData.value = buildUsersFromSheet(sheetData.value);\r\n    for (let i = 1; i < sheetData.value.length; i++) {\r\n      const resData: ScratchUser = {\r\n        userName: sheetData.value[i][0],\r\n        scratchCount: Number(sheetData.value[i][1]),\r\n        useCount: 0\r\n      };\r\n      onUseSheetData.value.push(resData);\r\n    }\r\n    console.log(\"JN - onUseSheetData: \", onUseSheetData.value);\r\n    if (onUseSheetData.value.length > 0) userIndex.value = 0;\r\n  }\r\n\r\n  function isFinished(resData: ScratchUser) {\r\n    return resData.useCount >= resData.scratchCount;\r\n  }\r\n\r\n  function onClickUser(index: number, checked: boolean) {\r\n    if (!checked) {\r\n      userIndex.value = -1\r\n      return\r\n    }\r\n\r\n    const userData = onUseSheetData.value[index]\r\n    if (isFinished(userData)) {\r\n      const next = nextSelectableIndex(index)\r\n      userIndex.value = next\r\n    } else {\r\n      userIndex.value = index\r\n    }\r\n\r\n    if (onUseSheetData.value.every(isFinished)) {\r\n      userIndex.value = -1\r\n    }\r\n  }\r\n\r\n  //  start \r\n  function nextSelectableIndex(start = -1): number {\r\n    const list = onUseSheetData.value\r\n    if (!list.length) return -1\r\n    for (let step = 1; step <= list.length; step++) {\r\n      const i = (start + step) % list.length\r\n      if (!isFinished(list[i])) return i\r\n    }\r\n    return -1\r\n  }\r\n\r\n  type Row = (string | number | null | undefined)[]\r\n\r\n  function parseSheet(rows: Row[], nameIdx = 0, countIdx = 1) {\r\n    // rows[0] : [\"\",\"\"]\r\n    const body = rows.slice(1)\r\n    return body\r\n      .map(r => {\r\n        const name = String(r?.[nameIdx] ?? '').trim()\r\n        const raw = r?.[countIdx]\r\n        const n = Number(raw)\r\n        const cnt = Number.isFinite(n) && n > 0 ? Math.floor(n) : 0\r\n        return { userName: name, scratchCount: cnt }\r\n      })\r\n      .filter(x => x.userName !== '')\r\n  }\r\n\r\n  function reconcileUsersFromSheet(\r\n    sheetRows: Row[],\r\n    prevUsers: ScratchUser[],\r\n    nameIdx = 0,\r\n    countIdx = 1\r\n  ): ScratchUser[] {\r\n    const latest = parseSheet(sheetRows, nameIdx, countIdx) // [{userName, scratchCount}, ...]\r\n\r\n    //   \r\n    const queues = new Map<string, number[]>()\r\n    prevUsers.forEach((u, i) => {\r\n      const q = queues.get(u.userName) ?? []\r\n      q.push(i)\r\n      queues.set(u.userName, q)\r\n    })\r\n\r\n    const nextUsers: ScratchUser[] = []\r\n\r\n    for (const row of latest) {\r\n      const q = queues.get(row.userName) ?? []\r\n      if (q.length > 0) {\r\n        // \r\n        const oldIdx = q.shift()!\r\n        const old = prevUsers[oldIdx]\r\n        //  scratchCount useCount scratchCount\r\n        nextUsers.push({\r\n          userName: row.userName,\r\n          scratchCount: row.scratchCount,\r\n          useCount: Math.min(old.useCount, row.scratchCount),\r\n        })\r\n        queues.set(row.userName, q)\r\n      } else {\r\n        // \r\n        nextUsers.push({\r\n          userName: row.userName,\r\n          scratchCount: row.scratchCount,\r\n          useCount: 0,\r\n        })\r\n      }\r\n    }\r\n\r\n    // queues  =  Sheet  nextUsers \r\n\r\n    return nextUsers\r\n  }\r\n\r\n  function exportXLSX() {\r\n    let outputArr: string[][] = [[\"\", \"\"], ...prizeRecordArray.value.map(s => {\r\n      const m = s.match(/^(.+?)\\s*-\\s*(.*)$/)\r\n      if (m) return [m[1].trim(), m[2].trim()]\r\n      // \r\n      return [\"\", s.trim()]\r\n    })];\r\n    exportArray2DToXlsx(outputArr, '.xlsx', 'Sheet1')\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"\";\r\n    reset();\r\n  });\r\n\r\n  onMounted(async () => {\r\n    await getGoogleSheetData();\r\n  });\r\n  \r\n  </script>\r\n  \r\n  <style scoped>\r\n  \r\n  .scratchView {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    background-color: #1ED760;\r\n    min-height: 100vh;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewRow {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .scratchViewAllPrize {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewBody {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 50vw;\r\n  }\r\n  \r\n  .scratchViewResult {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n  }\r\n  \r\n  .backgroundImg {\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n    object-fit: contain;\r\n    z-index: 1;\r\n  }\r\n  \r\n  .scratch-object {\r\n    position: relative;\r\n    user-select: none;\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchDiv {\r\n    position: absolute;\r\n    /* top: min(168.4px, 8.42vw); */\r\n    /* left: min(299px, 14.95vw); */\r\n    inset: 0;\r\n    z-index: 2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prize {\r\n    width: 20.5vw;\r\n    max-width: 410px;\r\n    height: 12.025vw;\r\n    max-height: 240.5px;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n    \r\n  }\r\n  \r\n  .prizeImg {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    object-fit: contain;\r\n  }\r\n  \r\n  .prizeShowDiv {\r\n    position: absolute;\r\n    width: 20.5vw;\r\n    max-width: 410px;\r\n    height: 12.025vw;\r\n    max-height: 240.5px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prizeString {\r\n    position: absolute;\r\n    font-size: large;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: black;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .scratch-setting {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .showAllSetting {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .scratchRadiusValue {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchRadiusValue {\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .showSetting {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 5%;\r\n    width: 100%;\r\n    height: auto;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .slide-enter-active,\r\n  .slide-leave-active {\r\n  transition: max-height 0.3s ease, padding 0.3s ease;\r\n  }\r\n  \r\n  .slide-enter-from,\r\n  .slide-leave-to {\r\n  max-height: 0;\r\n  padding: 0 20px;\r\n  opacity: 0;\r\n  }\r\n  \r\n  .setting-field-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field-count-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field {\r\n    width: 90%;\r\n    height: auto;\r\n    resize: vertical;\r\n    font-size: medium;\r\n    min-height: 20vw;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .scratch-action {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 99;\r\n  }\r\n  \r\n  .btn-reset {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 30vw;\r\n    height: 50px;\r\n    border: 2px solid silver;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    text-align: center;\r\n    font-size: large;\r\n    color: white;\r\n    font-weight: bold;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .tableDiv {\r\n    width: 20vw;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .tableTitle {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableData {\r\n    color: #333;\r\n    padding: 15px;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .tableGridDiv {\r\n    width: 100%;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    border-collapse: collapse;\r\n    table-layout: fixed;\r\n  }\r\n  \r\n  .tableGridDiv thead {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableGridDiv th {\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n  \r\n  .tableGridDiv tbody {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .tableGridDiv td {\r\n    color: #333;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .prizeCountInput {\r\n    width: 40%;\r\n    text-align: center;\r\n    padding: 5px;\r\n    font-size: medium;\r\n  }\r\n\r\n  /*  */\r\n  .btn-group {\r\n    margin-top: 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 16px;\r\n  }\r\n\r\n  /*  */\r\n  .btn {\r\n    padding: 10px 20px;\r\n    border-radius: 12px;\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n    cursor: pointer;\r\n    border: none;\r\n    transition: 0.2s;\r\n    box-shadow: 0 4px 0 rgba(0,0,0,0.2);\r\n  }\r\n\r\n  /*  */\r\n  .btn.blue {\r\n    background: #46aee0;\r\n    color: #fff;\r\n  }\r\n  .btn.blue:hover {\r\n    background: #3594c7;\r\n  }\r\n\r\n  /*  */\r\n  .btn.purple {\r\n    background: #7a66d0;\r\n    color: #fff;\r\n  }\r\n  .btn.purple:hover {\r\n    background: #5d4eb0;\r\n  }\r\n\r\n  .image-overlay {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  /*  */\r\n  .bg-img {\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n  }\r\n\r\n  /*  */\r\n  .top-img-wrapper {\r\n    position: absolute;\r\n    /* display: flex; */\r\n    display: inline-block;\r\n    /* justify-content: center; */\r\n    /* align-items: center; */\r\n    border: 4px solid silver;   /*  */\r\n    overflow: hidden;\r\n  }\r\n  \r\n  /*  */\r\n  .top-img {\r\n    /* width: 20.5vw; */\r\n    /* max-width: 410px; */\r\n    height: auto;\r\n    /*  */\r\n    display: block;\r\n    position: relative;\r\n    z-index: 2;\r\n  }\r\n\r\n  .middle-label {\r\n    position: absolute;\r\n    inset: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 1;\r\n    pointer-events: none;\r\n    text-align: center;\r\n    padding: 8px;\r\n  }\r\n  </style>","import script from \"./ScratchViewNew.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchViewNew.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchViewNew.vue?vue&type=style&index=0&id=24c3bbdd&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-24c3bbdd\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, mergeProps as _mergeProps, vModelText as _vModelText, withDirectives as _withDirectives, vShow as _vShow, Transition as _Transition, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchView\" }\nconst _hoisted_2 = { class: \"scratchViewRow\" }\nconst _hoisted_3 = { class: \"scratchViewAllPrize\" }\nconst _hoisted_4 = { class: \"tableGridDiv\" }\nconst _hoisted_5 = { class: \"scratchViewBody\" }\nconst _hoisted_6 = { class: \"scratch-object\" }\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"showScratchDiv\" }\nconst _hoisted_9 = { class: \"prize\" }\nconst _hoisted_10 = { class: \"prizeShowDiv\" }\nconst _hoisted_11 = { class: \"prizeString\" }\nconst _hoisted_12 = { class: \"scratch-setting\" }\nconst _hoisted_13 = { class: \"showAllSetting\" }\nconst _hoisted_14 = { class: \"scratchRadiusValue\" }\nconst _hoisted_15 = { class: \"showScratchRadiusValue\" }\nconst _hoisted_16 = { class: \"showSetting\" }\nconst _hoisted_17 = { class: \"setting-field-div\" }\nconst _hoisted_18 = { class: \"setting-field-count-div\" }\nconst _hoisted_19 = { class: \"tableGridDiv\" }\nconst _hoisted_20 = [\"onUpdate:modelValue\", \"onBlur\"]\nconst _hoisted_21 = { class: \"scratch-action\" }\nconst _hoisted_22 = { class: \"scratchViewResult\" }\nconst _hoisted_23 = { class: \"tableDiv\" }\nconst _hoisted_24 = { class: \"tableData\" }\nconst _hoisted_25 = { class: \"tableDiv\" }\nconst _hoisted_26 = { class: \"tableData\" }\n\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import VueSlider from 'vue-slider-component';\r\n  import 'vue-slider-component/theme/default.css';\r\n  \r\n  \nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchViewNew2',\n  setup(__props) {\n\r\n  const imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n  \r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n    \r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        prizeRecordArray.value.push(prize.value);\r\n        prizeArray.value.splice(nowCurrent.value, 1);\r\n        const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        if (foundItem) {\r\n          foundItem.count--;\r\n        }\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n    if (prizeArray.value.length <= 0) {\r\n      alert(\"\\\"\\\"\");\r\n      return;\r\n    }\r\n    isScratchComplete.value = false;\r\n    nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    prize.value = prizeArray.value[nowCurrent.value];\r\n    console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting() {\r\n    isSettingOpen.value = !isSettingOpen.value;\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"\";\r\n    reset();\r\n  });\r\n  \r\n  \nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _cache[24] || (_cache[24] = _createElementVNode(\"br\", null, null, -1)),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[22] || (_cache[22] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1)),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _cache[3] || (_cache[3] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[4] || (_cache[4] = _createElementVNode(\"h2\", { class: \"showScratchRadiusValue\" }, \"\", -1)),\n        _createElementVNode(\"table\", _hoisted_4, [\n          _cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"th\", null, \"\"),\n              _createElementVNode(\"th\", null, \"\")\n            ])\n          ], -1)),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeNowCountArray.value, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                _createElementVNode(\"td\", null, _toDisplayString(item.count), 1)\n              ]))\n            }), 128))\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"img\", {\n            class: \"backgroundImg\",\n            src: _unref(ImagePath).backGroundImage_rekarita_2\n          }, null, 8, _hoisted_7),\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(ScratchComponents, {\n              ref_key: \"scratchCard\",\n              ref: scratchCard,\n              scratchPercent: 70,\n              maskColor: 'skyblue',\n              fillStyle: 'red',\n              font: '30px Arial',\n              text: '',\n              imageUrl: imageUrl.value,\n              radius: 5,\n              scratchRadius: scratchRadius*sliderValue.value/100,\n              onScratchStart: scratchStart,\n              onScratchEnd: scratchEnd,\n              onScratchAll: scratchAll,\n              onTouchStart: touchStart,\n              onTouchEnd: touchEnd\n            }, {\n              default: _withCtx(() => [\n                _createElementVNode(\"div\", _hoisted_9, [\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _createElementVNode(\"label\", _hoisted_11, _toDisplayString(prize.value), 1)\n                  ])\n                ])\n              ]),\n              _: 1\n            }, 8, [\"imageUrl\", \"scratchRadius\"])\n          ])\n        ]),\n        _cache[14] || (_cache[14] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[15] || (_cache[15] = _createElementVNode(\"br\", null, null, -1)),\n        _cache[16] || (_cache[16] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#50afe4'},\n            onClick: openSetting\n          }, _toDisplayString(isSettingOpen.value ? '' : ''), 1),\n          _cache[9] || (_cache[9] = _createElementVNode(\"br\", null, null, -1)),\n          _createVNode(_Transition, { name: \"slider\" }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"div\", _hoisted_13, [\n                _createElementVNode(\"div\", _hoisted_14, [\n                  _createElementVNode(\"h2\", _hoisted_15, \" \" + _toDisplayString(sliderValue.value) + \"%\", 1),\n                  _createVNode(_unref(VueSlider), _mergeProps({\n                    modelValue: sliderValue.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((sliderValue).value = $event))\n                  }, {min:10, max:100, dotSize:14, width: '50%', height: 4}), null, 16, [\"modelValue\"])\n                ]),\n                _cache[8] || (_cache[8] = _createElementVNode(\"br\", null, null, -1)),\n                _createElementVNode(\"div\", _hoisted_16, [\n                  _createElementVNode(\"div\", _hoisted_17, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeAdd\n                    }, \"\"),\n                    _cache[5] || (_cache[5] = _createElementVNode(\"br\", null, null, -1)),\n                    _withDirectives(_createElementVNode(\"textarea\", {\n                      class: \"setting-field\",\n                      type: \"text\",\n                      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((settingValue).value = $event))\n                    }, null, 512), [\n                      [_vModelText, settingValue.value]\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_18, [\n                    _createElementVNode(\"div\", {\n                      class: \"btn-reset\",\n                      style: {backgroundColor: '#75bee9', width: '15vw', height: '20px'},\n                      onClick: prizeCountUpdate\n                    }, \"\"),\n                    _cache[7] || (_cache[7] = _createElementVNode(\"br\", null, null, -1)),\n                    _createElementVNode(\"table\", _hoisted_19, [\n                      _cache[6] || (_cache[6] = _createElementVNode(\"thead\", null, [\n                        _createElementVNode(\"tr\", null, [\n                          _createElementVNode(\"th\", null, \"\"),\n                          _createElementVNode(\"th\", null, \"\")\n                        ])\n                      ], -1)),\n                      _createElementVNode(\"tbody\", null, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeSettingCountArray.value, (item, index) => {\n                          return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                            _createElementVNode(\"td\", null, _toDisplayString(item.item), 1),\n                            _createElementVNode(\"td\", null, [\n                              _withDirectives(_createElementVNode(\"input\", {\n                                type: \"number\",\n                                min: \"1\",\n                                \"onUpdate:modelValue\": ($event: any) => ((item.count) = $event),\n                                class: \"prizeCountInput\",\n                                onBlur: ($event: any) => (checkInput(index))\n                              }, null, 40, _hoisted_20), [\n                                [_vModelText, item.count]\n                              ])\n                            ])\n                          ]))\n                        }), 128))\n                      ])\n                    ])\n                  ])\n                ])\n              ], 512), [\n                [_vShow, isSettingOpen.value]\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _cache[17] || (_cache[17] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_21, [\n          _cache[10] || (_cache[10] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: _normalizeStyle({backgroundColor: (prizeArray.value.length == 0) ? '#f2f2f2' : '#e1bee7'}),\n            onClick: reset\n          }, \" / \", 4),\n          _cache[11] || (_cache[11] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#b39ddb'},\n            onClick: resetPrice\n          }, \"\"),\n          _cache[12] || (_cache[12] = _createElementVNode(\"br\", null, null, -1)),\n          _createElementVNode(\"div\", {\n            class: \"btn-reset\",\n            style: {backgroundColor: '#e1bee7'},\n            onClick: removeRecord\n          }, \"\"),\n          _cache[13] || (_cache[13] = _createElementVNode(\"br\", null, null, -1))\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_22, [\n        _cache[20] || (_cache[20] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_23, [\n          _cache[18] || (_cache[18] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _createElementVNode(\"div\", _hoisted_24, _toDisplayString(isScratchComplete.value ? prize.value : ''), 1)\n        ]),\n        _cache[21] || (_cache[21] = _createElementVNode(\"br\", null, null, -1)),\n        _createElementVNode(\"div\", _hoisted_25, [\n          _cache[19] || (_cache[19] = _createElementVNode(\"div\", { class: \"tableTitle\" }, \"\", -1)),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_26, null, 512), [\n            [_vShow, prizeRecordArray.value.length == 0]\n          ]),\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeRecordArray.value, (item, index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              class: \"tableData\",\n              key: index\n            }, _toDisplayString(item), 1))\n          }), 128))\n        ])\n      ]),\n      _cache[23] || (_cache[23] = _createElementVNode(\"div\", { style: {width: '2vw', height: '2px'} }, null, -1))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratchView\">\r\n      <br/>\r\n      <div class=\"scratchViewRow\">\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n        <div class=\"scratchViewAllPrize\">\r\n          <br/>\r\n          <h2 class=\"showScratchRadiusValue\"></h2>\r\n          <table class=\"tableGridDiv\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in prizeNowCountArray\" :key=\"index\">\r\n                <td>{{ item.item }}</td>\r\n                <td>{{ item.count }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"scratchViewBody\">\r\n          <div class=\"scratch-object\">\r\n            <img class=\"backgroundImg\" :src=\"ImagePath.backGroundImage_rekarita_2\"/>\r\n            <div class=\"showScratchDiv\">\r\n              <ScratchComponents \r\n                ref=\"scratchCard\" \r\n                :scratchPercent=\"70\" \r\n                :maskColor=\"'skyblue'\" \r\n                :fillStyle=\"'red'\" \r\n                :font=\"'30px Arial'\" \r\n                :text=\"''\" \r\n                :imageUrl=\"imageUrl\" \r\n                :radius=\"5\" \r\n                :scratchRadius=\"scratchRadius*sliderValue/100\"    \r\n                @scratchStart=\"scratchStart\" @scratchEnd=\"scratchEnd\" @scratchAll=\"scratchAll\" \r\n                @touchStart=\"touchStart\" @touchEnd=\"touchEnd\">\r\n                  <div class=\"prize\">\r\n                    <div class=\"prizeShowDiv\">\r\n                      <label class=\"prizeString\">{{ prize }}</label>\r\n                    </div>\r\n                  </div>\r\n              </ScratchComponents>\r\n            </div>\r\n          </div>\r\n          <br/><br/><br/>\r\n          <div class=\"scratch-setting\">\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#50afe4'}\" @click=\"openSetting\">{{ isSettingOpen ? '' : '' }}</div>\r\n            <br/>\r\n            <transition name=\"slider\">\r\n              <div v-show=\"isSettingOpen\" class=\"showAllSetting\">\r\n                <div class=\"scratchRadiusValue\">\r\n                  <h2 class=\"showScratchRadiusValue\"> {{ sliderValue }}%</h2>\r\n                  <VueSlider v-model=\"sliderValue\" v-bind=\"{min:10, max:100, dotSize:14, width: '50%', height: 4}\"></VueSlider>\r\n                </div>\r\n                <br/>\r\n                <div class=\"showSetting\">\r\n                  <div class=\"setting-field-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeAdd\"></div>\r\n                    <br/>\r\n                    <textarea class=\"setting-field\" type=\"text\" v-model=\"settingValue\"></textarea>\r\n                  </div>\r\n                  <div class=\"setting-field-count-div\">\r\n                    <div class=\"btn-reset\" :style=\"{backgroundColor: '#75bee9', width: '15vw', height: '20px'}\" @click=\"prizeCountUpdate\"></div>\r\n                    <br/>\r\n                    <table class=\"tableGridDiv\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th></th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr v-for=\"(item, index) in prizeSettingCountArray\" :key=\"index\">\r\n                          <td>{{ item.item }}</td>\r\n                          <td>\r\n                            <input type=\"number\" min=\"1\" v-model=\"item.count\" class=\"prizeCountInput\" @blur=\"checkInput(index)\"/>\r\n                          </td>\r\n                          <!-- <td>{{ item.count }}</td> -->\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </transition>\r\n          </div>\r\n          <br/>\r\n          <div class=\"scratch-action\">\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: (prizeArray.length == 0) ? '#f2f2f2' : '#e1bee7'}\" @click=\"reset\"> / </div>\r\n            <!-- <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: isScratchComplete ? '#d1c4e9' : '#f2f2f2'}\" @click=\"removePrice\"></div> -->\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#b39ddb'}\" @click=\"resetPrice\"></div>\r\n            <br/>\r\n            <div class=\"btn-reset\" :style=\"{backgroundColor: '#e1bee7'}\" @click=\"removeRecord\"></div>\r\n            <br/>\r\n          </div>\r\n        </div>\r\n        <div class=\"scratchViewResult\">\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\"></div>\r\n            <div class=\"tableData\">{{ isScratchComplete ? prize : '' }}</div>\r\n          </div>\r\n          <br/>\r\n          <div class=\"tableDiv\">\r\n            <div class=\"tableTitle\"></div>\r\n            <div v-show=\"prizeRecordArray.length == 0\" class=\"tableData\"></div>\r\n            <div v-for=\"(item, index) in prizeRecordArray\" class=\"tableData\" :key=\"index\">{{ item }}</div>\r\n          </div>\r\n        </div>\r\n        <div :style=\"{width: '2vw', height: '2px'}\"></div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { ref, onBeforeMount, onMounted } from 'vue';\r\n  import ScratchComponents from '@/components/ScratchComponents.vue';\r\n  import ScratchSettingComponents from '@/components/ScratchSettingComponents.vue';\r\n  import 'vue-sidebar-menu/dist/vue-sidebar-menu.css'\r\n  import {ImagePath} from '../resources/web_image';\r\n  import { SidebarMenu } from 'vue-sidebar-menu';\r\n  import VueSlider from 'vue-slider-component';\r\n  import 'vue-slider-component/theme/default.css';\r\n  \r\n  const imageUrl = ref(ImagePath.backGroundImage_rekarita_1);\r\n  \r\n  const scratchRadius = window.innerWidth * 0.8 / 8;\r\n  \r\n  const prizeSettingArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeArray = ref(['1', '2', '3', '4', '5']);\r\n  \r\n  const prizeSettingCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const prizeNowCountArray = ref([\r\n    {\r\n      'item': '1',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '2',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '3',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '4',\r\n      'count' : 1\r\n    },\r\n    {\r\n      'item': '5',\r\n      'count' : 1\r\n    },\r\n  ]);\r\n  \r\n  const nowCurrent = ref(-1);\r\n  \r\n  const prizeRecordArray = ref([]);\r\n  \r\n  const prize = ref('');\r\n  const scratchCard = ref();\r\n  const isScratchComplete = ref(false);\r\n  const isSideBarOFF = ref(false);\r\n  const isSettingOpen = ref(true);\r\n  const settingValue = ref('1\\n2\\n3\\n4\\n5');\r\n  \r\n  const sliderValue = ref(30);\r\n  \r\n  const menu = ref([\r\n    {\r\n        header: 'Main Navigation',\r\n        hiddenOnCollapse: true,\r\n    },\r\n    {\r\n        component: ScratchSettingComponents,\r\n        hiddenOnCollapse: true,\r\n    }\r\n  ]);\r\n  \r\n  function onToggleCollapse() {\r\n    isSideBarOFF.value = !isSideBarOFF.value\r\n    console.log('JN - onToggleCollapse....', isSideBarOFF.value ? \"\" : \"\");\r\n    \r\n  }\r\n  \r\n  function scratchStart() {\r\n    console.log(\"JN - scratch start\");\r\n  }\r\n  \r\n  function scratchEnd() {\r\n    console.log('JN - scratch end');\r\n  }\r\n  \r\n  function scratchAll() {\r\n    console.log('JN - scratch all');\r\n    isScratchComplete.value = true;\r\n    if (prize.value != '') {\r\n        prizeRecordArray.value.push(prize.value);\r\n        prizeArray.value.splice(nowCurrent.value, 1);\r\n        const foundItem = prizeNowCountArray.value.find(obj => obj.item === prize.value);\r\n        if (foundItem) {\r\n          foundItem.count--;\r\n        }\r\n        console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    }\r\n  }\r\n\r\n  function touchStart() {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  function touchEnd() {\r\n    document.body.style.overflow = \"\";\r\n  }\r\n  \r\n  function reset() {\r\n    console.log('JN - scratch reset');\r\n    if (prizeArray.value.length <= 0) {\r\n      alert(\"\\\"\\\"\");\r\n      return;\r\n    }\r\n    isScratchComplete.value = false;\r\n    nowCurrent.value = getRandomInt(0, prizeArray.value.length - 1);\r\n    prize.value = prizeArray.value[nowCurrent.value];\r\n    console.log(`JN - :${nowCurrent.value + 1} - ${prize.value}`);\r\n    scratchCard.value?.reset();\r\n  }\r\n  \r\n  function removePrice() {\r\n    console.log('JN - remove price');\r\n    if (isScratchComplete.value) {\r\n        if (prizeArray.value.length > 1) {\r\n            prizeArray.value.splice(nowCurrent.value, 1);\r\n            reset();\r\n        }\r\n    }\r\n  }\r\n  \r\n  function resetPrice() {\r\n    console.log('JN - reset price');\r\n    prizeArray.value = structuredClone(prizeSettingArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    reset();\r\n    removeRecord();\r\n  }\r\n  \r\n  function removeRecord() {\r\n    prizeRecordArray.value = [];\r\n  }\r\n  \r\n  function prizeAdd() {\r\n    const resArray = settingValue.value.split('\\n').filter(item => item != \"\");\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    let resCountArray = [];\r\n    prizeSettingArray.value.map((value) => resCountArray.push({\"item\": value, \"count\": 1}));\r\n    prizeSettingCountArray.value = structuredClone(resCountArray);\r\n    prizeNowCountArray.value = structuredClone(resCountArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    reset();\r\n  }\r\n  \r\n  function prizeCountUpdate() {\r\n    console.log('JN - now prizeSettingCountArray:', prizeSettingCountArray.value);\r\n    prizeNowCountArray.value = structuredClone(prizeSettingCountArray.value);\r\n    console.log('JN - now prizeNowCountArray:', prizeNowCountArray.value);\r\n    let resArray = [];\r\n    for (let e in prizeNowCountArray.value) {\r\n      console.log('JN - now prizeNowCountArray e:', prizeNowCountArray.value[e]);\r\n      for (var i = 0; i < prizeNowCountArray.value[e].count; i++) {\r\n        resArray.push(prizeNowCountArray.value[e].item);\r\n      }\r\n    }\r\n    prizeSettingArray.value = structuredClone(resArray);\r\n    prizeArray.value = structuredClone(resArray);\r\n    console.log('JN - resArray:', resArray);\r\n    reset();\r\n  }\r\n\r\n  function checkInput(index) {\r\n    console.log('JN - check Input value:', prizeSettingCountArray.value[index].count);\r\n    let value = prizeSettingCountArray.value[index].count;\r\n    if (typeof value != \"number\" || isNaN(value)) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    } else if (value <= 0) {\r\n        prizeSettingCountArray.value[index].count = 1\r\n    }\r\n  }\r\n  \r\n  function openSetting() {\r\n    isSettingOpen.value = !isSettingOpen.value;\r\n  }\r\n  \r\n  function getRandomInt(min: number, max: number): number {\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n  \r\n  onBeforeMount(() => {\r\n    document.title = \"\";\r\n    reset();\r\n  });\r\n  \r\n  </script>\r\n  \r\n  <style scoped>\r\n  \r\n  .scratchView {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    background-color: #1ED760;\r\n    min-height: 100vh;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewRow {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .scratchViewAllPrize {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .scratchViewBody {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 50vw;\r\n  }\r\n  \r\n  .scratchViewResult {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 23vw;\r\n  }\r\n  \r\n  .backgroundImg {\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n    object-fit: contain;\r\n    z-index: 1;\r\n  }\r\n  \r\n  .scratch-object {\r\n    position: relative;\r\n    user-select: none;\r\n    width: 50vw;\r\n    max-width: 1000px;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchDiv {\r\n    position: absolute;\r\n    top: min(268.14px, 13.407vw);\r\n    left: min(332.2px, 16.6vw);\r\n    z-index: 2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prize {\r\n    width: 16.6vw;\r\n    max-width: 332px;\r\n    height: 9.485vw;\r\n    max-height: 189.7px;\r\n    user-select: none;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    overflow: hidden;\r\n  }\r\n  \r\n  .prizeImg {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    object-fit: contain;\r\n  }\r\n  \r\n  .prizeShowDiv {\r\n    position: absolute;\r\n    width: 16.6vw;\r\n    max-width: 332px;\r\n    height: 9.485vw;\r\n    max-height: 189.7px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .prizeString {\r\n    position: absolute;\r\n    font-size: large;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    color: black;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .scratch-setting {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .showAllSetting {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .scratchRadiusValue {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n  \r\n  .showScratchRadiusValue {\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .showSetting {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 5%;\r\n    width: 100%;\r\n    height: auto;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .slide-enter-active,\r\n  .slide-leave-active {\r\n  transition: max-height 0.3s ease, padding 0.3s ease;\r\n  }\r\n  \r\n  .slide-enter-from,\r\n  .slide-leave-to {\r\n  max-height: 0;\r\n  padding: 0 20px;\r\n  opacity: 0;\r\n  }\r\n  \r\n  .setting-field-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field-count-div {\r\n    width: 20vw;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .setting-field {\r\n    width: 90%;\r\n    height: auto;\r\n    resize: vertical;\r\n    font-size: medium;\r\n    min-height: 20vw;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 1.6;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .scratch-action {\r\n    width: 100%;\r\n    height: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    z-index: 99;\r\n  }\r\n  \r\n  .btn-reset {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 30vw;\r\n    height: 50px;\r\n    border: 2px solid silver;\r\n    border-radius: 15px;\r\n    padding: 10px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    text-align: center;\r\n    font-size: large;\r\n    color: white;\r\n    font-weight: bold;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n  }\r\n  \r\n  .tableDiv {\r\n    width: 20vw;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  .tableTitle {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableData {\r\n    color: #333;\r\n    padding: 15px;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .tableGridDiv {\r\n    width: 100%;\r\n    height: auto;\r\n    border: 2px solid silver;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: hidden;\r\n    font-family: \"PingFang TC\", \"Microsoft JhengHei\", \"Noto Sans CJK TC\", \"WenQuanYi Micro Hei\", \"PMingLiU\", sans-serif;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n    border-collapse: collapse;\r\n    table-layout: fixed;\r\n  }\r\n  \r\n  .tableGridDiv thead {\r\n    background-color: #9575cd;\r\n    color: white;\r\n    padding: 10px;\r\n    border-bottom: 1px solid silver;\r\n  }\r\n  \r\n  .tableGridDiv th {\r\n    font-size: large;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n  \r\n  .tableGridDiv tbody {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .tableGridDiv td {\r\n    color: #333;\r\n    font-size: medium;\r\n    line-height: 1.6;\r\n  }\r\n  \r\n  .prizeCountInput {\r\n    width: 40%;\r\n    text-align: center;\r\n    padding: 5px;\r\n    font-size: medium;\r\n  }\r\n  \r\n  </style>","import script from \"./ScratchViewNew2.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchViewNew2.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchViewNew2.vue?vue&type=style&index=0&id=be0ec95e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-be0ec95e\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport ScratchView from '../views/ScratchView.vue'\nimport ScratchView2 from '../views/ScratchView2.vue'\nimport ScratchViewNew from '../views/ScratchViewNew.vue'\nimport ScratchViewNew2 from '../views/ScratchViewNew2.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'scratchView',\n    component: ScratchView\n  },\n  {\n    path: '/letizia',\n    name: 'letizia',\n    component: ScratchView\n  },\n  {\n    path: '/letizia_new',\n    name: 'letizia_new',\n    component: ScratchViewNew\n  },\n  {\n    path: '/rekarita',\n    name: 'rekarita',\n    component: ScratchView2\n  },\n  {\n    path: '/rekarita_new',\n    name: 'rekarita_new',\n    component: ScratchViewNew2\n  },\n  {\n    path: '/about',\n    name: 'about',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  },\n  {\n    path: '/home',\n    name: 'home',\n    component: HomeView\n  },\n]\n\nconst router = createRouter({\n  // history: createWebHistory(process.env.BASE_URL),\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport { createPinia } from 'pinia'\r\nimport 'vue-color/style.css';\r\n\r\n// createApp(App).use(router).mount('#app')\r\nconst app = createApp(App)\r\napp.use(router)\r\napp.use(createPinia())\r\napp.mount('#app')","export class ImagePath {\r\n    static readonly backGroundImage_letizia_1 = require('../assets/images/backGroundImage_letizia_1.webp');\r\n    static readonly backGroundImage_letizia_2 = require('../assets/images/backGroundImage_letizia_2.webp');\r\n    static readonly backGroundImage_rekarita_1 = require('../assets/images/backGroundImage_rekarita_1.webp');\r\n    static readonly backGroundImage_rekarita_2 = require('../assets/images/backGroundImage_rekarita_2.webp');\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratchBox\" }\nconst _hoisted_2 = [\"width\", \"height\"]\n\nimport { nextTick } from 'vue';\r\nimport { ref, onMounted, onUnmounted } from 'vue';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchComponents',\n  props: {\r\n    scratchPercent: {\r\n        type: Number,\r\n        default: 80\r\n    },\r\n    imageUrl: {\r\n        type: String\r\n    },\r\n    maskColor: {\r\n        type: String,\r\n        default: \"#cccccc\"\r\n    },\r\n    fillStyle: {\r\n        type: String,\r\n        default: \"#000000\"\r\n    },\r\n    font: {\r\n        type: String,\r\n        default: \"20px Arial\"\r\n    },\r\n    text: {\r\n        type: String,\r\n        default: \"\"\r\n    },\r\n    radius: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    scratchRadius: {\r\n        type: Number,\r\n        default: 10\r\n    }\r\n},\n  emits: [\r\n    'scratchStart', 'scratchEnd', 'ScratchAll', 'touchStart', 'touchEnd'\r\n],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\r\nconst props = __props;\r\n\r\nconst emits = __emit;\r\n\r\nconst ctx = ref<CanvasRenderingContext2D | null | undefined>(null);\r\nconst slot = ref<HTMLInputElement | null>(null);\r\nconst canvas = ref<HTMLCanvasElement | null>(null);\r\nconst width = ref(0);\r\nconst height = ref(0);\r\nconst isScratch = ref(false);\r\nconst isScratchComplete = ref(false);\r\n\r\nfunction init() {\r\n    console.log('JN - init0');\r\n    initCanvas();\r\n    console.log('JN - init1');\r\n    nextTick(() => {\r\n        console.log('JN - init2');\r\n        initDraw();\r\n        console.log('JN - init3');\r\n        bindEvents();\r\n        console.log('JN - init4');\r\n    });\r\n}\r\n\r\nfunction initCanvas() {\r\n    width.value = slot.value?.offsetWidth || 0;\r\n    height.value = slot.value?.offsetHeight || 0;\r\n    console.log(\"JN - initCanvas width: \", width.value);\r\n    console.log(\"JN - initCanvas height: \", height.value);\r\n}\r\n\r\nfunction initDraw() {\r\n    ctx.value = canvas.value?.getContext(\"2d\");\r\n    if (ctx.value) {\r\n        ctx.value.globalAlpha = 1;\r\n        ctx.value.fillStyle = props.maskColor;\r\n        if (props.radius) {\r\n            const radius = props.radius;\r\n            ctx.value.beginPath();\r\n            //\r\n            ctx.value.moveTo(radius, 0);\r\n            ctx.value.arcTo(0, 0, 0, radius, radius);\r\n            //\r\n            ctx.value.lineTo(0, height.value - radius);\r\n            ctx.value.arcTo(0, height.value, radius, height.value, radius);\r\n            // \r\n            ctx.value.lineTo(width.value - radius, height.value);\r\n            ctx.value.arcTo(\r\n                width.value,\r\n                height.value,\r\n                width.value,\r\n                height.value - radius,\r\n                radius\r\n            );\r\n            //\r\n            ctx.value.lineTo(width.value, radius);\r\n            ctx.value.arcTo(width.value, 0, width.value - radius, 0, radius);\r\n\r\n            ctx.value.closePath();\r\n            ctx.value.clip();\r\n        }\r\n        ctx.value.fillRect(0, 0, width.value, height.value);\r\n\r\n        if (!props.imageUrl) {\r\n            ctx.value.fillStyle = props.fillStyle;\r\n            ctx.value.font = props.font;\r\n\r\n            let text = props.text;\r\n            let textWidth = ctx.value.measureText(text).width;\r\n            let x = width.value / 2 - textWidth / 2;\r\n            let y = height.value / 2 + 6;\r\n\r\n            ctx.value.fillText(text, x, y);\r\n        } else {\r\n            const img = new Image();\r\n            img.src = props.imageUrl;\r\n\r\n            img.onload = () => {\r\n                ctx.value?.drawImage(img, 0, 0, width.value, height.value);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction bindEvents() {\r\n    if (!canvas.value) return;\r\n\r\n    canvas.value.addEventListener(\"mousedown\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mousemove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mouseup\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            calcArea();\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchstart\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            emits(\"scratchStart\");\r\n            emits(\"touchStart\");\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchmove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchend\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            emits(\"scratchEnd\");\r\n            emits(\"touchEnd\");\r\n            calcArea();\r\n        }\r\n    });\r\n}\r\n\r\nfunction drawArc(e: MouseEvent | TouchEvent) {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    const canvasPos = canvas.value.getBoundingClientRect();\r\n    const pageScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    const pageScrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n    let mouseX = 0;\r\n    let mouseY = 0;\r\n\r\n    if (e instanceof MouseEvent) {\r\n        mouseX = e.pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.pageY - canvasPos.top - pageScrollTop;\r\n    } else if(e instanceof TouchEvent) {\r\n        mouseX = e.targetTouches[0].pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.targetTouches[0].pageY - canvasPos.top - pageScrollTop;\r\n    } else {\r\n        return;\r\n    }\r\n\r\n    ctx.value.globalCompositeOperation = \"destination-out\";\r\n    ctx.value.beginPath();\r\n    ctx.value.fillStyle = \"white\";\r\n    ctx.value.moveTo(mouseX, mouseY);\r\n    ctx.value.arc(mouseX, mouseY, props.scratchRadius, 0, 3 * Math.PI);\r\n    ctx.value.fill();\r\n}\r\n\r\nfunction reset() {\r\n    console.log('JN - reset0');\r\n    width.value = 0;\r\n    console.log('JN - reset1');\r\n    height.value = 0;\r\n    console.log('JN - reset2');\r\n    nextTick(() => {\r\n        console.log('JN - reset3');\r\n        init();\r\n        console.log('JN - reset4');\r\n        isScratchComplete.value = false;\r\n    });\r\n}\r\n\r\nfunction calcArea() {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    let myImg = ctx.value.getImageData(0, 0, width.value, height.value);\r\n    let num = 0;\r\n    let max = myImg.data.length / 4;\r\n    for (let i = 0; i < myImg.data.length; i+=4) {\r\n        if (myImg.data[i+3] == 0) {\r\n            num++;\r\n        }\r\n    }\r\n\r\n    if (num >= max * (props.scratchPercent / 100)) {\r\n        // canvas.value.remove();\r\n        ctx.value.clearRect(0, 0, width.value, height.value);\r\n        emits(\"ScratchAll\");\r\n        isScratchComplete.value = true;\r\n    }\r\n}\r\n\r\nfunction onResize() {\r\n    ctx.value = null;\r\n    init();\r\n}\r\n\r\nonMounted(() => {\r\n    init();\r\n    window.addEventListener(\"resize\", onResize);\r\n});\r\n\r\nonUnmounted(() => {\r\n    window.removeEventListener(\"resize\", onResize);\r\n});\r\n\r\n__expose({\r\n    reset\r\n});\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      ref_key: \"slot\",\n      ref: slot,\n      class: \"slot\",\n      style: _normalizeStyle({borderRadius: __props.radius + 'px'})\n    }, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ], 4),\n    (width.value && height.value)\n      ? (_openBlock(), _createElementBlock(\"canvas\", {\n          key: 0,\n          class: \"canvas\",\n          ref_key: \"canvas\",\n          ref: canvas,\n          width: width.value,\n          height: height.value,\n          style: _normalizeStyle({border: isScratchComplete.value ? 'none' : '4px solid silver'})\n        }, null, 12, _hoisted_2))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratchBox\">\r\n        <div ref=\"slot\" class=\"slot\" :style=\"{borderRadius: radius + 'px'}\">\r\n            <slot></slot>\r\n        </div>\r\n        <canvas \r\n        v-if=\"width && height\" \r\n        class=\"canvas\" ref=\"canvas\" \r\n        :width=\"width\" :height=\"height\" :style=\"{border: isScratchComplete ? 'none' : '4px solid silver'}\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { nextTick } from 'vue';\r\nimport { ref, defineProps, defineEmits, defineExpose, onMounted, onUnmounted } from 'vue';\r\n\r\nconst props = defineProps({\r\n    scratchPercent: {\r\n        type: Number,\r\n        default: 80\r\n    },\r\n    imageUrl: {\r\n        type: String\r\n    },\r\n    maskColor: {\r\n        type: String,\r\n        default: \"#cccccc\"\r\n    },\r\n    fillStyle: {\r\n        type: String,\r\n        default: \"#000000\"\r\n    },\r\n    font: {\r\n        type: String,\r\n        default: \"20px Arial\"\r\n    },\r\n    text: {\r\n        type: String,\r\n        default: \"\"\r\n    },\r\n    radius: {\r\n        type: Number,\r\n        default: 0\r\n    },\r\n    scratchRadius: {\r\n        type: Number,\r\n        default: 10\r\n    }\r\n});\r\n\r\nconst emits = defineEmits([\r\n    'scratchStart', 'scratchEnd', 'ScratchAll', 'touchStart', 'touchEnd'\r\n]);\r\n\r\nconst ctx = ref<CanvasRenderingContext2D | null | undefined>(null);\r\nconst slot = ref<HTMLInputElement | null>(null);\r\nconst canvas = ref<HTMLCanvasElement | null>(null);\r\nconst width = ref(0);\r\nconst height = ref(0);\r\nconst isScratch = ref(false);\r\nconst isScratchComplete = ref(false);\r\n\r\nfunction init() {\r\n    console.log('JN - init0');\r\n    initCanvas();\r\n    console.log('JN - init1');\r\n    nextTick(() => {\r\n        console.log('JN - init2');\r\n        initDraw();\r\n        console.log('JN - init3');\r\n        bindEvents();\r\n        console.log('JN - init4');\r\n    });\r\n}\r\n\r\nfunction initCanvas() {\r\n    width.value = slot.value?.offsetWidth || 0;\r\n    height.value = slot.value?.offsetHeight || 0;\r\n    console.log(\"JN - initCanvas width: \", width.value);\r\n    console.log(\"JN - initCanvas height: \", height.value);\r\n}\r\n\r\nfunction initDraw() {\r\n    ctx.value = canvas.value?.getContext(\"2d\");\r\n    if (ctx.value) {\r\n        ctx.value.globalAlpha = 1;\r\n        ctx.value.fillStyle = props.maskColor;\r\n        if (props.radius) {\r\n            const radius = props.radius;\r\n            ctx.value.beginPath();\r\n            //\r\n            ctx.value.moveTo(radius, 0);\r\n            ctx.value.arcTo(0, 0, 0, radius, radius);\r\n            //\r\n            ctx.value.lineTo(0, height.value - radius);\r\n            ctx.value.arcTo(0, height.value, radius, height.value, radius);\r\n            // \r\n            ctx.value.lineTo(width.value - radius, height.value);\r\n            ctx.value.arcTo(\r\n                width.value,\r\n                height.value,\r\n                width.value,\r\n                height.value - radius,\r\n                radius\r\n            );\r\n            //\r\n            ctx.value.lineTo(width.value, radius);\r\n            ctx.value.arcTo(width.value, 0, width.value - radius, 0, radius);\r\n\r\n            ctx.value.closePath();\r\n            ctx.value.clip();\r\n        }\r\n        ctx.value.fillRect(0, 0, width.value, height.value);\r\n\r\n        if (!props.imageUrl) {\r\n            ctx.value.fillStyle = props.fillStyle;\r\n            ctx.value.font = props.font;\r\n\r\n            let text = props.text;\r\n            let textWidth = ctx.value.measureText(text).width;\r\n            let x = width.value / 2 - textWidth / 2;\r\n            let y = height.value / 2 + 6;\r\n\r\n            ctx.value.fillText(text, x, y);\r\n        } else {\r\n            const img = new Image();\r\n            img.src = props.imageUrl;\r\n\r\n            img.onload = () => {\r\n                ctx.value?.drawImage(img, 0, 0, width.value, height.value);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction bindEvents() {\r\n    if (!canvas.value) return;\r\n\r\n    canvas.value.addEventListener(\"mousedown\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mousemove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value,addEventListener(\"mouseup\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            calcArea();\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchstart\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            emits(\"scratchStart\");\r\n            emits(\"touchStart\");\r\n            isScratch.value = true;\r\n            drawArc(e);\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchmove\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            if (isScratch.value == true) {\r\n                drawArc(e);\r\n            }\r\n        }\r\n    });\r\n\r\n    canvas.value.addEventListener(\"touchend\", (e) => {\r\n        if (!isScratchComplete.value) {\r\n            isScratch.value = false;\r\n            emits(\"scratchEnd\");\r\n            emits(\"touchEnd\");\r\n            calcArea();\r\n        }\r\n    });\r\n}\r\n\r\nfunction drawArc(e: MouseEvent | TouchEvent) {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    const canvasPos = canvas.value.getBoundingClientRect();\r\n    const pageScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n    const pageScrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n    let mouseX = 0;\r\n    let mouseY = 0;\r\n\r\n    if (e instanceof MouseEvent) {\r\n        mouseX = e.pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.pageY - canvasPos.top - pageScrollTop;\r\n    } else if(e instanceof TouchEvent) {\r\n        mouseX = e.targetTouches[0].pageX - canvasPos.left - pageScrollLeft;\r\n        mouseY = e.targetTouches[0].pageY - canvasPos.top - pageScrollTop;\r\n    } else {\r\n        return;\r\n    }\r\n\r\n    ctx.value.globalCompositeOperation = \"destination-out\";\r\n    ctx.value.beginPath();\r\n    ctx.value.fillStyle = \"white\";\r\n    ctx.value.moveTo(mouseX, mouseY);\r\n    ctx.value.arc(mouseX, mouseY, props.scratchRadius, 0, 3 * Math.PI);\r\n    ctx.value.fill();\r\n}\r\n\r\nfunction reset() {\r\n    console.log('JN - reset0');\r\n    width.value = 0;\r\n    console.log('JN - reset1');\r\n    height.value = 0;\r\n    console.log('JN - reset2');\r\n    nextTick(() => {\r\n        console.log('JN - reset3');\r\n        init();\r\n        console.log('JN - reset4');\r\n        isScratchComplete.value = false;\r\n    });\r\n}\r\n\r\nfunction calcArea() {\r\n    if (!canvas.value || !ctx.value) return;\r\n\r\n    let myImg = ctx.value.getImageData(0, 0, width.value, height.value);\r\n    let num = 0;\r\n    let max = myImg.data.length / 4;\r\n    for (let i = 0; i < myImg.data.length; i+=4) {\r\n        if (myImg.data[i+3] == 0) {\r\n            num++;\r\n        }\r\n    }\r\n\r\n    if (num >= max * (props.scratchPercent / 100)) {\r\n        // canvas.value.remove();\r\n        ctx.value.clearRect(0, 0, width.value, height.value);\r\n        emits(\"ScratchAll\");\r\n        isScratchComplete.value = true;\r\n    }\r\n}\r\n\r\nfunction onResize() {\r\n    ctx.value = null;\r\n    init();\r\n}\r\n\r\nonMounted(() => {\r\n    init();\r\n    window.addEventListener(\"resize\", onResize);\r\n});\r\n\r\nonUnmounted(() => {\r\n    window.removeEventListener(\"resize\", onResize);\r\n});\r\n\r\ndefineExpose({\r\n    reset\r\n});\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.scratchBox {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n\r\n.slot {\r\n    display: inline-block;\r\n    overflow: hidden;\r\n}\r\n\r\n.canvas {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n</style>","import script from \"./ScratchComponents.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchComponents.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchComponents.vue?vue&type=style&index=0&id=c7baf9be&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c7baf9be\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"scratch-setting\" }\nconst _hoisted_2 = { class: \"input-box\" }\n\nimport { ref } from 'vue';\r\nimport { useCounterStore } from '@/store/counter';\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'ScratchSettingComponents',\n  setup(__props) {\n\r\nconst scratchSettingValue = ref('');\r\n\r\nconst prizeArray = ref<Array<string>>([]);\r\n\r\n\r\nfunction addPrize() {\r\n    if (scratchSettingValue.value != '') {\r\n        console.log('JN - ', scratchSettingValue.value);\r\n        const stringArr = scratchSettingValue.value.split(\"\\n\");\r\n        console.log('JN - ', stringArr);\r\n        prizeArray.value.push(...stringArr);\r\n        console.log('JN - ', prizeArray.value);\r\n        scratchSettingValue.value = '';\r\n    }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createElementVNode(\"textarea\", {\n        type: \"text\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((scratchSettingValue).value = $event))\n      }, null, 512), [\n        [_vModelText, scratchSettingValue.value]\n      ]),\n      _createElementVNode(\"button\", { onClick: addPrize }, \"+\")\n    ]),\n    _createElementVNode(\"ul\", null, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prizeArray.value, (item, index) => {\n        return (_openBlock(), _createElementBlock(\"li\", { key: index }, _toDisplayString(item), 1))\n      }), 128))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"scratch-setting\">\r\n        <div class=\"input-box\">\r\n            <textarea type=\"text\" v-model=\"scratchSettingValue\"></textarea>    \r\n            <button @click=\"addPrize\">+</button>\r\n        </div>\r\n        <ul>\r\n            <li v-for=\"(item, index) in prizeArray\" :key=\"index\">{{ item }}</li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref } from 'vue';\r\nimport { useCounterStore } from '@/store/counter';\r\n\r\nconst scratchSettingValue = ref('');\r\n\r\nconst prizeArray = ref<Array<string>>([]);\r\n\r\n\r\nfunction addPrize() {\r\n    if (scratchSettingValue.value != '') {\r\n        console.log('JN - ', scratchSettingValue.value);\r\n        const stringArr = scratchSettingValue.value.split(\"\\n\");\r\n        console.log('JN - ', stringArr);\r\n        prizeArray.value.push(...stringArr);\r\n        console.log('JN - ', prizeArray.value);\r\n        scratchSettingValue.value = '';\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scratch-setting {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.input-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n</style>","import script from \"./ScratchSettingComponents.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ScratchSettingComponents.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ScratchSettingComponents.vue?vue&type=style&index=0&id=136a3bf7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-136a3bf7\"]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + \"about\" + \".\" + \"d8dc116d\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + \"about\" + \".\" + \"7a9ae0ac\" + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"scratch-project:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/vue3_test/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"594\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkscratch_project\"] = self[\"webpackChunkscratch_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1286); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","_hoisted_1","class","_ctx","_cache","$props","$setup","$data","$options","_component_HelloWorld","_resolveComponent","_openBlock","_createElementBlock","_createElementVNode","alt","src","_imports_0","_createVNode","msg","_toDisplayString","_createStaticVNode","HelloWorld","Vue","constructor","args","_defineProperty","__decorate","Options","props","String","HomeView","components","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_defineComponent","__name","setup","__props","imageUrl","ref","ImagePath","backGroundImage_letizia_2","scratchRadius","window","innerWidth","prizeSettingArray","prizeArray","nowCurrent","prizeRecordArray","prize","scratchCard","isScratchComplete","isSettingOpen","settingValue","sliderValue","header","hiddenOnCollapse","component","ScratchSettingComponents","scratchStart","console","log","scratchEnd","scratchAll","value","push","touchStart","document","body","style","overflow","touchEnd","reset","getRandomInt","length","removePrice","splice","resetPrice","structuredClone","removeRecord","prizeAdd","resArray","split","filter","item","openSetting","min","max","Math","floor","random","onBeforeMount","currentIndex","Number","title","width","height","_unref","backGroundImage_letizia_1","ScratchComponents","ref_key","scratchPercent","maskColor","fillStyle","font","text","radius","onScratchStart","onScratchEnd","onScratchAll","onTouchStart","onTouchEnd","default","_withCtx","_","backgroundColor","onClick","_Transition","name","_withDirectives","VueSlider","_mergeProps","modelValue","$event","dotSize","type","_vModelText","_Fragment","_renderList","index","key","_vShow","_normalizeStyle","backGroundImage_rekarita_1","backGroundImage_rekarita_2","async","fileToPngBase64","file","maxSide","dataUrl","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","img","image","Image","scale","round","canvas","createElement","ctx","getContext","clearRect","drawImage","toDataURL","isBackgroundImage","Boolean","emits","expose","__expose","emit","__emit","base64","fileInput","onSelect","e","input","target","files","clear","accept","onChange","_createCommentVNode","useScratchConfig","defineStore","isModified","setting","backgroundImage","maskImage","scratchRatio","prizeFontSize","prizeFontColor","backgroundWhiteOpacity","fetchSheetValues","opts","spreadsheetId","range","apiKey","valueRenderOption","dateTimeRenderOption","majorDimension","signal","base","encodeURIComponent","url","res","fetch","ok","catch","Error","status","statusText","json","values","PublicParam","exportArray2DToXlsx","rows","filename","sheetName","wb","XLSX","book_new","ws","aoa_to_sheet","headers","map","slice","autoFitSheet","book_append_sheet","colCount","data","colWidths","Array","fill","c","r","cell","txt","textVisualWidth","cols","wch","charVisualWidth","ch","cp","codePointAt","w","from","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","prizeSettingCountArray","prizeNowCountArray","nowPrize","isScratchSettingOpen","scratchConfig","scratchSettingValue","isScratchSettingTopImgShow","bgImgUpload","maskImgUpload","sheetData","onUseSheetData","userIndex","useCount","userName","scratchCount","nextSelectableIndex","applyScratchSetting","alert","resetScratchSetting","getImageBase64","total","weights","row","i","u","resCountArray","prizeCountUpdate","count","checkInput","isNaN","isItemSetting","refreshGoogleSheetData","apikey","reconcileUsersFromSheet","getGoogleSheetData","resData","isFinished","onClickUser","checked","userData","next","every","start","list","step","parseSheet","nameIdx","countIdx","trim","raw","n","cnt","isFinite","x","sheetRows","prevUsers","latest","queues","Map","forEach","q","get","set","nextUsers","oldIdx","shift","old","exportXLSX","outputArr","s","m","match","onMounted","href","googleSheetsUrl","disabled","color","fontSize","onBlur","weight","opacity","maxWidth","fontWeight","_vModelCheckbox","_createTextVNode","UploadImageToBase64Components","onImageOutput","ChromePicker","foundItem","find","obj","routes","path","ScratchView","ScratchViewNew","ScratchView2","ScratchViewNew2","router","createRouter","history","createWebHashHistory","process","app","createApp","App","use","createPinia","mount","require","slot","isScratch","init","initCanvas","nextTick","initDraw","bindEvents","offsetWidth","offsetHeight","globalAlpha","beginPath","moveTo","arcTo","lineTo","closePath","clip","fillRect","textWidth","measureText","y","fillText","addEventListener","drawArc","calcArea","canvasPos","getBoundingClientRect","pageScrollTop","documentElement","scrollTop","pageScrollLeft","scrollLeft","mouseX","mouseY","MouseEvent","pageX","left","pageY","top","TouchEvent","targetTouches","globalCompositeOperation","arc","PI","myImg","getImageData","num","onResize","onUnmounted","removeEventListener","borderRadius","_renderSlot","$slots","border","addPrize","stringArr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","getter","__esModule","d","a","definition","o","defineProperty","enumerable","f","chunkId","all","reduce","promises","miniCssF","g","globalThis","this","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","prev","event","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","linkTag","rel","nonce","onLinkComplete","errorType","realHref","err","code","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","then","installedChunks","installedChunkData","promise","error","loadingEnded","realSrc","message","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}